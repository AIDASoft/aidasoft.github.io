<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DD4hep: /afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDG4/src/Geant4Exec.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="DD4hep.css" rel="stylesheet" type="text/css" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 100px;">
  <td id="projectlogo"><img alt="Logo" src="../doc/LaTex/CERN-logo.png" height="72"/></td>
  <td id="projectlogo"><img alt="Logo" src="DD4hep-AIDA-logo.png" height="72"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectbrief">DD4hep - The AIDA detector description toolkit for high energy physics experiments</div>
   <div id="projectname">DD4hep
   &#160;<span id="projectnumber">Rev:exported</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dd77d67ee2e5674e427bb81b037d3ccd.html">DDG4</a></li><li class="navelem"><a class="el" href="dir_ef4b2080ac7d0e36bbd21c102c4c465e.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Geant4Exec.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_geant4_exec_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// $Id: $</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//==========================================================================</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//  AIDA Detector description implementation for LCD</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//--------------------------------------------------------------------------</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Copyright (C) Organisation europeenne pour la Recherche nucleaire (CERN)</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// All rights reserved.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// For the licensing terms see $DD4hepINSTALL/LICENSE.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// For the list of contributors see $DD4hepINSTALL/doc/CREDITS.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Author     : M.Frank</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//==========================================================================</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// Framework include files</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_printout_8h.html">DD4hep/Printout.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_primitives_8h.html">DD4hep/Primitives.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_instance_count_8h.html">DD4hep/InstanceCount.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_handle_8h.html">DD4hep/Handle.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_run_action_8h.html">DDG4/Geant4RunAction.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_event_action_8h.html">DDG4/Geant4EventAction.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_stepping_action_8h.html">DDG4/Geant4SteppingAction.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_tracking_action_8h.html">DDG4/Geant4TrackingAction.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_stacking_action_8h.html">DDG4/Geant4StackingAction.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_generator_action_8h.html">DDG4/Geant4GeneratorAction.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_user_initialization_8h.html">DDG4/Geant4UserInitialization.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_detector_construction_8h.html">DDG4/Geant4DetectorConstruction.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_physics_list_8h.html">DDG4/Geant4PhysicsList.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_u_i_manager_8h.html">DDG4/Geant4UIManager.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_kernel_8h.html">DDG4/Geant4Kernel.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_random_8h.html">DDG4/Geant4Random.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// Geant4 include files</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;G4Version.hh&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;G4UserRunAction.hh&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;G4UserEventAction.hh&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;G4UserTrackingAction.hh&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;G4UserStackingAction.hh&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;G4UserSteppingAction.hh&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;G4VUserPhysicsList.hh&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;G4VModularPhysicsList.hh&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;G4VUserPrimaryGeneratorAction.hh&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;G4VUserActionInitialization.hh&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;G4VUserDetectorConstruction.hh&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// C/C++ include files</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  G4Mutex action_mutex=G4MUTEX_INITIALIZER;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_d_d4hep.html">DD4hep</a> {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keyword">namespace </span>Simulation {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">   61</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl</a> {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a447b2bee9267559ffef742eef84fb1cc">   63</a></span>&#160;      <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl&lt;T&gt;</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a447b2bee9267559ffef742eef84fb1cc">Base</a>;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">   64</a></span>&#160;      <a class="code" href="class_t.html">T</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#addf2b3ddaa1263ae4213a5189f7859b5">   65</a></span>&#160;      <span class="keyword">mutable</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#addf2b3ddaa1263ae4213a5189f7859b5">m_activeContext</a>;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#aeb88368d61e8f34a82e6acc1c8794521">   67</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#aeb88368d61e8f34a82e6acc1c8794521">SequenceHdl</a>()</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        : m_sequence(0), m_activeContext(0) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      }</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6a75a0ed136c559a8187ebcf6713a014">   70</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6a75a0ed136c559a8187ebcf6713a014">SequenceHdl</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <a class="code" href="class_t.html">T</a>* seq) : m_sequence(0), m_activeContext(ctxt)  {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#afe240bb5982f0cdaedc001a3cc1a50da">_aquire</a>(seq);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      }</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#af01dc42f94e773bcd01406fbcc178f4d">   73</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#af01dc42f94e773bcd01406fbcc178f4d">~SequenceHdl</a>() {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ad76a439f79bc1844bbcb33e3395c8454">_release</a>();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      }</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#afe240bb5982f0cdaedc001a3cc1a50da">   76</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#afe240bb5982f0cdaedc001a3cc1a50da">_aquire</a>(<a class="code" href="class_t.html">T</a>* <a class="code" href="_volumes_8cpp.html#a17ca6bfc8040d695d3cada22a4763d40">s</a>) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="struct_d_d4hep_1_1_instance_count.html#aaaf8d46a477863acc69b65afbab96b22">InstanceCount::increment</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        m_sequence = <a class="code" href="_volumes_8cpp.html#a17ca6bfc8040d695d3cada22a4763d40">s</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span> ( m_sequence ) m_sequence-&gt;addRef();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      }</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">   81</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt)   {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        m_activeContext = ctxt;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">if</span> ( m_sequence )  {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;          m_sequence-&gt;updateContext(ctxt);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      }</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ad76a439f79bc1844bbcb33e3395c8454">   87</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ad76a439f79bc1844bbcb33e3395c8454">_release</a>() {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="namespace_d_d4hep.html#a80530363d2dcb2990f1ebacbfb69b789">releasePtr</a>(m_sequence);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="struct_d_d4hep_1_1_instance_count.html#a5053617b5c5083ea3b7d8f306c9a3933">InstanceCount::decrement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      }</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#acccabdfcac241cb5c7efdf92e549ded9">   91</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#acccabdfcac241cb5c7efdf92e549ded9">context</a>()<span class="keyword"> const  </span>{  </div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#addf2b3ddaa1263ae4213a5189f7859b5">m_activeContext</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      }</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">   94</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">Geant4Kernel</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>()<span class="keyword">  const  </span>{</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#acccabdfcac241cb5c7efdf92e549ded9">context</a>()-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a4374827bf9949372b0e79fb952b186d7">kernel</a>();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      }</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a4672c0e560cdc353b48c8025c9d3546f">   97</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a4672c0e560cdc353b48c8025c9d3546f">configureFiber</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt)   {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">if</span> ( m_sequence )  {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;          m_sequence-&gt;configureFiber(ctxt);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      }</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f817d21c75a96ad450c35fd4748d762">  102</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f817d21c75a96ad450c35fd4748d762">createClientContext</a>(<span class="keyword">const</span> G4Run* run)   {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_run.html">Geant4Run</a>* r = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_run.html">Geant4Run</a>(run);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        m_activeContext-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a31bdc70c285a758ad7563d5c54a5072a">setRun</a>(r);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      }</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a0f4ca2107e2527947620c788fe60bc9a">  106</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a0f4ca2107e2527947620c788fe60bc9a">destroyClientContext</a>(<span class="keyword">const</span> G4Run*)   {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_run.html">Geant4Run</a>* r = m_activeContext-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#afa68af67dfcc2bcdb1de8fb345254e07">runPtr</a>();</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> ( r )  {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          m_activeContext-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a31bdc70c285a758ad7563d5c54a5072a">setRun</a>(0);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;          <a class="code" href="namespace_d_d4hep.html#a14ac1cc5b1c931da327a5b2ed57fdd85">deletePtr</a>(r);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      }</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a45cfca253c17c4a89ef63d9367d4c9a4">  113</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a45cfca253c17c4a89ef63d9367d4c9a4">createClientContext</a>(<span class="keyword">const</span> G4Event* evt)   {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_event.html">Geant4Event</a>* <a class="code" href="_volumes_8cpp.html#a8a9a1f93e9b09afccaec215310e64142">e</a> = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_event.html">Geant4Event</a>(evt,<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html#a76e4bbadf0c58d9f6ee05decdd200fe6">Geant4Random::instance</a>());</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        m_activeContext-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#aa0bb03714fc9c82ed1d07ca804b73553">setEvent</a>(e);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      }</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a8134448bdd2dd9d0e2f5d5834aa6a60f">  117</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a8134448bdd2dd9d0e2f5d5834aa6a60f">destroyClientContext</a>(<span class="keyword">const</span> G4Event*)   {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_event.html">Geant4Event</a>* <a class="code" href="_volumes_8cpp.html#a8a9a1f93e9b09afccaec215310e64142">e</a> = m_activeContext-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a2f26e1b3fecec8178880ce8e379f6531">eventPtr</a>();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">if</span> ( e )  {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;          m_activeContext-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#aa0bb03714fc9c82ed1d07ca804b73553">setEvent</a>(0);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;          <a class="code" href="namespace_d_d4hep.html#a14ac1cc5b1c931da327a5b2ed57fdd85">deletePtr</a>(e);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    };</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html">Geant4UserRunAction</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html">Geant4UserEventAction</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html">  135</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html">Geant4UserRunAction</a> :</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_g4_user_run_action.html">G4UserRunAction</a>,</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl</a>&lt;Geant4RunActionSequence&gt;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a6726ebc3d952df848fc4e8288d3bb6c0">  140</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html">Geant4UserEventAction</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a6726ebc3d952df848fc4e8288d3bb6c0">eventAction</a>;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a4619583991588e3f0e3d51da6082bac3">  142</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a4619583991588e3f0e3d51da6082bac3">Geant4UserRunAction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_run_action_sequence.html">Geant4RunActionSequence</a>* seq)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        : <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">Base</a>(ctxt, seq), eventAction(0)  {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(ctxt);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a4672c0e560cdc353b48c8025c9d3546f">configureFiber</a>(ctxt);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      }</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a5b3bda44a46cc253d0c1d343d4f28738">  148</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a5b3bda44a46cc253d0c1d343d4f28738">~Geant4UserRunAction</a>() {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> BeginOfRunAction(<span class="keyword">const</span> G4Run* run);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> EndOfRunAction(<span class="keyword">const</span> G4Run* run);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    };</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html">  162</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html">Geant4UserEventAction</a> :</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_g4_user_event_action.html">G4UserEventAction</a>, </div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl</a>&lt;Geant4EventActionSequence&gt;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ac97fb9f30ba15e30d50897aabc0ad004">  167</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html">Geant4UserRunAction</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ac97fb9f30ba15e30d50897aabc0ad004">runAction</a>;</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#a5d519de614318d3277d06587b93bde92">  169</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#a5d519de614318d3277d06587b93bde92">Geant4UserEventAction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_event_action_sequence.html">Geant4EventActionSequence</a>* seq)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        : <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">Base</a>(ctxt, seq), runAction(0)  {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(ctxt);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a4672c0e560cdc353b48c8025c9d3546f">configureFiber</a>(ctxt);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      }</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ac79b641d26fd4e4cbecc99460baf4d4f">  175</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ac79b641d26fd4e4cbecc99460baf4d4f">~Geant4UserEventAction</a>() {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> BeginOfEventAction(<span class="keyword">const</span> G4Event* evt);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> EndOfEventAction(<span class="keyword">const</span> G4Event* evt);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    };</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html">  189</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html">Geant4UserTrackingAction</a> :</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_g4_user_tracking_action.html">G4UserTrackingAction</a>,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl</a>&lt;Geant4TrackingActionSequence&gt;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#acee865c27f15ffd9f2d4c386f9ab7e8e">  195</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#acee865c27f15ffd9f2d4c386f9ab7e8e">Geant4UserTrackingAction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_tracking_action_sequence.html">Geant4TrackingActionSequence</a>* seq)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        : <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">Base</a>(ctxt, seq) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(ctxt);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a4672c0e560cdc353b48c8025c9d3546f">configureFiber</a>(ctxt);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      }</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#a2c2e499d1ac638f2519fa8f6f221bdc0">  201</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#a2c2e499d1ac638f2519fa8f6f221bdc0">~Geant4UserTrackingAction</a>() {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      }</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#a3c44bbbed885071eb14c08274e1b32a2">  204</a></span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#a3c44bbbed885071eb14c08274e1b32a2">PreUserTrackingAction</a>(<span class="keyword">const</span> G4Track* trk) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;context()-&gt;kernel().setTrackMgr(fpTrackingManager);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;begin(trk);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      }</div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#ab5aeccf26ec4213e75bbdf6927bc7ee6">  209</a></span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#ab5aeccf26ec4213e75bbdf6927bc7ee6">PostUserTrackingAction</a>(<span class="keyword">const</span> G4Track* trk) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;end(trk);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;context()-&gt;kernel().setTrackMgr(0);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    };</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html">  221</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html">Geant4UserStackingAction</a> :</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_g4_user_stacking_action.html">G4UserStackingAction</a>,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl</a>&lt;Geant4StackingActionSequence&gt;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#a34c062c0fa5934878f532ef10f9c96d5">  227</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#a34c062c0fa5934878f532ef10f9c96d5">Geant4UserStackingAction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_stacking_action_sequence.html">Geant4StackingActionSequence</a>* seq)</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        : <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">Base</a>(ctxt, seq) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(ctxt);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a4672c0e560cdc353b48c8025c9d3546f">configureFiber</a>(ctxt);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      }</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#a023f102d73420bfab08e6a866ea03dc7">  233</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#a023f102d73420bfab08e6a866ea03dc7">~Geant4UserStackingAction</a>() {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      }</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#ae8abf4d3f1981b66637e9ceffbc9c604">  236</a></span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#ae8abf4d3f1981b66637e9ceffbc9c604">NewStage</a>() {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;newStage();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      }</div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#a565c100df77dc0bdfe343a424285cdab">  240</a></span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#a565c100df77dc0bdfe343a424285cdab">PrepareNewEvent</a>() {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;prepare();</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    };</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html">  252</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html">Geant4UserGeneratorAction</a> : </div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_g4_v_user_primary_generator_action.html">G4VUserPrimaryGeneratorAction</a>,</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl</a>&lt;Geant4GeneratorActionSequence&gt; </div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html#afc51c8fd156ae7c8a344d1378c2b2026">  258</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html#afc51c8fd156ae7c8a344d1378c2b2026">Geant4UserGeneratorAction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence.html">Geant4GeneratorActionSequence</a>* seq)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        : <a class="code" href="class_g4_v_user_primary_generator_action.html">G4VUserPrimaryGeneratorAction</a>(), <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">Base</a>(ctxt, seq) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(ctxt);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a4672c0e560cdc353b48c8025c9d3546f">configureFiber</a>(ctxt);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      }</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html#a4fa904700f82d5bcce7a2c5d774d529f">  264</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html#a4fa904700f82d5bcce7a2c5d774d529f">~Geant4UserGeneratorAction</a>() {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> GeneratePrimaries(G4Event* event);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    };</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html">  276</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html">Geant4UserSteppingAction</a> :</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_g4_user_stepping_action.html">G4UserSteppingAction</a>,</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl</a>&lt;Geant4SteppingActionSequence&gt;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html#a846e10589493c89d4ed2081312d17a1d">  282</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html#a846e10589493c89d4ed2081312d17a1d">Geant4UserSteppingAction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence.html">Geant4SteppingActionSequence</a>* seq)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        : <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">Base</a>(ctxt, seq) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(ctxt);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a4672c0e560cdc353b48c8025c9d3546f">configureFiber</a>(ctxt);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      }</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html#a7c9e7f202db5ebf3300c1d2c6d9aa1d2">  288</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html#a7c9e7f202db5ebf3300c1d2c6d9aa1d2">~Geant4UserSteppingAction</a>() {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      }</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html#a459952dec8bab794c933b464471d7b60">  291</a></span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html#a459952dec8bab794c933b464471d7b60">UserSteppingAction</a>(<span class="keyword">const</span> G4Step* <a class="code" href="_volumes_8cpp.html#a17ca6bfc8040d695d3cada22a4763d40">s</a>) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        (*m_sequence)(<a class="code" href="_volumes_8cpp.html#a17ca6bfc8040d695d3cada22a4763d40">s</a>, fpSteppingManager);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    };</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html">  302</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html">Geant4UserDetectorConstruction</a> : </div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_g4_v_user_detector_construction.html">G4VUserDetectorConstruction</a>, </div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl</a>&lt;Geant4DetectorConstructionSequence&gt;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#ab099fe83f02b9f8ffdda9f0f21a01202">  307</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_context.html">Geant4DetectorConstructionContext</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#ab099fe83f02b9f8ffdda9f0f21a01202">m_ctxt</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#af1e3e857893be886738096501d5932f7">  310</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#af1e3e857893be886738096501d5932f7">Geant4UserDetectorConstruction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence.html">Geant4DetectorConstructionSequence</a>* seq)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        : <a class="code" href="class_g4_v_user_detector_construction.html">G4VUserDetectorConstruction</a>(), <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">Base</a>(ctxt, seq), </div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;          m_ctxt(ctxt-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>().lcdd(), this) </div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      }</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#a076334cddb22f1ca55027d6bc3a1aac9">  316</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#a076334cddb22f1ca55027d6bc3a1aac9">~Geant4UserDetectorConstruction</a>() {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> ConstructSDandField();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keyword">virtual</span> G4VPhysicalVolume* Construct();</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    };</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html">  330</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html">Geant4UserActionInitialization</a> : </div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_g4_v_user_action_initialization.html">G4VUserActionInitialization</a>, </div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">SequenceHdl</a>&lt;Geant4UserInitializationSequence&gt;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#ad5dad70e283015614959f397022c506a">  336</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#ad5dad70e283015614959f397022c506a">Geant4UserActionInitialization</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence.html">Geant4UserInitializationSequence</a>* seq)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        : <a class="code" href="class_g4_v_user_action_initialization.html">G4VUserActionInitialization</a>(), <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">Base</a>(ctxt, seq) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      }</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#a576b51911e71f7979dd327d8a76b1738">  340</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#a576b51911e71f7979dd327d8a76b1738">~Geant4UserActionInitialization</a>() {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> Build()  <span class="keyword">const</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> BuildForMaster()  <span class="keyword">const</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    };</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a42955d00dd5a101ec3e9594645eac6e5">  349</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a42955d00dd5a101ec3e9594645eac6e5">Geant4UserRunAction::BeginOfRunAction</a>(<span class="keyword">const</span> G4Run* run) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f817d21c75a96ad450c35fd4748d762">createClientContext</a>(run);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;begin-run&quot;</span>,(<span class="keyword">const</span> <span class="keywordtype">void</span>**)&amp;run);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a> ) <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;begin(run); <span class="comment">// Action not mandatory</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#acb9977f8d385a4f6523617dafea602bb">  356</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#acb9977f8d385a4f6523617dafea602bb">Geant4UserRunAction::EndOfRunAction</a>(<span class="keyword">const</span> G4Run* run) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a> ) <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;end(run); <span class="comment">// Action not mandatory</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;end-run&quot;</span>,(<span class="keyword">const</span> <span class="keywordtype">void</span>**)&amp;run);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a0f4ca2107e2527947620c788fe60bc9a">destroyClientContext</a>(run);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ab88c990f7010805421170eeb8f86ff86">  363</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ab88c990f7010805421170eeb8f86ff86">Geant4UserEventAction::BeginOfEventAction</a>(<span class="keyword">const</span> G4Event* evt) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;begin-event&quot;</span>,(<span class="keyword">const</span> <span class="keywordtype">void</span>**)&amp;evt);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a> ) <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;begin(evt); <span class="comment">// Action not mandatory</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#a5fe13da05fc37d5d69ed814b061cada0">  369</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#a5fe13da05fc37d5d69ed814b061cada0">Geant4UserEventAction::EndOfEventAction</a>(<span class="keyword">const</span> G4Event* evt) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a> ) <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;end(evt); <span class="comment">// Action not mandatory</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;end-event&quot;</span>,(<span class="keyword">const</span> <span class="keywordtype">void</span>**)&amp;evt);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a0f4ca2107e2527947620c788fe60bc9a">destroyClientContext</a>(evt);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html#a6e5a2cb71388c8358f6fa8679ca9cf69">  376</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html#a6e5a2cb71388c8358f6fa8679ca9cf69">Geant4UserGeneratorAction::GeneratePrimaries</a>(G4Event* event) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f817d21c75a96ad450c35fd4748d762">createClientContext</a>(event);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a> )  {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        (*m_sequence)(event);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;GeneratePrimaries: Panic! No action sequencer defined. &quot;</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                               <span class="stringliteral">&quot;No primary particles can be produced.&quot;</span>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#ab384a947bde0262d2c86f3f83099e4c4">  387</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#ab384a947bde0262d2c86f3f83099e4c4">Geant4UserDetectorConstruction::ConstructSDandField</a>()  {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      G4AutoLock protection_lock(&amp;action_mutex);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctx = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;context();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">Geant4Kernel</a>&amp;  krnl = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#ac503376a3f593e2c97dcf78fb289fe49">worker</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a6f7fb6760f8432658a837a65bb557fe5">Geant4Kernel::thread_self</a>(),<span class="keyword">true</span>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(krnl.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a6fe45521592147fe47d7cc545add8ca0">workerContext</a>());</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;constructField(&amp;m_ctxt);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;constructSensitives(&amp;m_ctxt);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(ctx);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#a93280a762663896986d38ece7afd1abc">  398</a></span>&#160;    G4VPhysicalVolume* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#a93280a762663896986d38ece7afd1abc">Geant4UserDetectorConstruction::Construct</a>()    {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="comment">// The G4TransportationManager is thread-local. </span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="comment">// Thus, regardless of whether the field class object is global or local </span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="comment">// to a certain volume, a field object must be assigned to G4FieldManager.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      G4AutoLock protection_lock(&amp;action_mutex);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">updateContext</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;context());</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;constructGeo(&amp;m_ctxt);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">if</span> ( 0 == m_ctxt.world )    {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;except(<span class="stringliteral">&quot;+++ Executing G4 detector construction did not result in a valid world volume!&quot;</span>);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordflow">return</span> m_ctxt.world;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#a40c0a5ec6b6620b04fd2f350c6b2d64d">  412</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#a40c0a5ec6b6620b04fd2f350c6b2d64d">Geant4UserActionInitialization::Build</a>()<span class="keyword">  const   </span>{</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      G4AutoLock protection_lock(&amp;action_mutex);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">Geant4Kernel</a>&amp;  krnl = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#ac503376a3f593e2c97dcf78fb289fe49">worker</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a6f7fb6760f8432658a837a65bb557fe5">Geant4Kernel::thread_self</a>(),<span class="keyword">true</span>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctx  = krnl.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a6fe45521592147fe47d7cc545add8ca0">workerContext</a>();</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a> )  {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* old = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;context();</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;info(<span class="stringliteral">&quot;+++ Executing Geant4UserActionInitialization::Build. &quot;</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                         <span class="stringliteral">&quot;Context:%p Kernel:%p [%ld]&quot;</span>, (<span class="keywordtype">void</span>*)ctx, (<span class="keywordtype">void</span>*)&amp;krnl, krnl.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a65e6428708ccaa9e0c4545b57437246d">id</a>());</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      </div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;updateContext(ctx);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;build();</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;updateContext(old);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="comment">// Set user generator action sequence. Not optional, since event context is defined inside</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html">Geant4UserGeneratorAction</a>* gen_action = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html">Geant4UserGeneratorAction</a>(ctx,krnl.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#aac0430d56fb1bc7db0b71720c49033a4">generatorAction</a>(<span class="keyword">false</span>));</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      SetUserAction(gen_action);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="comment">// Set the run action sequence. Not optional, since run context is defined/destroyed inside</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html">Geant4UserRunAction</a>* run_action = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html">Geant4UserRunAction</a>(ctx,krnl.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a5ce39c42386a93c9e446d8651495c11e">runAction</a>(<span class="keyword">false</span>));</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      SetUserAction(run_action);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="comment">// Set the event action sequence. Not optional, since event context is destroyed inside</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html">Geant4UserEventAction</a>* evt_action = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html">Geant4UserEventAction</a>(ctx,krnl.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#ab195f38387e12afbfcaccee77ec67845">eventAction</a>(<span class="keyword">false</span>));</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      run_action-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a6726ebc3d952df848fc4e8288d3bb6c0">eventAction</a> = evt_action;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      evt_action-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ac97fb9f30ba15e30d50897aabc0ad004">runAction</a> = run_action;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      SetUserAction(evt_action);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="comment">// Set the tracking action sequence</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_tracking_action_sequence.html">Geant4TrackingActionSequence</a>* trk_action = krnl.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a4ff088a46753f37dadc07e22a0436382">trackingAction</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">if</span> ( trk_action ) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html">Geant4UserTrackingAction</a>* action = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html">Geant4UserTrackingAction</a>(ctx, trk_action);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        SetUserAction(action);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="comment">// Set the stepping action sequence</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence.html">Geant4SteppingActionSequence</a>* stp_action = krnl.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a75a0fa686f783e175eedbd57ed3abbdc">steppingAction</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="keywordflow">if</span> ( stp_action ) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html">Geant4UserSteppingAction</a>* action = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html">Geant4UserSteppingAction</a>(ctx, stp_action);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        SetUserAction(action);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="comment">// Set the stacking action sequence</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_stacking_action_sequence.html">Geant4StackingActionSequence</a>* stk_action = krnl.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#ad9a53bd3401686eeeb711ef467b2a800">stackingAction</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">if</span> ( stk_action ) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html">Geant4UserStackingAction</a>* action = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html">Geant4UserStackingAction</a>(ctx, stk_action);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        SetUserAction(action);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      </div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#a3753e3e5ae78b1a9de8940d4f8057e4a">  462</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#a3753e3e5ae78b1a9de8940d4f8057e4a">Geant4UserActionInitialization::BuildForMaster</a>()<span class="keyword">  const  </span>{</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a> )   {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;info(<span class="stringliteral">&quot;+++ Executing Geant4UserActionInitialization::BuildForMaster....&quot;</span>);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">m_sequence</a>-&gt;buildMaster();</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_l_c_d_d_8h.html">DD4hep/LCDD.h</a>&quot;</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_plugins_8h.html">DD4hep/Plugins.h</a>&quot;</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_detector_construction_8h.html">DDG4/Geant4DetectorConstruction.h</a>&quot;</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_kernel_8h.html">DDG4/Geant4Kernel.h</a>&quot;</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_d_d4hep.html">DD4hep</a>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_d_d4hep_1_1_simulation.html">DD4hep::Simulation</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">// Geant4 include files</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor">#include &quot;G4RunManager.hh&quot;</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="preprocessor">#include &quot;G4PhysListFactory.hh&quot;</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="class_geant4_compatibility.html">  484</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_geant4_compatibility.html">Geant4Compatibility</a> {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="class_geant4_compatibility.html#a8dc4d9bd93a45cb3524b317ba8cdbc8e">  486</a></span>&#160;  <a class="code" href="class_geant4_compatibility.html#a8dc4d9bd93a45cb3524b317ba8cdbc8e">Geant4Compatibility</a>() {}</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence.html">Geant4DetectorConstructionSequence</a>* buildDefaultDetectorConstruction(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">Geant4Kernel</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;};</div><div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="class_geant4_compatibility.html#abe1c52fe3962756ab59bc3cdde7edca2">  489</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence.html">Geant4DetectorConstructionSequence</a>* <a class="code" href="class_geant4_compatibility.html#abe1c52fe3962756ab59bc3cdde7edca2">Geant4Compatibility::buildDefaultDetectorConstruction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">Geant4Kernel</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>)  {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">Geant4Action</a>* cr;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction.html">Geant4DetectorConstruction</a>* det_cr;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctx = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a6fe45521592147fe47d7cc545add8ca0">workerContext</a>();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence.html">Geant4DetectorConstructionSequence</a>* seq = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a4dba304abe94e83eaef9c22aa196454b">detectorConstruction</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="namespace_d_d4hep.html#a6d434af620a49074f3d86d05a04b6073">printout</a>(<a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42ac24ff9a0f663cd47b4e4e37a977dff02">WARNING</a>, <span class="stringliteral">&quot;Geant4Exec&quot;</span>, <span class="stringliteral">&quot;+++ Building default Geant4DetectorConstruction for single threaded compatibility.&quot;</span>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">// Attach first the geometry converter from DD4hep to Geant4</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  cr = PluginService::Create&lt;Geant4Action*&gt;(<span class="stringliteral">&quot;Geant4DetectorGeometryConstruction&quot;</span>,ctx,string(<span class="stringliteral">&quot;ConstructGeometry&quot;</span>));</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  det_cr = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction.html">Geant4DetectorConstruction</a>*<span class="keyword">&gt;</span>(cr);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> ( det_cr ) </div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    seq-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence.html#a883d0336b5983474af9479c03e90a35b">adopt</a>(det_cr);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Panic! Failed to build Geant4DetectorGeometryConstruction.&quot;</span>);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// Attach the sensitive detector manipulator:</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  cr = PluginService::Create&lt;Geant4Action*&gt;(<span class="stringliteral">&quot;Geant4DetectorSensitivesConstruction&quot;</span>,ctx,string(<span class="stringliteral">&quot;ConstructSensitives&quot;</span>));</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  det_cr = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction.html">Geant4DetectorConstruction</a>*<span class="keyword">&gt;</span>(cr);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">if</span> ( det_cr )</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    seq-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence.html#a883d0336b5983474af9479c03e90a35b">adopt</a>(det_cr);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Panic! Failed to build Geant4DetectorSensitivesConstruction.&quot;</span>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">return</span> seq;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#a68d70832e5acb1c074ce12cae898af09">  514</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#a68d70832e5acb1c074ce12cae898af09">Geant4Exec::configure</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">Geant4Kernel</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html">Geometry::LCDD</a>&amp; lcdd = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#ad58adb3734f2701198b8915a80cf4cdc">lcdd</a>();</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctx = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a6fe45521592147fe47d7cc545add8ca0">workerContext</a>();</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html">Geant4Random</a>* rndm = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html#a76e4bbadf0c58d9f6ee05decdd200fe6">Geant4Random::instance</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  </div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> ( !rndm )  {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    rndm = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html">Geant4Random</a>(ctx, <span class="stringliteral">&quot;Geant4Random&quot;</span>);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    rndm-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html#a31f43f8b61c1eacccac4d89945e97f6b">initialize</a>();</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html#a544fa42f6ae0d64697e366da5e1297b2">Geant4Random::setMainInstance</a>(rndm);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;configure&quot;</span>,0);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// Construct the default run manager</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  G4RunManager&amp; runManager = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#aa01093467efb9b3a4f9179ba22ac7899">runManager</a>();</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">// Check if the geometry was loaded</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span> (lcdd.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#a576c24cc18698eb14658466999fca65d">sensitiveDetectors</a>().size() &lt;= 1) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="namespace_d_d4hep.html#a6d434af620a49074f3d86d05a04b6073">printout</a>(<a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42ac24ff9a0f663cd47b4e4e37a977dff02">WARNING</a>, <span class="stringliteral">&quot;Geant4Exec&quot;</span>, <span class="stringliteral">&quot;+++ Only %d subdetectors present. &quot;</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;             <span class="stringliteral">&quot;You sure you loaded the geometry properly?&quot;</span>,</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;             <span class="keywordtype">int</span>(lcdd.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#a576c24cc18698eb14658466999fca65d">sensitiveDetectors</a>().size()));</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// Get the detector constructed</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence.html">Geant4DetectorConstructionSequence</a>* user_det = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a4dba304abe94e83eaef9c22aa196454b">detectorConstruction</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">if</span> ( 0 == user_det &amp;&amp; kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a7bd105526c0873bd9b24d3de41052d88">isMultiThreaded</a>() )   {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Panic! No valid detector construction sequencer present. [Mandatory MT]&quot;</span>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">if</span> ( 0 == user_det &amp;&amp; !kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a7bd105526c0873bd9b24d3de41052d88">isMultiThreaded</a>() )   {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    user_det = <a class="code" href="class_geant4_compatibility.html">Geant4Compatibility</a>().<a class="code" href="class_geant4_compatibility.html#abe1c52fe3962756ab59bc3cdde7edca2">buildDefaultDetectorConstruction</a>(kernel);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html">Geant4UserDetectorConstruction</a>* det_seq = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html">Geant4UserDetectorConstruction</a>(ctx,user_det);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  runManager.SetUserInitialization(det_seq);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="comment">// Get the physics list constructed</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence.html">Geant4PhysicsListActionSequence</a>* phys_seq = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a78cbddc837b75f151cf76b483b588fb1">physicsList</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">if</span> ( 0 == phys_seq )   {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordtype">string</span> phys_model = <span class="stringliteral">&quot;QGSP_BERT&quot;</span>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    phys_seq = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a78cbddc837b75f151cf76b483b588fb1">physicsList</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    phys_seq-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a7b1a0ac81a980bfa966a972caaaf5bfc">property</a>(<span class="stringliteral">&quot;extends&quot;</span>).<a class="code" href="class_d_d4hep_1_1_property.html#a77f106d95462fad8c938a9568941854e">set</a>(phys_model);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  G4VUserPhysicsList* physics = phys_seq-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence.html#a51078548bbd59fa3cb1447d2b2c6e2fb">extensionList</a>();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">if</span> (0 == physics) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Panic! No valid user physics list present!&quot;</span>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <a class="code" href="namespace_d_d4hep.html#a6d434af620a49074f3d86d05a04b6073">printout</a>(<a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2">INFO</a>, <span class="stringliteral">&quot;Geant4Exec&quot;</span>, <span class="stringliteral">&quot;+++ PhysicsList RangeCut: %f&quot;</span>, phys_seq-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence.html#a125a5acaa8915ef45d5832351ce3a9df">m_rangecut</a> );</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  physics-&gt;SetDefaultCutValue(phys_seq-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence.html#a125a5acaa8915ef45d5832351ce3a9df">m_rangecut</a>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  physics-&gt;SetCuts();</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42ad22cda76fc1b3a55bc359945db9c811c">DEBUG</a> == <a class="code" href="namespace_d_d4hep.html#abdbd705fe59353c8596e4ad5b7355814">printLevel</a>() ) physics-&gt;DumpCutValuesTable();</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  runManager.SetUserInitialization(physics);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// Construct the remaining user initialization in multi-threaded mode</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence.html">Geant4UserInitializationSequence</a>* user_init = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a04ba4fd85ae343b856d73dcb3cc0e9b3">userInitialization</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> ( 0 == user_init &amp;&amp; kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a7bd105526c0873bd9b24d3de41052d88">isMultiThreaded</a>() )   {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Panic! No valid user initialization sequencer present. [Mandatory MT]&quot;</span>);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( 0 == user_init &amp;&amp; !kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a7bd105526c0873bd9b24d3de41052d88">isMultiThreaded</a>() )  {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">// Use default actions registered to the default kernel. Will do the right thing...</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    user_init = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a04ba4fd85ae343b856d73dcb3cc0e9b3">userInitialization</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html">Geant4UserActionInitialization</a>* init = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html">Geant4UserActionInitialization</a>(ctx,user_init);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  runManager.SetUserInitialization(init);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#ae5486a8c520af49cbcc5d5ba4323e773">  583</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#ae5486a8c520af49cbcc5d5ba4323e773">Geant4Exec::initialize</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">Geant4Kernel</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="comment">// Construct the default run manager</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  G4RunManager&amp; runManager = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#aa01093467efb9b3a4f9179ba22ac7899">runManager</a>();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="comment">// Initialize G4 engine</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;initialize&quot;</span>,0);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  runManager.Initialize();</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#a006a064ae70aa7839d656ae7cdd8fc59">  595</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#a006a064ae70aa7839d656ae7cdd8fc59">Geant4Exec::run</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">Geant4Kernel</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="class_d_d4hep_1_1_property.html">Property</a>&amp; p = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a51c2d757b81b0c8ee31be77515d4d622">property</a>(<span class="stringliteral">&quot;UI&quot;</span>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordtype">string</span> value = p.<a class="code" href="class_d_d4hep_1_1_property.html#a5caa53b1278d2e91da0606fbb312f967">value</a>&lt;<span class="keywordtype">string</span>&gt;();</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;start&quot;</span>,0);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> ( !value.empty() )  {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">Geant4Action</a>* ui = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a9142233acf94a391ef926eee86b04c26">globalAction</a>(value);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span> ( ui )  {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_call.html">Geant4Call</a>* c = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_call.html">Geant4Call</a>*<span class="keyword">&gt;</span>(ui);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="keywordflow">if</span> ( c )  {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        (*c)(0);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;stop&quot;</span>,0);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      ui-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a9817394f45f311d2fb19f544e9a72e23">except</a>(<span class="stringliteral">&quot;++ Geant4Exec: Failed to start UI interface.&quot;</span>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">throw</span> runtime_error(<a class="code" href="namespace_d_d4hep.html#a643d67cdbd95090fbcc93cdd3e4a8ad8">format</a>(<span class="stringliteral">&quot;Geant4Exec&quot;</span>,<span class="stringliteral">&quot;++ Failed to locate UI interface %s.&quot;</span>,value.c_str()));</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordtype">long</span> nevt = kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a51c2d757b81b0c8ee31be77515d4d622">property</a>(<span class="stringliteral">&quot;NumEvents&quot;</span>).<a class="code" href="class_d_d4hep_1_1_property.html#a5caa53b1278d2e91da0606fbb312f967">value</a>&lt;<span class="keywordtype">long</span>&gt;();</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#aa01093467efb9b3a4f9179ba22ac7899">runManager</a>().BeamOn(nevt);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;stop&quot;</span>,0);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#a592e79f8ae539bd7491cd3af0572555c">  620</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#a592e79f8ae539bd7491cd3af0572555c">Geant4Exec::terminate</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">Geant4Kernel</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">kernel</a>) {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  kernel.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">executePhase</a>(<span class="stringliteral">&quot;terminate&quot;</span>,0);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div><div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_a04ba4fd85ae343b856d73dcb3cc0e9b3"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a04ba4fd85ae343b856d73dcb3cc0e9b3">DD4hep::Simulation::Geant4ActionContainer::userInitialization</a></div><div class="ttdeci">Geant4UserInitializationSequence * userInitialization(bool create)</div><div class="ttdoc">Access to the user initialization object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00163">Geant4ActionContainer.cpp:163</a></div></div>
<div class="ttc" id="_geant4_kernel_8h_html"><div class="ttname"><a href="_geant4_kernel_8h.html">Geant4Kernel.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction_html_a076334cddb22f1ca55027d6bc3a1aac9"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#a076334cddb22f1ca55027d6bc3a1aac9">DD4hep::Simulation::Geant4UserDetectorConstruction::~Geant4UserDetectorConstruction</a></div><div class="ttdeci">virtual ~Geant4UserDetectorConstruction()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00316">Geant4Exec.cpp:316</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_property_html"><div class="ttname"><a href="class_d_d4hep_1_1_property.html">DD4hep::Property</a></div><div class="ttdoc">The property class to assign options to actions. </div><div class="ttdef"><b>Definition:</b> <a href="_component_properties_8h_source.html#l00086">ComponentProperties.h:86</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence.html">DD4hep::Simulation::Geant4SteppingActionSequence</a></div><div class="ttdoc">Concrete implementation of the Geant4 stepping action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_stepping_action_8h_source.html#l00098">Geant4SteppingAction.h:98</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_a9817394f45f311d2fb19f544e9a72e23"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a9817394f45f311d2fb19f544e9a72e23">DD4hep::Simulation::Geant4Action::except</a></div><div class="ttdeci">void except(const char *fmt,...) const</div><div class="ttdoc">Support of exceptions: Print fatal message and throw runtime_error. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8cpp_source.html#l00258">Geant4Action.cpp:258</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_ad76a439f79bc1844bbcb33e3395c8454"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ad76a439f79bc1844bbcb33e3395c8454">DD4hep::Simulation::SequenceHdl::_release</a></div><div class="ttdeci">void _release()</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00087">Geant4Exec.cpp:87</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html">DD4hep::Simulation::Geant4UserActionInitialization</a></div><div class="ttdoc">Concrete implementation of the Geant4 user initialization action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00330">Geant4Exec.cpp:330</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html_ac503376a3f593e2c97dcf78fb289fe49"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#ac503376a3f593e2c97dcf78fb289fe49">DD4hep::Simulation::Geant4Kernel::worker</a></div><div class="ttdeci">Geant4Kernel &amp; worker(unsigned long thread_identifier, bool create_if=false)</div><div class="ttdoc">Access worker instance by it&amp;#39;s identifier. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8cpp_source.html#l00172">Geant4Kernel.cpp:172</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html_a6f7fb6760f8432658a837a65bb557fe5"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a6f7fb6760f8432658a837a65bb557fe5">DD4hep::Simulation::Geant4Kernel::thread_self</a></div><div class="ttdeci">static unsigned long int thread_self()</div><div class="ttdoc">Access thread identifier. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8cpp_source.html#l00154">Geant4Kernel.cpp:154</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_event_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_event.html">DD4hep::Simulation::Geant4Event</a></div><div class="ttdoc">User event context for DDG4. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8h_source.html#l00125">Geant4Context.h:125</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_l_c_d_d_html_a576c24cc18698eb14658466999fca65d"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#a576c24cc18698eb14658466999fca65d">DD4hep::Geometry::LCDD::sensitiveDetectors</a></div><div class="ttdeci">virtual const HandleMap &amp; sensitiveDetectors() const =0</div><div class="ttdoc">Accessor to the map of sub-detectors. </div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization_html_ad5dad70e283015614959f397022c506a"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#ad5dad70e283015614959f397022c506a">DD4hep::Simulation::Geant4UserActionInitialization::Geant4UserActionInitialization</a></div><div class="ttdeci">Geant4UserActionInitialization(Geant4Context *ctxt, Geant4UserInitializationSequence *seq)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00336">Geant4Exec.cpp:336</a></div></div>
<div class="ttc" id="_l_c_d_d_8h_html"><div class="ttname"><a href="_l_c_d_d_8h.html">LCDD.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization_html_a40c0a5ec6b6620b04fd2f350c6b2d64d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#a40c0a5ec6b6620b04fd2f350c6b2d64d">DD4hep::Simulation::Geant4UserActionInitialization::Build</a></div><div class="ttdeci">virtual void Build() const</div><div class="ttdoc">Build the actions for the worker thread. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00412">Geant4Exec.cpp:412</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence.html">DD4hep::Simulation::Geant4UserInitializationSequence</a></div><div class="ttdoc">Class to orchestrate a modular initializion of a multi- or single threaded Geant4 application...</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_user_initialization_8h_source.html#l00053">Geant4UserInitialization.h:53</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence_html_a125a5acaa8915ef45d5832351ce3a9df"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence.html#a125a5acaa8915ef45d5832351ce3a9df">DD4hep::Simulation::Geant4PhysicsListActionSequence::m_rangecut</a></div><div class="ttdeci">double m_rangecut</div><div class="ttdoc">global range cut for secondary productions </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_physics_list_8h_source.html#l00211">Geant4PhysicsList.h:211</a></div></div>
<div class="ttc" id="_geant4_user_initialization_8h_html"><div class="ttname"><a href="_geant4_user_initialization_8h.html">Geant4UserInitialization.h</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a14ac1cc5b1c931da327a5b2ed57fdd85"><div class="ttname"><a href="namespace_d_d4hep.html#a14ac1cc5b1c931da327a5b2ed57fdd85">DD4hep::deletePtr</a></div><div class="ttdeci">void deletePtr(T *&amp;p)</div><div class="ttdoc">Helper to delete objects from heap and reset the pointer. Saves many many lines of code...</div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8h_source.html#l00234">Primitives.h:234</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action_html_ac97fb9f30ba15e30d50897aabc0ad004"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ac97fb9f30ba15e30d50897aabc0ad004">DD4hep::Simulation::Geant4UserEventAction::runAction</a></div><div class="ttdeci">Geant4UserRunAction * runAction</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00167">Geant4Exec.cpp:167</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_a447b2bee9267559ffef742eef84fb1cc"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a447b2bee9267559ffef742eef84fb1cc">DD4hep::Simulation::SequenceHdl::Base</a></div><div class="ttdeci">SequenceHdl&lt; T &gt; Base</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00063">Geant4Exec.cpp:63</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_a75a0fa686f783e175eedbd57ed3abbdc"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a75a0fa686f783e175eedbd57ed3abbdc">DD4hep::Simulation::Geant4ActionContainer::steppingAction</a></div><div class="ttdeci">Geant4SteppingActionSequence * steppingAction(bool create)</div><div class="ttdoc">Access stepping action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00112">Geant4ActionContainer.cpp:112</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action_html_a459952dec8bab794c933b464471d7b60"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html#a459952dec8bab794c933b464471d7b60">DD4hep::Simulation::Geant4UserSteppingAction::UserSteppingAction</a></div><div class="ttdeci">virtual void UserSteppingAction(const G4Step *s)</div><div class="ttdoc">User stepping callback. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00291">Geant4Exec.cpp:291</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action_html_a5fe13da05fc37d5d69ed814b061cada0"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#a5fe13da05fc37d5d69ed814b061cada0">DD4hep::Simulation::Geant4UserEventAction::EndOfEventAction</a></div><div class="ttdeci">virtual void EndOfEventAction(const G4Event *evt)</div><div class="ttdoc">End-of-event callback. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00369">Geant4Exec.cpp:369</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action_html_a42955d00dd5a101ec3e9594645eac6e5"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a42955d00dd5a101ec3e9594645eac6e5">DD4hep::Simulation::Geant4UserRunAction::BeginOfRunAction</a></div><div class="ttdeci">virtual void BeginOfRunAction(const G4Run *run)</div><div class="ttdoc">Begin-of-run callback. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00349">Geant4Exec.cpp:349</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_a6a75a0ed136c559a8187ebcf6713a014"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6a75a0ed136c559a8187ebcf6713a014">DD4hep::Simulation::SequenceHdl::SequenceHdl</a></div><div class="ttdeci">SequenceHdl(Geant4Context *ctxt, T *seq)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00070">Geant4Exec.cpp:70</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html">DD4hep::Simulation::Geant4UserGeneratorAction</a></div><div class="ttdoc">Concrete implementation of the Geant4 generator action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00252">Geant4Exec.cpp:252</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_acccabdfcac241cb5c7efdf92e549ded9"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#acccabdfcac241cb5c7efdf92e549ded9">DD4hep::Simulation::SequenceHdl::context</a></div><div class="ttdeci">Geant4Context * context() const</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00091">Geant4Exec.cpp:91</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action_html_a4fa904700f82d5bcce7a2c5d774d529f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html#a4fa904700f82d5bcce7a2c5d774d529f">DD4hep::Simulation::Geant4UserGeneratorAction::~Geant4UserGeneratorAction</a></div><div class="ttdeci">virtual ~Geant4UserGeneratorAction()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00264">Geant4Exec.cpp:264</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_a0f4ca2107e2527947620c788fe60bc9a"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a0f4ca2107e2527947620c788fe60bc9a">DD4hep::Simulation::SequenceHdl::destroyClientContext</a></div><div class="ttdeci">void destroyClientContext(const G4Run *)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00106">Geant4Exec.cpp:106</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_property_html_a5caa53b1278d2e91da0606fbb312f967"><div class="ttname"><a href="class_d_d4hep_1_1_property.html#a5caa53b1278d2e91da0606fbb312f967">DD4hep::Property::value</a></div><div class="ttdeci">TYPE value() const</div><div class="ttdoc">Retrieve value. </div><div class="ttdef"><b>Definition:</b> <a href="_component_properties__inl_8h_source.html#l00063">ComponentProperties_inl.h:63</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_a4ff088a46753f37dadc07e22a0436382"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a4ff088a46753f37dadc07e22a0436382">DD4hep::Simulation::Geant4ActionContainer::trackingAction</a></div><div class="ttdeci">Geant4TrackingActionSequence * trackingAction(bool create)</div><div class="ttdoc">Access tracking action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00119">Geant4ActionContainer.cpp:119</a></div></div>
<div class="ttc" id="class_g4_user_stacking_action_html"><div class="ttname"><a href="class_g4_user_stacking_action.html">G4UserStackingAction</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00024">Geant4Classes.h:24</a></div></div>
<div class="ttc" id="struct_d_d4hep_1_1_instance_count_html_a5053617b5c5083ea3b7d8f306c9a3933"><div class="ttname"><a href="struct_d_d4hep_1_1_instance_count.html#a5053617b5c5083ea3b7d8f306c9a3933">DD4hep::InstanceCount::decrement</a></div><div class="ttdeci">static void decrement(T *)</div><div class="ttdoc">Decrement count according to type information. </div><div class="ttdef"><b>Definition:</b> <a href="_instance_count_8h_source.html#l00104">InstanceCount.h:104</a></div></div>
<div class="ttc" id="_handle_8h_html"><div class="ttname"><a href="_handle_8h.html">Handle.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence.html">DD4hep::Simulation::Geant4DetectorConstructionSequence</a></div><div class="ttdoc">Concrete basic implementation of the Geant4 detector construction sequencer. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_detector_construction_8h_source.html#l00133">Geant4DetectorConstruction.h:133</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_a6f817d21c75a96ad450c35fd4748d762"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f817d21c75a96ad450c35fd4748d762">DD4hep::Simulation::SequenceHdl::createClientContext</a></div><div class="ttdeci">void createClientContext(const G4Run *run)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00102">Geant4Exec.cpp:102</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence_html_a883d0336b5983474af9479c03e90a35b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_sequence.html#a883d0336b5983474af9479c03e90a35b">DD4hep::Simulation::Geant4DetectorConstructionSequence::adopt</a></div><div class="ttdeci">void adopt(Geant4DetectorConstruction *action)</div><div class="ttdoc">Add an actor responding to all callbacks. Sequence takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_detector_construction_8cpp_source.html#l00079">Geant4DetectorConstruction.cpp:79</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_ad9a53bd3401686eeeb711ef467b2a800"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#ad9a53bd3401686eeeb711ef467b2a800">DD4hep::Simulation::Geant4ActionContainer::stackingAction</a></div><div class="ttdeci">Geant4StackingActionSequence * stackingAction(bool create)</div><div class="ttdoc">Access stacking action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00126">Geant4ActionContainer.cpp:126</a></div></div>
<div class="ttc" id="class_g4_user_tracking_action_html"><div class="ttname"><a href="class_g4_user_tracking_action.html">G4UserTrackingAction</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00032">Geant4Classes.h:32</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action_html_a7c9e7f202db5ebf3300c1d2c6d9aa1d2"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html#a7c9e7f202db5ebf3300c1d2c6d9aa1d2">DD4hep::Simulation::Geant4UserSteppingAction::~Geant4UserSteppingAction</a></div><div class="ttdeci">virtual ~Geant4UserSteppingAction()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00288">Geant4Exec.cpp:288</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action_html_ae8abf4d3f1981b66637e9ceffbc9c604"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#ae8abf4d3f1981b66637e9ceffbc9c604">DD4hep::Simulation::Geant4UserStackingAction::NewStage</a></div><div class="ttdeci">virtual void NewStage()</div><div class="ttdoc">New-stage callback. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00236">Geant4Exec.cpp:236</a></div></div>
<div class="ttc" id="_geant4_random_8h_html"><div class="ttname"><a href="_geant4_random_8h.html">Geant4Random.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_exec_html_a592e79f8ae539bd7491cd3af0572555c"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#a592e79f8ae539bd7491cd3af0572555c">DD4hep::Simulation::Geant4Exec::terminate</a></div><div class="ttdeci">static int terminate(Geant4Kernel &amp;kernel)</div><div class="ttdoc">Terminate the application. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00620">Geant4Exec.cpp:620</a></div></div>
<div class="ttc" id="_volumes_8cpp_html_a17ca6bfc8040d695d3cada22a4763d40"><div class="ttname"><a href="_volumes_8cpp.html#a17ca6bfc8040d695d3cada22a4763d40">s</a></div><div class="ttdeci">TGeoShape * s</div><div class="ttdef"><b>Definition:</b> <a href="_volumes_8cpp_source.html#l00295">Volumes.cpp:295</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html">DD4hep::Simulation::Geant4UserRunAction</a></div><div class="ttdoc">Concrete implementation of the Geant4 run action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00135">Geant4Exec.cpp:135</a></div></div>
<div class="ttc" id="_volumes_8cpp_html_a8a9a1f93e9b09afccaec215310e64142"><div class="ttname"><a href="_volumes_8cpp.html#a8a9a1f93e9b09afccaec215310e64142">e</a></div><div class="ttdeci">return e</div><div class="ttdef"><b>Definition:</b> <a href="_volumes_8cpp_source.html#l00298">Volumes.cpp:298</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html">DD4hep::Simulation::SequenceHdl</a></div><div class="ttdoc">Sequence handler implementing common actions to all sequences. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00061">Geant4Exec.cpp:61</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_event_action_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_event_action_sequence.html">DD4hep::Simulation::Geant4EventActionSequence</a></div><div class="ttdoc">Concrete implementation of the Geant4 event action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_event_action_8h_source.html#l00115">Geant4EventAction.h:115</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_a45cfca253c17c4a89ef63d9367d4c9a4"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a45cfca253c17c4a89ef63d9367d4c9a4">DD4hep::Simulation::SequenceHdl::createClientContext</a></div><div class="ttdeci">void createClientContext(const G4Event *evt)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00113">Geant4Exec.cpp:113</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_abdbd705fe59353c8596e4ad5b7355814"><div class="ttname"><a href="namespace_d_d4hep.html#abdbd705fe59353c8596e4ad5b7355814">DD4hep::printLevel</a></div><div class="ttdeci">PrintLevel printLevel()</div><div class="ttdoc">Access the current printer level. </div><div class="ttdef"><b>Definition:</b> <a href="_printout_8cpp_source.html#l00303">Printout.cpp:303</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html_a4374827bf9949372b0e79fb952b186d7"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a4374827bf9949372b0e79fb952b186d7">DD4hep::Simulation::Geant4Context::kernel</a></div><div class="ttdeci">Geant4Kernel &amp; kernel() const</div><div class="ttdoc">Access to the kernel object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8h_source.html#l00198">Geant4Context.h:198</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization_html_a576b51911e71f7979dd327d8a76b1738"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#a576b51911e71f7979dd327d8a76b1738">DD4hep::Simulation::Geant4UserActionInitialization::~Geant4UserActionInitialization</a></div><div class="ttdeci">virtual ~Geant4UserActionInitialization()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00340">Geant4Exec.cpp:340</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_af01dc42f94e773bcd01406fbcc178f4d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#af01dc42f94e773bcd01406fbcc178f4d">DD4hep::Simulation::SequenceHdl::~SequenceHdl</a></div><div class="ttdeci">virtual ~SequenceHdl()</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00073">Geant4Exec.cpp:73</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html_a51c2d757b81b0c8ee31be77515d4d622"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a51c2d757b81b0c8ee31be77515d4d622">DD4hep::Simulation::Geant4Kernel::property</a></div><div class="ttdeci">Property &amp; property(const std::string &amp;name)</div><div class="ttdoc">Access single property. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8cpp_source.html#l00213">Geant4Kernel.cpp:213</a></div></div>
<div class="ttc" id="_geant4_u_i_manager_8h_html"><div class="ttname"><a href="_geant4_u_i_manager_8h.html">Geant4UIManager.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_tracking_action_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_tracking_action_sequence.html">DD4hep::Simulation::Geant4TrackingActionSequence</a></div><div class="ttdoc">Concrete implementation of the Geant4 tracking action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_tracking_action_8h_source.html#l00109">Geant4TrackingAction.h:109</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_a8134448bdd2dd9d0e2f5d5834aa6a60f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a8134448bdd2dd9d0e2f5d5834aa6a60f">DD4hep::Simulation::SequenceHdl::destroyClientContext</a></div><div class="ttdeci">void destroyClientContext(const G4Event *)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00117">Geant4Exec.cpp:117</a></div></div>
<div class="ttc" id="class_g4_v_user_action_initialization_html"><div class="ttname"><a href="class_g4_v_user_action_initialization.html">G4VUserActionInitialization</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action_html_a5d519de614318d3277d06587b93bde92"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#a5d519de614318d3277d06587b93bde92">DD4hep::Simulation::Geant4UserEventAction::Geant4UserEventAction</a></div><div class="ttdeci">Geant4UserEventAction(Geant4Context *ctxt, Geant4EventActionSequence *seq)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00169">Geant4Exec.cpp:169</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a643d67cdbd95090fbcc93cdd3e4a8ad8"><div class="ttname"><a href="namespace_d_d4hep.html#a643d67cdbd95090fbcc93cdd3e4a8ad8">DD4hep::format</a></div><div class="ttdeci">std::string format(const std::string &amp;src, const std::string &amp;fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="_printout_8cpp_source.html#l00247">Printout.cpp:247</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a80530363d2dcb2990f1ebacbfb69b789"><div class="ttname"><a href="namespace_d_d4hep.html#a80530363d2dcb2990f1ebacbfb69b789">DD4hep::releasePtr</a></div><div class="ttdeci">void releasePtr(T &amp;p)</div><div class="ttdoc">Helper to delete objects from heap and reset the pointer. Saves many many lines of code...</div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8h_source.html#l00316">Primitives.h:316</a></div></div>
<div class="ttc" id="class_g4_user_event_action_html"><div class="ttname"><a href="class_g4_user_event_action.html">G4UserEventAction</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00016">Geant4Classes.h:16</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_random_html_a544fa42f6ae0d64697e366da5e1297b2"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html#a544fa42f6ae0d64697e366da5e1297b2">DD4hep::Simulation::Geant4Random::setMainInstance</a></div><div class="ttdeci">static Geant4Random * setMainInstance(Geant4Random *ptr)</div><div class="ttdoc">Make this random generator instance the one used by Geant4. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_random_8cpp_source.html#l00118">Geant4Random.cpp:118</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html"><div class="ttname"><a href="namespace_d_d4hep.html">DD4hep</a></div><div class="ttdoc">Namespace for the AIDA detector description toolkit. </div><div class="ttdef"><b>Definition:</b> <a href="_alignments_8cpp_source.html#l00027">Alignments.cpp:27</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_random_html_a31f43f8b61c1eacccac4d89945e97f6b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html#a31f43f8b61c1eacccac4d89945e97f6b">DD4hep::Simulation::Geant4Random::initialize</a></div><div class="ttdeci">void initialize()</div><div class="ttdoc">Initialize the instance. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_random_8cpp_source.html#l00155">Geant4Random.cpp:155</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_exec_html_ae5486a8c520af49cbcc5d5ba4323e773"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#ae5486a8c520af49cbcc5d5ba4323e773">DD4hep::Simulation::Geant4Exec::initialize</a></div><div class="ttdeci">static int initialize(Geant4Kernel &amp;kernel)</div><div class="ttdoc">Initialize the application. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00583">Geant4Exec.cpp:583</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_stacking_action_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_stacking_action_sequence.html">DD4hep::Simulation::Geant4StackingActionSequence</a></div><div class="ttdoc">Concrete implementation of the Geant4 stacking action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_stacking_action_8h_source.html#l00100">Geant4StackingAction.h:100</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_random_html_a76e4bbadf0c58d9f6ee05decdd200fe6"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html#a76e4bbadf0c58d9f6ee05decdd200fe6">DD4hep::Simulation::Geant4Random::instance</a></div><div class="ttdeci">static Geant4Random * instance(bool throw_exception=true)</div><div class="ttdoc">Access the main Geant4 random generator instance. Must be created before used! </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_random_8cpp_source.html#l00110">Geant4Random.cpp:110</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html_a65e6428708ccaa9e0c4545b57437246d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a65e6428708ccaa9e0c4545b57437246d">DD4hep::Simulation::Geant4Kernel::id</a></div><div class="ttdeci">unsigned long id() const</div><div class="ttdoc">Access worker identifier. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8h_source.html#l00161">Geant4Kernel.h:161</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction_html_a93280a762663896986d38ece7afd1abc"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#a93280a762663896986d38ece7afd1abc">DD4hep::Simulation::Geant4UserDetectorConstruction::Construct</a></div><div class="ttdeci">virtual G4VPhysicalVolume * Construct()</div><div class="ttdoc">Call the actions to construct the detector geometry. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00398">Geant4Exec.cpp:398</a></div></div>
<div class="ttc" id="class_g4_v_user_detector_construction_html"><div class="ttname"><a href="class_g4_v_user_detector_construction.html">G4VUserDetectorConstruction</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00052">Geant4Classes.h:52</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html">DD4hep::Simulation::Geant4Kernel</a></div><div class="ttdoc">Class, which allows all Geant4Action derivatives to access the DDG4 kernel structures. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8h_source.html#l00043">Geant4Kernel.h:43</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action_html_a2c2e499d1ac638f2519fa8f6f221bdc0"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#a2c2e499d1ac638f2519fa8f6f221bdc0">DD4hep::Simulation::Geant4UserTrackingAction::~Geant4UserTrackingAction</a></div><div class="ttdeci">virtual ~Geant4UserTrackingAction()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00201">Geant4Exec.cpp:201</a></div></div>
<div class="ttc" id="class_geant4_compatibility_html_abe1c52fe3962756ab59bc3cdde7edca2"><div class="ttname"><a href="class_geant4_compatibility.html#abe1c52fe3962756ab59bc3cdde7edca2">Geant4Compatibility::buildDefaultDetectorConstruction</a></div><div class="ttdeci">Geant4DetectorConstructionSequence * buildDefaultDetectorConstruction(Geant4Kernel &amp;kernel)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00489">Geant4Exec.cpp:489</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action_html_acb9977f8d385a4f6523617dafea602bb"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#acb9977f8d385a4f6523617dafea602bb">DD4hep::Simulation::Geant4UserRunAction::EndOfRunAction</a></div><div class="ttdeci">virtual void EndOfRunAction(const G4Run *run)</div><div class="ttdoc">End-of-run callback. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00356">Geant4Exec.cpp:356</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html_a372116bbf95a9e9c63beb0906d8f222b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a372116bbf95a9e9c63beb0906d8f222b">DD4hep::Simulation::Geant4Kernel::executePhase</a></div><div class="ttdeci">virtual bool executePhase(const std::string &amp;name, const void **args) const</div><div class="ttdoc">Execute phase action if it exists. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8cpp_source.html#l00395">Geant4Kernel.cpp:395</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a5b5a64d56252469451f2020a27d57d42ac24ff9a0f663cd47b4e4e37a977dff02"><div class="ttname"><a href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42ac24ff9a0f663cd47b4e4e37a977dff02">DD4hep::WARNING</a></div><div class="ttdef"><b>Definition:</b> <a href="_printout_8h_source.html#l00048">Printout.h:48</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_a78cbddc837b75f151cf76b483b588fb1"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a78cbddc837b75f151cf76b483b588fb1">DD4hep::Simulation::Geant4ActionContainer::physicsList</a></div><div class="ttdeci">Geant4PhysicsListActionSequence * physicsList(bool create)</div><div class="ttdoc">Access to the physics list. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00156">Geant4ActionContainer.cpp:156</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization_html_a3753e3e5ae78b1a9de8940d4f8057e4a"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_action_initialization.html#a3753e3e5ae78b1a9de8940d4f8057e4a">DD4hep::Simulation::Geant4UserActionInitialization::BuildForMaster</a></div><div class="ttdeci">virtual void BuildForMaster() const</div><div class="ttdoc">Build the action sequences for the master thread. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00462">Geant4Exec.cpp:462</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html_afa68af67dfcc2bcdb1de8fb345254e07"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#afa68af67dfcc2bcdb1de8fb345254e07">DD4hep::Simulation::Geant4Context::runPtr</a></div><div class="ttdeci">Geant4Run * runPtr() const</div><div class="ttdoc">Access the geant4 run by ptr. Must be checked by clients! </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8h_source.html#l00190">Geant4Context.h:190</a></div></div>
<div class="ttc" id="_geant4_stacking_action_8h_html"><div class="ttname"><a href="_geant4_stacking_action_8h.html">Geant4StackingAction.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction_html_af1e3e857893be886738096501d5932f7"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#af1e3e857893be886738096501d5932f7">DD4hep::Simulation::Geant4UserDetectorConstruction::Geant4UserDetectorConstruction</a></div><div class="ttdeci">Geant4UserDetectorConstruction(Geant4Context *ctxt, Geant4DetectorConstructionSequence *seq)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00310">Geant4Exec.cpp:310</a></div></div>
<div class="ttc" id="_printout_8h_html"><div class="ttname"><a href="_printout_8h.html">Printout.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_ab195f38387e12afbfcaccee77ec67845"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#ab195f38387e12afbfcaccee77ec67845">DD4hep::Simulation::Geant4ActionContainer::eventAction</a></div><div class="ttdeci">Geant4EventActionSequence * eventAction(bool create)</div><div class="ttdoc">Access run action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00105">Geant4ActionContainer.cpp:105</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_a7b1a0ac81a980bfa966a972caaaf5bfc"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a7b1a0ac81a980bfa966a972caaaf5bfc">DD4hep::Simulation::Geant4Action::property</a></div><div class="ttdeci">Property &amp; property(const std::string &amp;name)</div><div class="ttdoc">Access single property. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8cpp_source.html#l00109">Geant4Action.cpp:109</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action_html_a6e5a2cb71388c8358f6fa8679ca9cf69"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html#a6e5a2cb71388c8358f6fa8679ca9cf69">DD4hep::Simulation::Geant4UserGeneratorAction::GeneratePrimaries</a></div><div class="ttdeci">virtual void GeneratePrimaries(G4Event *event)</div><div class="ttdoc">Generate primary particles. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00376">Geant4Exec.cpp:376</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_a89eb0b58f4614f5fd03a656e3b6da8da"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a89eb0b58f4614f5fd03a656e3b6da8da">DD4hep::Simulation::SequenceHdl::kernel</a></div><div class="ttdeci">Geant4Kernel &amp; kernel() const</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00094">Geant4Exec.cpp:94</a></div></div>
<div class="ttc" id="class_geant4_compatibility_html"><div class="ttname"><a href="class_geant4_compatibility.html">Geant4Compatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00484">Geant4Exec.cpp:484</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action_html_a565c100df77dc0bdfe343a424285cdab"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#a565c100df77dc0bdfe343a424285cdab">DD4hep::Simulation::Geant4UserStackingAction::PrepareNewEvent</a></div><div class="ttdeci">virtual void PrepareNewEvent()</div><div class="ttdoc">Preparation callback. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00240">Geant4Exec.cpp:240</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence.html">DD4hep::Simulation::Geant4PhysicsListActionSequence</a></div><div class="ttdoc">The implementation of the single Geant4 physics list action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_physics_list_8h_source.html#l00188">Geant4PhysicsList.h:188</a></div></div>
<div class="ttc" id="_plugins_8h_html"><div class="ttname"><a href="_plugins_8h.html">Plugins.h</a></div></div>
<div class="ttc" id="_geant4_tracking_action_8h_html"><div class="ttname"><a href="_geant4_tracking_action_8h.html">Geant4TrackingAction.h</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2"><div class="ttname"><a href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2">DD4hep::INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="_printout_8h_source.html#l00048">Printout.h:48</a></div></div>
<div class="ttc" id="class_g4_user_stepping_action_html"><div class="ttname"><a href="class_g4_user_stepping_action.html">G4UserSteppingAction</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00028">Geant4Classes.h:28</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action_html_a5b3bda44a46cc253d0c1d343d4f28738"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a5b3bda44a46cc253d0c1d343d4f28738">DD4hep::Simulation::Geant4UserRunAction::~Geant4UserRunAction</a></div><div class="ttdeci">virtual ~Geant4UserRunAction()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00148">Geant4Exec.cpp:148</a></div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_simulation_html"><div class="ttname"><a href="namespace_d_d4hep_1_1_simulation.html">DD4hep::Simulation</a></div><div class="ttdoc">Namespace for the Geant4 based simulation part of the AIDA detector description toolkit. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_g4_dict_8h_source.html#l00034">DDG4Dict.h:34</a></div></div>
<div class="ttc" id="_instance_count_8h_html"><div class="ttname"><a href="_instance_count_8h.html">InstanceCount.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_run_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_run.html">DD4hep::Simulation::Geant4Run</a></div><div class="ttdoc">User run context for DDG4. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8h_source.html#l00071">Geant4Context.h:71</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html">DD4hep::Simulation::Geant4UserDetectorConstruction</a></div><div class="ttdoc">Concrete implementation of the Geant4 user detector construction action sequence. ...</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00302">Geant4Exec.cpp:302</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_aac0430d56fb1bc7db0b71720c49033a4"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#aac0430d56fb1bc7db0b71720c49033a4">DD4hep::Simulation::Geant4ActionContainer::generatorAction</a></div><div class="ttdeci">Geant4GeneratorActionSequence * generatorAction(bool create)</div><div class="ttdoc">Access generator action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00091">Geant4ActionContainer.cpp:91</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence.html">DD4hep::Simulation::Geant4GeneratorActionSequence</a></div><div class="ttdoc">Concrete implementation of the Geant4 generator action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_generator_action_8h_source.html#l00110">Geant4GeneratorAction.h:110</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_run_action_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_run_action_sequence.html">DD4hep::Simulation::Geant4RunActionSequence</a></div><div class="ttdoc">Concrete basic implementation of the Geant4 run action sequencer. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_run_action_8h_source.html#l00107">Geant4RunAction.h:107</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_afe240bb5982f0cdaedc001a3cc1a50da"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#afe240bb5982f0cdaedc001a3cc1a50da">DD4hep::Simulation::SequenceHdl::_aquire</a></div><div class="ttdeci">void _aquire(T *s)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00076">Geant4Exec.cpp:76</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action_html_a023f102d73420bfab08e6a866ea03dc7"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#a023f102d73420bfab08e6a866ea03dc7">DD4hep::Simulation::Geant4UserStackingAction::~Geant4UserStackingAction</a></div><div class="ttdeci">virtual ~Geant4UserStackingAction()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00233">Geant4Exec.cpp:233</a></div></div>
<div class="ttc" id="_geant4_detector_construction_8h_html"><div class="ttname"><a href="_geant4_detector_construction_8h.html">Geant4DetectorConstruction.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html_ad58adb3734f2701198b8915a80cf4cdc"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#ad58adb3734f2701198b8915a80cf4cdc">DD4hep::Simulation::Geant4Kernel::lcdd</a></div><div class="ttdeci">LCDD &amp; lcdd() const</div><div class="ttdoc">Access to detector description. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8h_source.html#l00153">Geant4Kernel.h:153</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_a6fe45521592147fe47d7cc545add8ca0"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a6fe45521592147fe47d7cc545add8ca0">DD4hep::Simulation::Geant4ActionContainer::workerContext</a></div><div class="ttdeci">Geant4Context * workerContext()</div><div class="ttdoc">Thread&amp;#39;s Geant4 execution context. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00071">Geant4ActionContainer.cpp:71</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action_html_a846e10589493c89d4ed2081312d17a1d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html#a846e10589493c89d4ed2081312d17a1d">DD4hep::Simulation::Geant4UserSteppingAction::Geant4UserSteppingAction</a></div><div class="ttdeci">Geant4UserSteppingAction(Geant4Context *ctxt, Geant4SteppingActionSequence *seq)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00282">Geant4Exec.cpp:282</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action_html_a4619583991588e3f0e3d51da6082bac3"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a4619583991588e3f0e3d51da6082bac3">DD4hep::Simulation::Geant4UserRunAction::Geant4UserRunAction</a></div><div class="ttdeci">Geant4UserRunAction(Geant4Context *ctxt, Geant4RunActionSequence *seq)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00142">Geant4Exec.cpp:142</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_a6f0b9120d430d93caafb6d3d9f360ecf"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a6f0b9120d430d93caafb6d3d9f360ecf">DD4hep::Simulation::SequenceHdl::updateContext</a></div><div class="ttdeci">void updateContext(Geant4Context *ctxt)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00081">Geant4Exec.cpp:81</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_a4dba304abe94e83eaef9c22aa196454b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a4dba304abe94e83eaef9c22aa196454b">DD4hep::Simulation::Geant4ActionContainer::detectorConstruction</a></div><div class="ttdeci">Geant4DetectorConstructionSequence * detectorConstruction(bool create)</div><div class="ttdoc">Access detector construcion action sequence (geometry+sensitives+field) </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00133">Geant4ActionContainer.cpp:133</a></div></div>
<div class="ttc" id="struct_d_d4hep_1_1_instance_count_html_aaaf8d46a477863acc69b65afbab96b22"><div class="ttname"><a href="struct_d_d4hep_1_1_instance_count.html#aaaf8d46a477863acc69b65afbab96b22">DD4hep::InstanceCount::increment</a></div><div class="ttdeci">static void increment(T *)</div><div class="ttdoc">Increment count according to type information. </div><div class="ttdef"><b>Definition:</b> <a href="_instance_count_8h_source.html#l00100">InstanceCount.h:100</a></div></div>
<div class="ttc" id="_primitives_8h_html"><div class="ttname"><a href="_primitives_8h.html">Primitives.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html_aa0bb03714fc9c82ed1d07ca804b73553"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#aa0bb03714fc9c82ed1d07ca804b73553">DD4hep::Simulation::Geant4Context::setEvent</a></div><div class="ttdeci">void setEvent(Geant4Event *new_event)</div><div class="ttdoc">Set the geant4 event reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8cpp_source.html#l00077">Geant4Context.cpp:77</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action_html_ab5aeccf26ec4213e75bbdf6927bc7ee6"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#ab5aeccf26ec4213e75bbdf6927bc7ee6">DD4hep::Simulation::Geant4UserTrackingAction::PostUserTrackingAction</a></div><div class="ttdeci">virtual void PostUserTrackingAction(const G4Track *trk)</div><div class="ttdoc">Post-track action callback. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00209">Geant4Exec.cpp:209</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_addf2b3ddaa1263ae4213a5189f7859b5"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#addf2b3ddaa1263ae4213a5189f7859b5">DD4hep::Simulation::SequenceHdl::m_activeContext</a></div><div class="ttdeci">Geant4Context * m_activeContext</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00065">Geant4Exec.cpp:65</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction_html_ab384a947bde0262d2c86f3f83099e4c4"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#ab384a947bde0262d2c86f3f83099e4c4">DD4hep::Simulation::Geant4UserDetectorConstruction::ConstructSDandField</a></div><div class="ttdeci">virtual void ConstructSDandField()</div><div class="ttdoc">Call the actions for the construction of the sensitive detectors and the field. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00387">Geant4Exec.cpp:387</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action_html_afc51c8fd156ae7c8a344d1378c2b2026"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_generator_action.html#afc51c8fd156ae7c8a344d1378c2b2026">DD4hep::Simulation::Geant4UserGeneratorAction::Geant4UserGeneratorAction</a></div><div class="ttdeci">Geant4UserGeneratorAction(Geant4Context *ctxt, Geant4GeneratorActionSequence *seq)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00258">Geant4Exec.cpp:258</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html_a31bdc70c285a758ad7563d5c54a5072a"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a31bdc70c285a758ad7563d5c54a5072a">DD4hep::Simulation::Geant4Context::setRun</a></div><div class="ttdeci">void setRun(Geant4Run *new_run)</div><div class="ttdoc">Set the geant4 run reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8cpp_source.html#l00065">Geant4Context.cpp:65</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a5b5a64d56252469451f2020a27d57d42ad22cda76fc1b3a55bc359945db9c811c"><div class="ttname"><a href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42ad22cda76fc1b3a55bc359945db9c811c">DD4hep::DEBUG</a></div><div class="ttdef"><b>Definition:</b> <a href="_printout_8h_source.html#l00048">Printout.h:48</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action_html_ab88c990f7010805421170eeb8f86ff86"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ab88c990f7010805421170eeb8f86ff86">DD4hep::Simulation::Geant4UserEventAction::BeginOfEventAction</a></div><div class="ttdeci">virtual void BeginOfEventAction(const G4Event *evt)</div><div class="ttdoc">Begin-of-event callback. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00363">Geant4Exec.cpp:363</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html_aa01093467efb9b3a4f9179ba22ac7899"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#aa01093467efb9b3a4f9179ba22ac7899">DD4hep::Simulation::Geant4Kernel::runManager</a></div><div class="ttdeci">G4RunManager &amp; runManager()</div><div class="ttdoc">Access to the Geant4 run manager. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8cpp_source.html#l00237">Geant4Kernel.cpp:237</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html">DD4hep::Simulation::Geant4UserStackingAction</a></div><div class="ttdoc">Concrete implementation of the Geant4 stacking action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00221">Geant4Exec.cpp:221</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html">DD4hep::Simulation::Geant4UserEventAction</a></div><div class="ttdoc">Concrete implementation of the Geant4 event action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00162">Geant4Exec.cpp:162</a></div></div>
<div class="ttc" id="_geant4_stepping_action_8h_html"><div class="ttname"><a href="_geant4_stepping_action_8h.html">Geant4SteppingAction.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_exec_html_a68d70832e5acb1c074ce12cae898af09"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#a68d70832e5acb1c074ce12cae898af09">DD4hep::Simulation::Geant4Exec::configure</a></div><div class="ttdeci">static int configure(Geant4Kernel &amp;kernel)</div><div class="ttdoc">Configure the application. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00514">Geant4Exec.cpp:514</a></div></div>
<div class="ttc" id="class_g4_user_run_action_html"><div class="ttname"><a href="class_g4_user_run_action.html">G4UserRunAction</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00020">Geant4Classes.h:20</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">DD4hep::Simulation::Geant4Context</a></div><div class="ttdoc">Generic context to extend user, run and event information. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8h_source.html#l00168">Geant4Context.h:168</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction_html_ab099fe83f02b9f8ffdda9f0f21a01202"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_detector_construction.html#ab099fe83f02b9f8ffdda9f0f21a01202">DD4hep::Simulation::Geant4UserDetectorConstruction::m_ctxt</a></div><div class="ttdeci">Geant4DetectorConstructionContext m_ctxt</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00307">Geant4Exec.cpp:307</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html_a2f26e1b3fecec8178880ce8e379f6531"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a2f26e1b3fecec8178880ce8e379f6531">DD4hep::Simulation::Geant4Context::eventPtr</a></div><div class="ttdeci">Geant4Event * eventPtr() const</div><div class="ttdoc">Access the geant4 event by ptr. Must be checked by clients! </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8h_source.html#l00196">Geant4Context.h:196</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction.html">DD4hep::Simulation::Geant4DetectorConstruction</a></div><div class="ttdoc">Basic implementation of the Geant4 detector construction action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_detector_construction_8h_source.html#l00103">Geant4DetectorConstruction.h:103</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_ae825c3a994baf6bb24fd37e547a67dff"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#ae825c3a994baf6bb24fd37e547a67dff">DD4hep::Simulation::SequenceHdl::m_sequence</a></div><div class="ttdeci">T * m_sequence</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00064">Geant4Exec.cpp:64</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action_html_a6726ebc3d952df848fc4e8288d3bb6c0"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_run_action.html#a6726ebc3d952df848fc4e8288d3bb6c0">DD4hep::Simulation::Geant4UserRunAction::eventAction</a></div><div class="ttdeci">Geant4UserEventAction * eventAction</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00140">Geant4Exec.cpp:140</a></div></div>
<div class="ttc" id="_geant4_physics_list_8h_html"><div class="ttname"><a href="_geant4_physics_list_8h.html">Geant4PhysicsList.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_l_c_d_d_html"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html">DD4hep::Geometry::LCDD</a></div><div class="ttdoc">The main interface to the DD4hep detector description package. </div><div class="ttdef"><b>Definition:</b> <a href="_l_c_d_d_8h_source.html#l00091">LCDD.h:91</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stepping_action.html">DD4hep::Simulation::Geant4UserSteppingAction</a></div><div class="ttdoc">Concrete implementation of the Geant4 stepping action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00276">Geant4Exec.cpp:276</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_random_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_random.html">DD4hep::Simulation::Geant4Random</a></div><div class="ttdoc">Mini interface to THE random generator of the application. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_random_8h_source.html#l00060">Geant4Random.h:60</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence_html_a51078548bbd59fa3cb1447d2b2c6e2fb"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_physics_list_action_sequence.html#a51078548bbd59fa3cb1447d2b2c6e2fb">DD4hep::Simulation::Geant4PhysicsListActionSequence::extensionList</a></div><div class="ttdeci">G4VUserPhysicsList * extensionList()</div><div class="ttdoc">Extend physics list from factory: </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_physics_list_8cpp_source.html#l00301">Geant4PhysicsList.cpp:301</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html">DD4hep::Simulation::Geant4UserTrackingAction</a></div><div class="ttdoc">Concrete implementation of the Geant4 tracking action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00189">Geant4Exec.cpp:189</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action_html_a3c44bbbed885071eb14c08274e1b32a2"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#a3c44bbbed885071eb14c08274e1b32a2">DD4hep::Simulation::Geant4UserTrackingAction::PreUserTrackingAction</a></div><div class="ttdeci">virtual void PreUserTrackingAction(const G4Track *trk)</div><div class="ttdoc">Pre-track action callback. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00204">Geant4Exec.cpp:204</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action_html_ac79b641d26fd4e4cbecc99460baf4d4f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_event_action.html#ac79b641d26fd4e4cbecc99460baf4d4f">DD4hep::Simulation::Geant4UserEventAction::~Geant4UserEventAction</a></div><div class="ttdeci">virtual ~Geant4UserEventAction()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00175">Geant4Exec.cpp:175</a></div></div>
<div class="ttc" id="_geant4_run_action_8h_html"><div class="ttname"><a href="_geant4_run_action_8h.html">Geant4RunAction.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_call_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_call.html">DD4hep::Simulation::Geant4Call</a></div><div class="ttdoc">Callback interface class with argument. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_call_8h_source.html#l00030">Geant4Call.h:30</a></div></div>
<div class="ttc" id="_geant4_event_action_8h_html"><div class="ttname"><a href="_geant4_event_action_8h.html">Geant4EventAction.h</a></div></div>
<div class="ttc" id="class_t_html"><div class="ttname"><a href="class_t.html">T</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a6d434af620a49074f3d86d05a04b6073"><div class="ttname"><a href="namespace_d_d4hep.html#a6d434af620a49074f3d86d05a04b6073">DD4hep::printout</a></div><div class="ttdeci">int printout(PrintLevel severity, const char *src, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="_printout_8cpp_source.html#l00091">Printout.cpp:91</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_exec_html_a006a064ae70aa7839d656ae7cdd8fc59"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_exec.html#a006a064ae70aa7839d656ae7cdd8fc59">DD4hep::Simulation::Geant4Exec::run</a></div><div class="ttdeci">static int run(Geant4Kernel &amp;kernel)</div><div class="ttdoc">Run the application and simulate events. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00595">Geant4Exec.cpp:595</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action_html_acee865c27f15ffd9f2d4c386f9ab7e8e"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_tracking_action.html#acee865c27f15ffd9f2d4c386f9ab7e8e">DD4hep::Simulation::Geant4UserTrackingAction::Geant4UserTrackingAction</a></div><div class="ttdeci">Geant4UserTrackingAction(Geant4Context *ctxt, Geant4TrackingActionSequence *seq)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00195">Geant4Exec.cpp:195</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_property_html_a77f106d95462fad8c938a9568941854e"><div class="ttname"><a href="class_d_d4hep_1_1_property.html#a77f106d95462fad8c938a9568941854e">DD4hep::Property::set</a></div><div class="ttdeci">void set(const TYPE &amp;value)</div><div class="ttdoc">Set value of this property. </div><div class="ttdef"><b>Definition:</b> <a href="_component_properties__inl_8h_source.html#l00039">ComponentProperties_inl.h:39</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_aeb88368d61e8f34a82e6acc1c8794521"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#aeb88368d61e8f34a82e6acc1c8794521">DD4hep::Simulation::SequenceHdl::SequenceHdl</a></div><div class="ttdeci">SequenceHdl()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00067">Geant4Exec.cpp:67</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html_a9142233acf94a391ef926eee86b04c26"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a9142233acf94a391ef926eee86b04c26">DD4hep::Simulation::Geant4Kernel::globalAction</a></div><div class="ttdeci">Geant4Action * globalAction(const std::string &amp;action_name, bool throw_if_not_present=true)</div><div class="ttdoc">Retrieve action from repository. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8cpp_source.html#l00348">Geant4Kernel.cpp:348</a></div></div>
<div class="ttc" id="class_geant4_compatibility_html_a8dc4d9bd93a45cb3524b317ba8cdbc8e"><div class="ttname"><a href="class_geant4_compatibility.html#a8dc4d9bd93a45cb3524b317ba8cdbc8e">Geant4Compatibility::Geant4Compatibility</a></div><div class="ttdeci">Geant4Compatibility()</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00486">Geant4Exec.cpp:486</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">DD4hep::Simulation::Geant4Action</a></div><div class="ttdoc">Default base class for all Geant 4 actions and derivates thereof. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8h_source.html#l00089">Geant4Action.h:89</a></div></div>
<div class="ttc" id="_geant4_generator_action_8h_html"><div class="ttname"><a href="_geant4_generator_action_8h.html">Geant4GeneratorAction.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_sequence_hdl_html_a4672c0e560cdc353b48c8025c9d3546f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_sequence_hdl.html#a4672c0e560cdc353b48c8025c9d3546f">DD4hep::Simulation::SequenceHdl::configureFiber</a></div><div class="ttdeci">void configureFiber(Geant4Context *ctxt)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00097">Geant4Exec.cpp:97</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_context_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_detector_construction_context.html">DD4hep::Simulation::Geant4DetectorConstructionContext</a></div><div class="ttdoc">Geant4 detector construction context definition. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_detector_construction_8h_source.html#l00061">Geant4DetectorConstruction.h:61</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_kernel_html_a7bd105526c0873bd9b24d3de41052d88"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_kernel.html#a7bd105526c0873bd9b24d3de41052d88">DD4hep::Simulation::Geant4Kernel::isMultiThreaded</a></div><div class="ttdeci">bool isMultiThreaded() const</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_kernel_8h_source.html#l00113">Geant4Kernel.h:113</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_a5ce39c42386a93c9e446d8651495c11e"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a5ce39c42386a93c9e446d8651495c11e">DD4hep::Simulation::Geant4ActionContainer::runAction</a></div><div class="ttdeci">Geant4RunActionSequence * runAction(bool create)</div><div class="ttdoc">Access run action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00098">Geant4ActionContainer.cpp:98</a></div></div>
<div class="ttc" id="class_g4_v_user_primary_generator_action_html"><div class="ttname"><a href="class_g4_v_user_primary_generator_action.html">G4VUserPrimaryGeneratorAction</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00056">Geant4Classes.h:56</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action_html_a34c062c0fa5934878f532ef10f9c96d5"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_user_stacking_action.html#a34c062c0fa5934878f532ef10f9c96d5">DD4hep::Simulation::Geant4UserStackingAction::Geant4UserStackingAction</a></div><div class="ttdeci">Geant4UserStackingAction(Geant4Context *ctxt, Geant4StackingActionSequence *seq)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_exec_8cpp_source.html#l00227">Geant4Exec.cpp:227</a></div></div>
</div><!-- fragment --></div><!-- contents -->

<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 14 2016 16:09:26 for DD4hep by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
