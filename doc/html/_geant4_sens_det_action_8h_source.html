<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!--BEGIN PROJECT_NAME--><title>DD4hep: DD4hep: /afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDG4/include/DDG4/Geant4SensDetAction.h Source File</title><!--END PROJECT_NAME-->
<!--BEGIN !PROJECT_NAME--><title>DD4hep: /afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDG4/include/DDG4/Geant4SensDetAction.h Source File</title><!--END !PROJECT_NAME-->
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="DD4hep.css" rel="stylesheet" type="text/css" />
$treeview
$search
$mathjax
</head>
<body>
<div id="top"><!-- do not remove this div! -->

<!--BEGIN TITLEAREA-->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 100px;">
  <!--BEGIN PROJECT_LOGO-->
  <td id="projectlogo"><img alt="Logo" src="../doc/LaTex/CERN-logo.png" height="72"/></td>
  <td id="projectlogo"><img alt="Logo" src="$projectlogo" height="72"/></td>
  <!--END PROJECT_LOGO-->
  <!--BEGIN PROJECT_NAME-->
  <td style="padding-left: 0.5em;">
   <!--BEGIN PROJECT_BRIEF--><div id="projectbrief">$projectbrief</div><!--END PROJECT_BRIEF-->
   <div id="projectname">DD4hep
   <!--BEGIN PROJECT_NUMBER-->&#160;<span id="projectnumber">Rev:exported</span><!--END PROJECT_NUMBER-->
   </div>
  </td>
  <!--END PROJECT_NAME-->
  <!--BEGIN !PROJECT_NAME-->
   <!--BEGIN PROJECT_BRIEF-->
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">$projectbrief</div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
  <!--BEGIN DISABLE_INDEX-->
   <!--BEGIN SEARCHENGINE-->
   <td>$searchbox</td>
   <!--END SEARCHENGINE-->
  <!--END DISABLE_INDEX-->
 </tr>
 </tbody>
</table>
</div>
<!--END TITLEAREA-->
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDG4/include/DDG4/Geant4SensDetAction.h</h1><a href="_geant4_sens_det_action_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// $Id: $</span>
<a name="l00002"></a>00002 <span class="comment">//==========================================================================</span>
<a name="l00003"></a>00003 <span class="comment">//  AIDA Detector description implementation for LCD</span>
<a name="l00004"></a>00004 <span class="comment">//--------------------------------------------------------------------------</span>
<a name="l00005"></a>00005 <span class="comment">// Copyright (C) Organisation europeenne pour la Recherche nucleaire (CERN)</span>
<a name="l00006"></a>00006 <span class="comment">// All rights reserved.</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// For the licensing terms see $DD4hepINSTALL/LICENSE.</span>
<a name="l00009"></a>00009 <span class="comment">// For the list of contributors see $DD4hepINSTALL/doc/CREDITS.</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">// Author     : M.Frank</span>
<a name="l00012"></a>00012 <span class="comment">//</span>
<a name="l00013"></a>00013 <span class="comment">//==========================================================================</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#ifndef DD4HEP_DDG4_GEANT4SENSDETACTION_H</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">#define DD4HEP_DDG4_GEANT4SENSDETACTION_H</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00018"></a>00018 <span class="comment">// Framework include files</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="_l_c_d_d_8h.html">DD4hep/LCDD.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="_geant4_action_8h.html">DDG4/Geant4Action.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="_geant4_hit_collection_8h.html">DDG4/Geant4HitCollection.h</a>&quot;</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="comment">// C/C++ include files</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="comment">// Forward declarations</span>
<a name="l00027"></a>00027 <span class="keyword">class </span>G4HCofThisEvent;
<a name="l00028"></a>00028 <span class="keyword">class </span>G4Step;
<a name="l00029"></a>00029 <span class="keyword">class </span>G4Event;
<a name="l00030"></a>00030 <span class="keyword">class </span>G4TouchableHistory;
<a name="l00031"></a>00031 <span class="keyword">class </span><a class="code" href="class_g4_v_hits_collection.html" title="Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference.">G4VHitsCollection</a>;
<a name="l00032"></a>00032 <span class="keyword">class </span>G4VReadOutGeometry;
<a name="l00033"></a>00033 
<a name="l00035"></a>00035 <span class="keyword">namespace </span>DD4hep {
<a name="l00036"></a>00036 
<a name="l00037"></a>00037   <span class="comment">// Forward declarations</span>
<a name="l00038"></a>00038   <span class="keyword">namespace </span>Geometry  {
<a name="l00039"></a>00039     <span class="keyword">class </span>LCDD;
<a name="l00040"></a>00040     <span class="keyword">class </span><a class="code" href="namespace_d_d4hep.html#a21dd977310ff183f61ca6ae14b59a989">DetElement</a>;
<a name="l00041"></a>00041     <span class="keyword">class </span><a class="code" href="namespace_d_d4hep.html#ae77e9f3818be8d649b030c537e235efe">SensitiveDetector</a>;
<a name="l00042"></a>00042   }
<a name="l00043"></a>00043 
<a name="l00045"></a>00045   <span class="keyword">namespace </span>Simulation {
<a name="l00046"></a>00046 
<a name="l00047"></a>00047     <span class="comment">// Forward declarations</span>
<a name="l00048"></a>00048     <span class="keyword">class </span>Geant4StepHandler;
<a name="l00049"></a>00049     <span class="keyword">class </span>Geant4HitCollection;
<a name="l00050"></a>00050     <span class="keyword">class </span>Geant4Sensitive;
<a name="l00051"></a>00051     <span class="keyword">class </span>Geant4SensDetActionSequence;
<a name="l00052"></a>00052     <span class="keyword">class </span>Geant4SensDetSequences;
<a name="l00053"></a>00053 
<a name="l00055"></a>00055 
<a name="l00060"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html">00060</a>     <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html" title="Interface class to access properties of the underlying Geant4 sensitive detector...">Geant4ActionSD</a>: <span class="keyword">virtual</span> <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html" title="Default base class for all Geant 4 actions and derivates thereof.">Geant4Action</a> {
<a name="l00061"></a>00061     <span class="keyword">protected</span>:
<a name="l00063"></a>00063       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#ad09cff29caa01d794981f342c0b1632e" title="Standard action constructor.">Geant4ActionSD</a>(<span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3471b931eb84ab4fdc3fc4beddae512b" title="Access name of the action.">name</a>);
<a name="l00065"></a>00065       <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a535bbf839314d7cdaf37c42712ea96b6" title="Default destructor.">~Geant4ActionSD</a>();
<a name="l00066"></a>00066     <span class="keyword">public</span>:
<a name="l00068"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a8a292947ea3f9b419728ef729a7e3fae">00068</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">Geometry::SensitiveDetector</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>;
<a name="l00069"></a>00069 
<a name="l00071"></a>00071       <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#acb227bd17a6f30d5df564a4d19f3f8a2" title="Initialize the usage of a hit collection. Returns the collection identifier.">defineCollection</a>(<span class="keyword">const</span> std::string&amp; name) = 0;
<a name="l00073"></a>00073       <span class="keyword">virtual</span> G4VReadOutGeometry* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#abf432e0098d25759837ddc2af5dc6c16" title="Access to the readout geometry of the sensitive detector.">readoutGeometry</a>() <span class="keyword">const</span> = 0;
<a name="l00075"></a>00075       <span class="keyword">virtual</span> G4int <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#ac0539610b17b20d10592201b1eb0755d" title="This is a utility method which returns the hits collection ID.">GetCollectionID</a>(G4int i) = 0;
<a name="l00077"></a>00077       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a2c3791fc610294f1d3fc9ff6fe0e755f" title="Is the detector active?">isActive</a>() <span class="keyword">const</span> = 0;
<a name="l00079"></a>00079       <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a8b1e15e8582895a6a7ad9ce4cf169e8e" title="Access to the LCDD sensitive detector handle.">sensitiveDetector</a>() <span class="keyword">const</span> = 0;
<a name="l00081"></a>00081       <span class="keyword">virtual</span> std::string <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a8d3333538a535ac963931173f15acfeb" title="G4VSensitiveDetector internals: Access to the detector path name.">path</a>() <span class="keyword">const</span> = 0;
<a name="l00083"></a>00083       <span class="keyword">virtual</span> std::string <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#afaba405dfb4c663ba2403ad4558d9956" title="G4VSensitiveDetector internals: Access to the detector path name.">fullPath</a>() <span class="keyword">const</span> = 0;
<a name="l00085"></a>00085       <span class="keyword">virtual</span> <span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#ad2aec470fc9632ab3082b51b16a75c00" title="Access to the sensitive type of the detector.">sensitiveType</a>() <span class="keyword">const</span> = 0;
<a name="l00086"></a>00086     };
<a name="l00087"></a>00087 
<a name="l00089"></a>00089 
<a name="l00094"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">00094</a>     <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html" title="Base class to construct filters for Geant4 sensitive detectors.">Geant4Filter</a>: <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html" title="Default base class for all Geant 4 actions and derivates thereof.">Geant4Action</a> {
<a name="l00095"></a>00095     <span class="keyword">public</span>:
<a name="l00097"></a>00097       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a9473fedf4d296dd044a9310a9da57bb4" title="Standard constructor.">Geant4Filter</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html" title="Generic context to extend user, run and event information.">Geant4Context</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#ae695d6fe735edceeea30e84afd329e38" title="Access the context.">context</a>, <span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3471b931eb84ab4fdc3fc4beddae512b" title="Access name of the action.">name</a>);
<a name="l00099"></a>00099       <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a2fdb09d7018165b25034b37fa8eb9930" title="Standard destructor.">~Geant4Filter</a>();
<a name="l00101"></a>00101       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#afff6fafea1b7c0c7d61834ae0a51a23f" title="Filter action. Return true if hits should be processed.">operator()</a>(<span class="keyword">const</span> G4Step* step) <span class="keyword">const</span>;
<a name="l00102"></a>00102     };
<a name="l00103"></a>00103 
<a name="l00105"></a>00105 
<a name="l00110"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">00110</a>     <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html" title="The base class for Geant4 sensitive detector actions implemented by users.">Geant4Sensitive</a>: <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html" title="Default base class for all Geant 4 actions and derivates thereof.">Geant4Action</a> {
<a name="l00111"></a>00111     <span class="keyword">public</span>:
<a name="l00112"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a3373caa6917867ca7c871df20fb467c8">00112</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html" title="The main interface to the DD4hep detector description package.">Geometry::LCDD</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html" title="The main interface to the DD4hep detector description package.">LCDD</a>;
<a name="l00113"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a2dc0e9ab41aeebbb0bad179419eeac72">00113</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_readout.html" title="Handle to the implementation of the readout structure of a subdetector.">Geometry::Readout</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_readout.html" title="Handle to the implementation of the readout structure of a subdetector.">Readout</a>;
<a name="l00114"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a1cb1af5fb1194be1e1c1137f1e54272b">00114</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">Geometry::DetElement</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>;
<a name="l00115"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac898770dc0c398f3b7b88d1bf5f72314">00115</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_segmentation.html" title="Handle class supporting generic Segmentation of sensitive detectors.">Geometry::Segmentation</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_segmentation.html" title="Handle class supporting generic Segmentation of sensitive detectors.">Segmentation</a>;
<a name="l00117"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a985a23f6592b3ab41b9aa45e47fbc9ea">00117</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">Geometry::SensitiveDetector</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>;
<a name="l00118"></a>00118 
<a name="l00119"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a6df3adaabfad8e56f08282f2cf70a9b7">00119</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html" title="Helper class to ease the extraction of information from a G4Step object.">Geant4StepHandler</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html" title="Helper class to ease the extraction of information from a G4Step object.">StepHandler</a>;
<a name="l00120"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a160ee45c4477c7165b1d56d377e5582f">00120</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html" title="Generic hit container class using Geant4HitWrapper objects.">Geant4HitCollection</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html" title="Generic hit container class using Geant4HitWrapper objects.">HitCollection</a>;
<a name="l00121"></a>00121 
<a name="l00122"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750">00122</a>       <span class="keyword">enum</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750">HitCreationFlags</a> {
<a name="l00123"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750affa871d1db60d0783987ac12ad64663f">00123</a>         <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750affa871d1db60d0783987ac12ad64663f">SIMPLE_MODE</a> = 0,
<a name="l00124"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750a7293a18844334c7e1ed078b7e593e4d9">00124</a>         <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750a7293a18844334c7e1ed078b7e593e4d9">MEDIUM_MODE</a> = 1&lt;&lt;0,
<a name="l00125"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750a3327f21d3b9852572e79cca4b399628d">00125</a>         <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750a3327f21d3b9852572e79cca4b399628d">DETAILED_MODE</a> = 1&lt;&lt;1
<a name="l00126"></a>00126       };
<a name="l00127"></a>00127 
<a name="l00128"></a>00128     <span class="keyword">private</span>:
<a name="l00130"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#afc56b9a8666f9fe594516436f7fdd4e0">00130</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html" title="Interface class to access properties of the underlying Geant4 sensitive detector...">Geant4ActionSD</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#afc56b9a8666f9fe594516436f7fdd4e0" title="Reference to G4 sensitive detector.">m_sensitiveDetector</a>;
<a name="l00132"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7c98977dbb602b8053f21ff8e36f925d">00132</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html" title="The sequencer to host Geant4 sensitive actions called if particles interact with...">Geant4SensDetActionSequence</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7c98977dbb602b8053f21ff8e36f925d" title="Reference to the containing action sequence.">m_sequence</a>;
<a name="l00133"></a>00133 
<a name="l00134"></a>00134     <span class="keyword">protected</span>:
<a name="l00136"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a0dca1438c83ccee54eb9458bf12220b1">00136</a>       <span class="keywordtype">int</span>  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a0dca1438c83ccee54eb9458bf12220b1" title="Property: Hit creation mode. Maybe one of the enum HitCreationFlags.">m_hitCreationMode</a>;
<a name="l00138"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#af7bcfc4733d5822cb9d4b0852b121800">00138</a>       <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html" title="The main interface to the DD4hep detector description package.">LCDD</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#af7bcfc4733d5822cb9d4b0852b121800" title="Reference to the detector description object.">m_lcdd</a>;
<a name="l00140"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a8b5b7e0dff9d8fcb154b646e1618821f">00140</a>       <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a8b5b7e0dff9d8fcb154b646e1618821f" title="Reference to the detector element describing this sensitive element.">m_detector</a>;
<a name="l00142"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a02ba3b720aadf6e230b6c2c0cd258b2b">00142</a>       <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a02ba3b720aadf6e230b6c2c0cd258b2b" title="Reference to the sensitive detector element.">m_sensitive</a>;
<a name="l00144"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a14b5d00feae681d434df04c0d9fc8f70">00144</a>       <a class="code" href="class_d_d4hep_1_1_geometry_1_1_readout.html" title="Handle to the implementation of the readout structure of a subdetector.">Readout</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a14b5d00feae681d434df04c0d9fc8f70" title="Reference to the readout structure.">m_readout</a>;
<a name="l00146"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ab7817460de763632e629982ca4c2c847">00146</a>       <a class="code" href="class_d_d4hep_1_1_geometry_1_1_segmentation.html" title="Handle class supporting generic Segmentation of sensitive detectors.">Segmentation</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ab7817460de763632e629982ca4c2c847" title="Reference to segmentation.">m_segmentation</a>;
<a name="l00148"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7486440af0fb52c3ab233544262d2c95">00148</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_1_1_actors.html" title="Actor class to manipulate action groups.">Actors&lt;Geant4Filter&gt;</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7486440af0fb52c3ab233544262d2c95" title="The list of sensitive detector filter objects.">m_filters</a>;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     <span class="keyword">public</span>:
<a name="l00152"></a>00152       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a906ab36a3a6b09cd5ad01afb6d21fdfe" title="Constructor. The sensitive detector element is identified by the detector name.">Geant4Sensitive</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html" title="Generic context to extend user, run and event information.">Geant4Context</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#ae695d6fe735edceeea30e84afd329e38" title="Access the context.">context</a>, <span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3471b931eb84ab4fdc3fc4beddae512b" title="Access name of the action.">name</a>, <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> det, <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html" title="The main interface to the DD4hep detector description package.">LCDD</a>&amp; lcdd);
<a name="l00153"></a>00153 
<a name="l00155"></a>00155       <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ada2869ec6bcb9674eaa29f7e1c215729" title="Standard destructor.">~Geant4Sensitive</a>();
<a name="l00156"></a>00156 
<a name="l00158"></a>00158       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html" title="Interface class to access properties of the underlying Geant4 sensitive detector...">Geant4ActionSD</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#addca9fecaf087a7ce495960cae4cc8cc" title="Access to the sensitive detector object.">detector</a>() <span class="keyword">const</span>;
<a name="l00159"></a>00159 
<a name="l00161"></a>00161       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aac4f3a911f3818516bfb54a5b2bbef39" title="Access to the sensitive detector object.">setDetector</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html" title="Interface class to access properties of the underlying Geant4 sensitive detector...">Geant4ActionSD</a>* sens_det);
<a name="l00162"></a>00162 
<a name="l00164"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a5989fb84f6cf345de35d877f637c5b8d">00164</a>       <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a5989fb84f6cf345de35d877f637c5b8d" title="Property access to the hit creation mode.">hitCreationMode</a>()<span class="keyword"> const  </span>{
<a name="l00165"></a>00165         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a0dca1438c83ccee54eb9458bf12220b1" title="Property: Hit creation mode. Maybe one of the enum HitCreationFlags.">m_hitCreationMode</a>;
<a name="l00166"></a>00166       }
<a name="l00167"></a>00167 
<a name="l00169"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aebef8cd9fe54668ef5d19c481aef1452">00169</a>       std::string <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aebef8cd9fe54668ef5d19c481aef1452" title="G4VSensitiveDetector internals: Access to the detector name.">detectorName</a>()<span class="keyword"> const </span>{
<a name="l00170"></a>00170         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#addca9fecaf087a7ce495960cae4cc8cc" title="Access to the sensitive detector object.">detector</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3471b931eb84ab4fdc3fc4beddae512b" title="Access name of the action.">name</a>();
<a name="l00171"></a>00171       }
<a name="l00172"></a>00172 
<a name="l00174"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#af0dd51ffd093c81452258d43f064fe49">00174</a>       std::string <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#af0dd51ffd093c81452258d43f064fe49" title="G4VSensitiveDetector internals: Access to the detector path name.">path</a>()<span class="keyword"> const </span>{
<a name="l00175"></a>00175         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#addca9fecaf087a7ce495960cae4cc8cc" title="Access to the sensitive detector object.">detector</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a8d3333538a535ac963931173f15acfeb" title="G4VSensitiveDetector internals: Access to the detector path name.">path</a>();
<a name="l00176"></a>00176       }
<a name="l00177"></a>00177 
<a name="l00179"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a86cc8105ff6b9f80e3a4dfce385d3cd8">00179</a>       std::string <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a86cc8105ff6b9f80e3a4dfce385d3cd8" title="G4VSensitiveDetector internals: Access to the detector path name.">fullPath</a>()<span class="keyword"> const </span>{
<a name="l00180"></a>00180         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#addca9fecaf087a7ce495960cae4cc8cc" title="Access to the sensitive detector object.">detector</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#afaba405dfb4c663ba2403ad4558d9956" title="G4VSensitiveDetector internals: Access to the detector path name.">fullPath</a>();
<a name="l00181"></a>00181       }
<a name="l00182"></a>00182 
<a name="l00184"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a4440fac2d42489c6df33f3b8f416f512">00184</a>       <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a4440fac2d42489c6df33f3b8f416f512" title="G4VSensitiveDetector internals: Is the detector active?">isActive</a>()<span class="keyword"> const </span>{
<a name="l00185"></a>00185         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#addca9fecaf087a7ce495960cae4cc8cc" title="Access to the sensitive detector object.">detector</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a2c3791fc610294f1d3fc9ff6fe0e755f" title="Is the detector active?">isActive</a>();
<a name="l00186"></a>00186       }
<a name="l00187"></a>00187 
<a name="l00189"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a116a18b8967f8606b94779ece95d615d">00189</a>       <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a116a18b8967f8606b94779ece95d615d" title="Access the DD4hep sensitive detector.">sensitiveDetector</a>()<span class="keyword"> const  </span>{
<a name="l00190"></a>00190         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a02ba3b720aadf6e230b6c2c0cd258b2b" title="Reference to the sensitive detector element.">m_sensitive</a>;
<a name="l00191"></a>00191       }
<a name="l00192"></a>00192 
<a name="l00194"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a86be000830d41ed4aa72b0dad36875b2">00194</a>       G4VReadOutGeometry* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a86be000830d41ed4aa72b0dad36875b2" title="Access to the readout geometry of the sensitive detector.">readoutGeometry</a>()<span class="keyword"> const </span>{
<a name="l00195"></a>00195         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#addca9fecaf087a7ce495960cae4cc8cc" title="Access to the sensitive detector object.">detector</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#abf432e0098d25759837ddc2af5dc6c16" title="Access to the readout geometry of the sensitive detector.">readoutGeometry</a>();
<a name="l00196"></a>00196       }
<a name="l00197"></a>00197 
<a name="l00199"></a>00199       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ab5c51f863ef61aa15b89fd88f6709e70" title="Mark the track to be kept for MC truth propagation during hit processing.">mark</a>(<span class="keyword">const</span> G4Track* track) <span class="keyword">const</span>;
<a name="l00200"></a>00200 
<a name="l00202"></a>00202       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ab5c51f863ef61aa15b89fd88f6709e70" title="Mark the track to be kept for MC truth propagation during hit processing.">mark</a>(<span class="keyword">const</span> G4Step* step) <span class="keyword">const</span>;
<a name="l00203"></a>00203 
<a name="l00205"></a>00205       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html" title="The sequencer to host Geant4 sensitive actions called if particles interact with...">Geant4SensDetActionSequence</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a26950a2a0d717423dfef6d3bfe520677" title="Access to the hosting sequence.">sequence</a>() <span class="keyword">const</span>;
<a name="l00206"></a>00206 
<a name="l00208"></a>00208       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac1a68f5a62579041a301c8f3b3389175" title="Add an actor responding to all callbacks. Sequence takes ownership.">adopt</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html" title="Base class to construct filters for Geant4 sensitive detectors.">Geant4Filter</a>* filter);
<a name="l00209"></a>00209 
<a name="l00211"></a>00211       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a38dc5d69581c1acf08eb7aed152cf3f6" title="Add an actor responding to all callbacks to the sequence front. Sequence takes ownership...">adopt_front</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html" title="Base class to construct filters for Geant4 sensitive detectors.">Geant4Filter</a>* filter);
<a name="l00212"></a>00212 
<a name="l00214"></a>00214       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a54a242570db8df04bcf260d2e0ea3018" title="Add an actor responding to all callbacks. Sequence takes ownership.">adoptFilter</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html" title="Default base class for all Geant 4 actions and derivates thereof.">Geant4Action</a>* filter);
<a name="l00215"></a>00215 
<a name="l00217"></a>00217       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a923ce4e474920fab8d2c7c6762e82ef4" title="Add an actor responding to all callbacks to the sequence front. Sequence takes ownership...">adoptFilter_front</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html" title="Default base class for all Geant 4 actions and derivates thereof.">Geant4Action</a>* filter);
<a name="l00218"></a>00218 
<a name="l00220"></a>00220 
<a name="l00222"></a>00222       <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a8c6552ef34cfdbc36601fbcb996418c5" title="Callback before hit processing starts. Invoke all filters.">accept</a>(<span class="keyword">const</span> G4Step* step) <span class="keyword">const</span>;
<a name="l00223"></a>00223 
<a name="l00225"></a>00225       <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aecf98b3e67c2abd037499421bca5348f" title="Initialize the usage of a single hit collection. Returns the collection ID.">defineCollection</a>(<span class="keyword">const</span> std::string&amp; coll_name);
<a name="l00226"></a>00226 
<a name="l00228"></a>00228       <span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a8ec3aae450bedadc6b66a2f9fde69a6b" title="Access HitCollection container names.">hitCollectionName</a>(<span class="keywordtype">size_t</span> which) <span class="keyword">const</span>;
<a name="l00229"></a>00229 
<a name="l00231"></a>00231       <a class="code" href="class_d_d4hep_1_1_geometry_1_1_hit_collection.html" title="Definition of the HitCollection parameters used by the Readout.">HitCollection</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a49d2a794d7824475b7bac71d7342306b" title="Retrieve the hits collection associated with this detector by its serial number.">collection</a>(<span class="keywordtype">size_t</span> which);
<a name="l00232"></a>00232 
<a name="l00234"></a>00234       <a class="code" href="class_d_d4hep_1_1_geometry_1_1_hit_collection.html" title="Definition of the HitCollection parameters used by the Readout.">HitCollection</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ad45d2c806dd89d1434ba8eec35b87843" title="Retrieve the hits collection associated with this detector by its collection identifier...">collectionByID</a>(<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>);
<a name="l00235"></a>00235 
<a name="l00237"></a>00237       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a88c872b79e49e399c8ee282960c2d77d" title="Define collections created by this sensitivie action object.">defineCollections</a>();
<a name="l00238"></a>00238 
<a name="l00240"></a>00240 
<a name="l00243"></a>00243       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a2967b095e6c32ae82f68a8b25a086c86" title="G4VSensitiveDetector interface: Method invoked at the begining of each event.">begin</a>(G4HCofThisEvent* hce);
<a name="l00244"></a>00244 
<a name="l00246"></a>00246       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#abcce05101539a9941c06aada4625a608" title="G4VSensitiveDetector interface: Method invoked at the end of each event.">end</a>(G4HCofThisEvent* hce);
<a name="l00247"></a>00247 
<a name="l00249"></a>00249       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a9a9463a6c29a66dad43a52ffc9f7838d" title="G4VSensitiveDetector interface: Method for generating hit(s) using the information...">process</a>(G4Step* step, G4TouchableHistory* history);
<a name="l00250"></a>00250 
<a name="l00252"></a>00252 
<a name="l00257"></a>00257       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a3bb1c2f79261a98e83ec22102281d117" title="G4VSensitiveDetector interface: Method invoked if the event was aborted.">clear</a>(G4HCofThisEvent* hce);
<a name="l00258"></a>00258 
<a name="l00260"></a>00260 
<a name="l00263"></a>00263       <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a9aa1270e3fb490a4ebe511343903d72f" title="Returns the volumeID of the sensitive volume corresponding to the step.">volumeID</a>(<span class="keyword">const</span> G4Step* step);
<a name="l00264"></a>00264 
<a name="l00266"></a>00266 
<a name="l00270"></a>00270       <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a1e79173455ccff4d70cd1325b26ad3e9" title="Returns the cellID of the sensitive volume corresponding to the step.">cellID</a>(<span class="keyword">const</span> G4Step* step);
<a name="l00271"></a>00271 
<a name="l00272"></a>00272     };
<a name="l00273"></a>00273 
<a name="l00275"></a>00275 
<a name="l00282"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html">00282</a>     <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html" title="The sequencer to host Geant4 sensitive actions called if particles interact with...">Geant4SensDetActionSequence</a>: <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html" title="Default base class for all Geant 4 actions and derivates thereof.">Geant4Action</a> {
<a name="l00283"></a>00283     <span class="keyword">public</span>:
<a name="l00284"></a>00284 
<a name="l00285"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a9d428afdc7b9189bce5dab4f16db17fb">00285</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">Geometry::SensitiveDetector</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>;
<a name="l00286"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a81e56326a5a51cf3df62bfe60014b291">00286</a>       <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html" title="Generic hit container class using Geant4HitWrapper objects.">Geant4HitCollection</a>* (*create_t)(<span class="keyword">const</span> std::string&amp;, <span class="keyword">const</span> std::string&amp;, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html" title="The base class for Geant4 sensitive detector actions implemented by users.">Geant4Sensitive</a>*);
<a name="l00287"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ac2b994581eab7aad3b5473ac416f65fd">00287</a>       <span class="keyword">typedef</span> std::pair&lt;std::string, std::pair&lt;Geant4Sensitive*,create_t&gt; &gt; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_hit_collection.html" title="Definition of the HitCollection parameters used by the Readout.">HitCollection</a>;
<a name="l00288"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aabeb325e4b6af156cbae3578b00301b3">00288</a>       <span class="keyword">typedef</span> std::vector&lt;HitCollection&gt; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aabeb325e4b6af156cbae3578b00301b3">HitCollections</a>;
<a name="l00289"></a>00289 
<a name="l00290"></a>00290     <span class="keyword">protected</span>:
<a name="l00292"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">00292</a>       G4HCofThisEvent* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116" title="Geant4 hit collection context.">m_hce</a>;
<a name="l00294"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a8feceb005db2ea028c4a778dd600b00b">00294</a>       <a class="code" href="struct_d_d4hep_1_1_callback_sequence.html" title="Definition of an actor on sequences of callbacks.">CallbackSequence</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a8feceb005db2ea028c4a778dd600b00b" title="Callback sequence for event initialization action.">m_begin</a>;
<a name="l00296"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a15a09899c6ec50b8d14f4543362d9c91">00296</a>       <a class="code" href="struct_d_d4hep_1_1_callback_sequence.html" title="Definition of an actor on sequences of callbacks.">CallbackSequence</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a15a09899c6ec50b8d14f4543362d9c91" title="Callback sequence for event finalization action.">m_end</a>;
<a name="l00298"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a2ebfed15148432bab44c58ce3c7a0a95">00298</a>       <a class="code" href="struct_d_d4hep_1_1_callback_sequence.html" title="Definition of an actor on sequences of callbacks.">CallbackSequence</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a2ebfed15148432bab44c58ce3c7a0a95" title="Callback sequence for step processing.">m_process</a>;
<a name="l00300"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5d720697074ed4775143ebdae2073a16">00300</a>       <a class="code" href="struct_d_d4hep_1_1_callback_sequence.html" title="Definition of an actor on sequences of callbacks.">CallbackSequence</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5d720697074ed4775143ebdae2073a16" title="Callback sequence to invoke the event deletion.">m_clear</a>;
<a name="l00302"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">00302</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_1_1_actors.html" title="Actor class to manipulate action groups.">Actors&lt;Geant4Sensitive&gt;</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f" title="The list of sensitive detector objects.">m_actors</a>;
<a name="l00304"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a67b12a0e51d5249be593f874182155ab">00304</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_1_1_actors.html" title="Actor class to manipulate action groups.">Actors&lt;Geant4Filter&gt;</a>    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a67b12a0e51d5249be593f874182155ab" title="The list of sensitive detector filter objects.">m_filters</a>;
<a name="l00305"></a>00305 
<a name="l00307"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">00307</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aabeb325e4b6af156cbae3578b00301b3">HitCollections</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca" title="Hit collection creators.">m_collections</a>;
<a name="l00309"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a480029ca979ac872688986da731930b8">00309</a>       <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a480029ca979ac872688986da731930b8" title="Reference to the sensitive detector element.">m_sensitive</a>;
<a name="l00311"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a4c35959bba4b7d3f05a8aa48970be68a">00311</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html" title="Interface class to access properties of the underlying Geant4 sensitive detector...">Geant4ActionSD</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a4c35959bba4b7d3f05a8aa48970be68a" title="Reference to G4 sensitive detector.">m_detector</a>;
<a name="l00313"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a51bf2c5186ea7905ae655b44d6aea06f">00313</a>       std::string <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a51bf2c5186ea7905ae655b44d6aea06f" title="The true sensitive type of the detector.">m_sensitiveType</a>;
<a name="l00315"></a>00315       <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">static</span> 
<a name="l00316"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a1620735a4aa22fb041c0a8b31893bfe1">00316</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html" title="Generic hit container class using Geant4HitWrapper objects.">Geant4HitCollection</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a1620735a4aa22fb041c0a8b31893bfe1" title="Create a new typed hit collection.">_create</a>(<span class="keyword">const</span> std::string&amp; det, <span class="keyword">const</span> std::string&amp; coll, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html" title="The base class for Geant4 sensitive detector actions implemented by users.">Geant4Sensitive</a>* sd) {
<a name="l00317"></a>00317         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html" title="Generic hit container class using Geant4HitWrapper objects.">Geant4HitCollection</a>(det, coll, sd, (TYPE*) 0);
<a name="l00318"></a>00318       }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     <span class="keyword">public</span>:
<a name="l00322"></a>00322       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a6930930d7fb224b53979dd6decc4907b" title="Standard constructor.">Geant4SensDetActionSequence</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html" title="Generic context to extend user, run and event information.">Geant4Context</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#ae695d6fe735edceeea30e84afd329e38" title="Access the context.">context</a>, <span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3471b931eb84ab4fdc3fc4beddae512b" title="Access name of the action.">name</a>);
<a name="l00323"></a>00323 
<a name="l00325"></a>00325       <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a0e8473bdb136ab4eae734fd3305b4f05" title="Default destructor.">~Geant4SensDetActionSequence</a>();
<a name="l00326"></a>00326 
<a name="l00328"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a6532bc350702a2c13bd15e6450e525c5">00328</a>       <span class="keyword">virtual</span> <span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a6532bc350702a2c13bd15e6450e525c5" title="Access to the sensitive type of the detector.">sensitiveType</a>()<span class="keyword"> const   </span>{
<a name="l00329"></a>00329         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a51bf2c5186ea7905ae655b44d6aea06f" title="The true sensitive type of the detector.">m_sensitiveType</a>;
<a name="l00330"></a>00330       }
<a name="l00331"></a>00331 
<a name="l00333"></a>00333       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5878271f8da03d02bf4b3b8145246775" title="Set or update client context.">updateContext</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html" title="Generic context to extend user, run and event information.">Geant4Context</a>* ctxt);
<a name="l00334"></a>00334 
<a name="l00336"></a>00336       <span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a6b123f2232b47f787478fd744898ab0e" title="Called at construction time of the sensitive detector to declare all hit collections...">defineCollections</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html" title="Interface class to access properties of the underlying Geant4 sensitive detector...">Geant4ActionSD</a>* sens_det);
<a name="l00337"></a>00337 
<a name="l00339"></a>00339       <span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af610d10bd4b9a699b7d8b4179b0de946" title="Initialize the usage of a hit collection. Returns the collection identifier.">defineCollection</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html" title="The base class for Geant4 sensitive detector actions implemented by users.">Geant4Sensitive</a>* owner, <span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3471b931eb84ab4fdc3fc4beddae512b" title="Access name of the action.">name</a>, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a81e56326a5a51cf3df62bfe60014b291">create_t</a> func);
<a name="l00340"></a>00340 
<a name="l00342"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af695ff3e1e2eee1b7a79a5d1c2a58cd5">00342</a>       <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af695ff3e1e2eee1b7a79a5d1c2a58cd5" title="Define a named collection containing hist of a specified type.">defineCollection</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html" title="The base class for Geant4 sensitive detector actions implemented by users.">Geant4Sensitive</a>* owner, <span class="keyword">const</span> std::string&amp; coll_name) {
<a name="l00343"></a>00343         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af610d10bd4b9a699b7d8b4179b0de946" title="Initialize the usage of a hit collection. Returns the collection identifier.">defineCollection</a>(owner, coll_name, Geant4SensDetActionSequence::_create&lt;TYPE&gt;);
<a name="l00344"></a>00344       }
<a name="l00345"></a>00345 
<a name="l00347"></a>00347       <span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a6f9bd0c50d2373f56032da383468ea87" title="Access HitCollection container names.">hitCollectionName</a>(<span class="keywordtype">size_t</span> which) <span class="keyword">const</span>;
<a name="l00349"></a>00349       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html" title="Generic hit container class using Geant4HitWrapper objects.">Geant4HitCollection</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af50bd4353281e47a0fdf09bee888b092" title="Retrieve the hits collection associated with this detector by its serial number.">collection</a>(<span class="keywordtype">size_t</span> which) <span class="keyword">const</span>;
<a name="l00351"></a>00351       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html" title="Generic hit container class using Geant4HitWrapper objects.">Geant4HitCollection</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af724af407cc2823ba81803760500462c" title="Retrieve the hits collection associated with this detector by its collection identifier...">collectionByID</a>(<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>) <span class="keyword">const</span>;
<a name="l00353"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7905b361bff7168ed4aaf91743f287f2">00353</a>       <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7905b361bff7168ed4aaf91743f287f2" title="Register begin-of-event callback.">callAtBegin</a>(<a class="code" href="class_t.html">T</a>* p, <span class="keywordtype">void</span> (<a class="code" href="class_t.html">T</a>::*f)(G4HCofThisEvent*)) {
<a name="l00354"></a>00354         <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a8feceb005db2ea028c4a778dd600b00b" title="Callback sequence for event initialization action.">m_begin</a>.<a class="code" href="struct_d_d4hep_1_1_callback_sequence.html#a5941696a51eacc65b1c9221e03e4077d" title="Generically Add a new callback to the sequence depending on the location arguments...">add</a>(p, f);
<a name="l00355"></a>00355       }
<a name="l00356"></a>00356 
<a name="l00358"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ade99ad7b09ea4aca99de6af0ecba4149">00358</a>       <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ade99ad7b09ea4aca99de6af0ecba4149" title="Register end-of-event callback.">callAtEnd</a>(<a class="code" href="class_t.html">T</a>* p, <span class="keywordtype">void</span> (<a class="code" href="class_t.html">T</a>::*f)(G4HCofThisEvent*)) {
<a name="l00359"></a>00359         <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a15a09899c6ec50b8d14f4543362d9c91" title="Callback sequence for event finalization action.">m_end</a>.<a class="code" href="struct_d_d4hep_1_1_callback_sequence.html#a5941696a51eacc65b1c9221e03e4077d" title="Generically Add a new callback to the sequence depending on the location arguments...">add</a>(p, f);
<a name="l00360"></a>00360       }
<a name="l00361"></a>00361 
<a name="l00363"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a89a1ba859a0048eeab83244e9d4bc9b3">00363</a>       <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a89a1ba859a0048eeab83244e9d4bc9b3" title="Register process-hit callback.">callAtProcess</a>(<a class="code" href="class_t.html">T</a>* p, <span class="keywordtype">void</span> (<a class="code" href="class_t.html">T</a>::*f)(G4Step*, G4TouchableHistory*)) {
<a name="l00364"></a>00364         <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a2ebfed15148432bab44c58ce3c7a0a95" title="Callback sequence for step processing.">m_process</a>.<a class="code" href="struct_d_d4hep_1_1_callback_sequence.html#a5941696a51eacc65b1c9221e03e4077d" title="Generically Add a new callback to the sequence depending on the location arguments...">add</a>(p, f);
<a name="l00365"></a>00365       }
<a name="l00366"></a>00366 
<a name="l00368"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5c9a64cfbcc0b52ee1c18c0432705bfb">00368</a>       <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5c9a64cfbcc0b52ee1c18c0432705bfb" title="Register clear callback.">callAtClear</a>(<a class="code" href="class_t.html">T</a>* p, <span class="keywordtype">void</span> (<a class="code" href="class_t.html">T</a>::*f)(G4HCofThisEvent*)) {
<a name="l00369"></a>00369         <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5d720697074ed4775143ebdae2073a16" title="Callback sequence to invoke the event deletion.">m_clear</a>.<a class="code" href="struct_d_d4hep_1_1_callback_sequence.html#a5941696a51eacc65b1c9221e03e4077d" title="Generically Add a new callback to the sequence depending on the location arguments...">add</a>(p, f);
<a name="l00370"></a>00370       }
<a name="l00371"></a>00371 
<a name="l00373"></a>00373       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a01437840682e0edbee69d11c99f73b5f" title="Add an actor responding to all callbacks. Sequence takes ownership.">adopt</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html" title="The base class for Geant4 sensitive detector actions implemented by users.">Geant4Sensitive</a>* sensitive);
<a name="l00374"></a>00374 
<a name="l00376"></a>00376       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a01437840682e0edbee69d11c99f73b5f" title="Add an actor responding to all callbacks. Sequence takes ownership.">adopt</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html" title="Base class to construct filters for Geant4 sensitive detectors.">Geant4Filter</a>* filter);
<a name="l00377"></a>00377 
<a name="l00379"></a>00379       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ae387c8632412ef9eec6ed9767d3ea01b" title="Add an actor responding to all callbacks. Sequence takes ownership.">adoptFilter</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html" title="Default base class for all Geant 4 actions and derivates thereof.">Geant4Action</a>* filter);
<a name="l00380"></a>00380 
<a name="l00382"></a>00382 
<a name="l00384"></a>00384       <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a91a3ce22bc0e78c28496e77113596829" title="Callback before hit processing starts. Invoke all filters.">accept</a>(<span class="keyword">const</span> G4Step* step) <span class="keyword">const</span>;
<a name="l00385"></a>00385 
<a name="l00387"></a>00387       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a452bc5bf7c03c8b546d3459ba7bf7e36" title="Function to process hits.">process</a>(G4Step* step, G4TouchableHistory* hist);
<a name="l00388"></a>00388 
<a name="l00390"></a>00390 
<a name="l00393"></a>00393       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a59c1e52c811f9385da294c0b18704ab1" title="G4VSensitiveDetector interface: Method invoked at the begining of each event.">begin</a>(G4HCofThisEvent* hce);
<a name="l00394"></a>00394 
<a name="l00396"></a>00396 
<a name="l00397"></a>00397       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a2b7944c785413b2a479f4ba4ad2e1515" title="G4VSensitiveDetector interface: Method invoked at the end of each event.">end</a>(G4HCofThisEvent* hce);
<a name="l00399"></a>00399 
<a name="l00404"></a>00404       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ab2bab9282950af33d3e14e3f0d5864fd" title="G4VSensitiveDetector interface: Method invoked if the event was aborted.">clear</a>();
<a name="l00405"></a>00405     };
<a name="l00406"></a>00406 
<a name="l00408"></a>00408 
<a name="l00420"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html">00420</a>     <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html" title="Geant4SensDetSequences: class to access groups of sensitive actions.">Geant4SensDetSequences</a> {
<a name="l00421"></a>00421     <span class="keyword">public</span>:
<a name="l00422"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a17a3e017d1d61a4f615d4e8eef0f98cb">00422</a>       <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html" title="Class, which allows all Geant4Action to be stored.">Geant4ActionContainer</a>;
<a name="l00423"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a0dd78d992a2c8dccba1ab80d814020cc">00423</a>       <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html" title="The sequencer to host Geant4 sensitive actions called if particles interact with...">Geant4SensDetActionSequence</a>;
<a name="l00424"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a2266138a517dd9b784af9234312fdd12">00424</a>       <span class="keyword">typedef</span> std::map&lt;std::string, Geant4SensDetActionSequence*&gt; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a2266138a517dd9b784af9234312fdd12">Members</a>;
<a name="l00425"></a>00425     <span class="keyword">private</span>:
<a name="l00426"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a913b05e77e69effeeafbd0f7a604cd70">00426</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a2266138a517dd9b784af9234312fdd12">Members</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a913b05e77e69effeeafbd0f7a604cd70">m_sequences</a>;
<a name="l00428"></a>00428       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a4ec3cfb93ef16c90a28f451c58711692" title="Insert sequence member.">insert</a>(<span class="keyword">const</span> std::string&amp; name, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html" title="The sequencer to host Geant4 sensitive actions called if particles interact with...">Geant4SensDetActionSequence</a>* seq);
<a name="l00429"></a>00429     <span class="keyword">public</span>:
<a name="l00431"></a>00431       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a5a78304dcb1472bf7a7de1b4305a264f" title="Default constructor.">Geant4SensDetSequences</a>();
<a name="l00433"></a>00433       <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a6f27557827175da8f038b84959cb109d" title="Default destructor.">~Geant4SensDetSequences</a>();
<a name="l00435"></a>00435       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html" title="The sequencer to host Geant4 sensitive actions called if particles interact with...">Geant4SensDetActionSequence</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#ac9ce2f754375eef699ff1a05c1759c03" title="Access sequence member by name.">operator[]</a>(<span class="keyword">const</span> std::string&amp; name) <span class="keyword">const</span>;
<a name="l00437"></a>00437       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html" title="The sequencer to host Geant4 sensitive actions called if particles interact with...">Geant4SensDetActionSequence</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a3eab0a62ebd3ebf84c311732e40bc162" title="Access sequence member by name.">find</a>(<span class="keyword">const</span> std::string&amp; name) <span class="keyword">const</span>;
<a name="l00439"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a40e7646be1758328d5bf58213b320bf9">00439</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a2266138a517dd9b784af9234312fdd12">Members</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a40e7646be1758328d5bf58213b320bf9" title="Access to the members.">sequences</a>() {
<a name="l00440"></a>00440         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a913b05e77e69effeeafbd0f7a604cd70">m_sequences</a>;
<a name="l00441"></a>00441       }
<a name="l00443"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#aacde15e4b1fb60c1ed56f438bc92db9a">00443</a>       <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a2266138a517dd9b784af9234312fdd12">Members</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#aacde15e4b1fb60c1ed56f438bc92db9a" title="Access to the members CONST.">sequences</a>()<span class="keyword"> const </span>{
<a name="l00444"></a>00444         <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a913b05e77e69effeeafbd0f7a604cd70">m_sequences</a>;
<a name="l00445"></a>00445       }
<a name="l00447"></a>00447       <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#ad30860ebb23e7fbbaf18c8a7194ae6cc" title="Clear the sequence list.">clear</a>();
<a name="l00448"></a>00448     };
<a name="l00449"></a>00449 
<a name="l00451"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aecf98b3e67c2abd037499421bca5348f">00451</a>     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aecf98b3e67c2abd037499421bca5348f" title="Initialize the usage of a single hit collection. Returns the collection ID.">Geant4Sensitive::defineCollection</a>(<span class="keyword">const</span> std::string&amp; coll_name) {
<a name="l00452"></a>00452       <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a26950a2a0d717423dfef6d3bfe520677" title="Access to the hosting sequence.">sequence</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af610d10bd4b9a699b7d8b4179b0de946" title="Initialize the usage of a hit collection. Returns the collection identifier.">defineCollection</a>&lt;TYPE&gt;(<span class="keyword">this</span>, coll_name);
<a name="l00453"></a>00453     }
<a name="l00454"></a>00454 
<a name="l00456"></a>00456 
<a name="l00469"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html">00469</a>     <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html" title="Template class to ease the construction of sensitive detectors using particle template...">Geant4SensitiveAction</a> : <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html" title="The base class for Geant4 sensitive detector actions implemented by users.">Geant4Sensitive</a>  {
<a name="l00470"></a>00470     <span class="keyword">public</span>:
<a name="l00471"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a1aa349c02363cf7471a043ad5f3b95c9">00471</a>       <span class="keyword">typedef</span> T <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a1aa349c02363cf7471a043ad5f3b95c9">UserData</a>;
<a name="l00472"></a>00472     <span class="keyword">protected</span>:
<a name="l00474"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a63934f5c71f72677f47b6666dbedba69">00474</a>       std::string <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a63934f5c71f72677f47b6666dbedba69" title="Property: collection name. If not set default is readout name!">m_collectionName</a>;
<a name="l00476"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#aa73c450b64116d4e52be7accbef7bea9">00476</a>       <span class="keywordtype">size_t</span>      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#aa73c450b64116d4e52be7accbef7bea9" title="Collection identifier.">m_collectionID</a>;
<a name="l00478"></a><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a0e1c5a4683c5a4e50a0e3325b61f5275">00478</a>       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a1aa349c02363cf7471a043ad5f3b95c9">UserData</a>    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a0e1c5a4683c5a4e50a0e3325b61f5275" title="User data block.">m_userData</a>;
<a name="l00479"></a>00479 
<a name="l00480"></a>00480     <span class="keyword">public</span>:
<a name="l00482"></a>00482       <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#ae1ede070242c666b523a1bb28a19a8f5" title="Standard , initializing constructor.">Geant4SensitiveAction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html" title="Generic context to extend user, run and event information.">Geant4Context</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#ae695d6fe735edceeea30e84afd329e38" title="Access the context.">context</a>,
<a name="l00483"></a>00483                             <span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3471b931eb84ab4fdc3fc4beddae512b" title="Access name of the action.">name</a>,
<a name="l00484"></a>00484                             <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">Geometry::DetElement</a> det,
<a name="l00485"></a>00485                             <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html" title="The main interface to the DD4hep detector description package.">Geometry::LCDD</a>&amp; lcdd);
<a name="l00487"></a>00487       <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a2f233b92d70c7303055662c753063c7f" title="Default destructor.">~Geant4SensitiveAction</a>();
<a name="l00488"></a>00488 
<a name="l00490"></a>00490       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a103768b61e0f22768de9a91ce588a88c" title="Define collections created by this sensitivie action object.">defineCollections</a>();
<a name="l00491"></a>00491 
<a name="l00493"></a>00493 
<a name="l00503"></a>00503       <span class="keyword">template</span> &lt;<span class="keyword">typename</span> HIT&gt; <span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a0a2a07e65f4808da39312569b32145ac" title="Define readout specific hit collection with volume ID filtering.">declareReadoutFilteredCollection</a>();
<a name="l00504"></a>00504 
<a name="l00506"></a>00506       <span class="keyword">template</span> &lt;<span class="keyword">typename</span> HIT&gt; 
<a name="l00507"></a>00507       <span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a06c06999bf63699e91462e156e0212e1" title="Define readout specific hit collection. matching name must be present in readout...">defineReadoutCollection</a>(<span class="keyword">const</span> std::string collection_name);
<a name="l00508"></a>00508 
<a name="l00510"></a>00510       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a6f4a254db9610da9e0a9b8c0a66a20da" title="Initialization overload for specialization.">initialize</a>();
<a name="l00512"></a>00512       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#acf98c9d63c8703544da1e68b6c1abeae" title="Finalization overload for specialization.">finalize</a>();
<a name="l00514"></a>00514       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a2e9739b3741bb245e3cc7edb41e7374d" title="G4VSensitiveDetector interface: Method invoked at the begining of each event.">begin</a>(G4HCofThisEvent* hce);
<a name="l00516"></a>00516       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a144120acdde58a966bd627c572ca191d" title="G4VSensitiveDetector interface: Method invoked at the end of each event.">end</a>(G4HCofThisEvent* hce);
<a name="l00518"></a>00518       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a36759982ed0876a5ce81c14973c18077" title="G4VSensitiveDetector interface: Method for generating hit(s) using the G4Step object...">process</a>(G4Step* step,G4TouchableHistory* history);
<a name="l00520"></a>00520       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_action.html#a52a9e46a54f3e1605637dc281a878b0d" title="G4VSensitiveDetector interface: Method invoked if the event was aborted.">clear</a>(G4HCofThisEvent* hce);
<a name="l00521"></a>00521     };
<a name="l00522"></a>00522 
<a name="l00523"></a>00523 
<a name="l00524"></a>00524   }    <span class="comment">// End namespace Simulation</span>
<a name="l00525"></a>00525 }      <span class="comment">// End namespace DD4hep</span>
<a name="l00526"></a>00526 
<a name="l00527"></a>00527 <span class="preprocessor">#endif // DD4HEP_DDG4_GEANT4RUNACTION_H</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<!--BEGIN GENERATE_TREEVIEW-->
    <li class="footer">$generatedby
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </li>
   </ul>
 </div>
<!--END GENERATE_TREEVIEW-->
<!--BEGIN !GENERATE_TREEVIEW-->
<hr class="footer"/><address class="footer"><small>
$generatedby &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.6.1
</small></address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
