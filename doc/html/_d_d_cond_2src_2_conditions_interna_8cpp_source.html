<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DD4hep: /afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDCond/src/ConditionsInterna.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="DD4hep.css" rel="stylesheet" type="text/css" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 100px;">
  <td id="projectlogo"><img alt="Logo" src="../doc/LaTex/CERN-logo.png" height="72"/></td>
  <td id="projectlogo"><img alt="Logo" src="DD4hep-AIDA-logo.png" height="72"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectbrief">DD4hep - The AIDA detector description toolkit for high energy physics experiments</div>
   <div id="projectname">DD4hep
   &#160;<span id="projectnumber">Rev:exported</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_f976b217be71007fc1386a9d14883345.html">DDCond</a></li><li class="navelem"><a class="el" href="dir_31153411e731709d6a9926aeeac7218b.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ConditionsInterna.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_d_d_cond_2src_2_conditions_interna_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// $Id$</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//==========================================================================</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//  AIDA Detector description implementation for LCD</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//--------------------------------------------------------------------------</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Copyright (C) Organisation europeenne pour la Recherche nucleaire (CERN)</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// All rights reserved.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// For the licensing terms see $DD4hepINSTALL/LICENSE.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// For the list of contributors see $DD4hepINSTALL/doc/CREDITS.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Author     : M.Frank</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//==========================================================================</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// Framework include files</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_l_c_d_d_8h.html">DD4hep/LCDD.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_errors_8h.html">DD4hep/Errors.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_plugins_8h.html">DD4hep/Plugins.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_printout_8h.html">DD4hep/Printout.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_world_8h.html">DD4hep/World.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_handle_8inl.html">DD4hep/Handle.inl</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_detector_tools_8h.html">DD4hep/DetectorTools.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_instance_count_8h.html">DD4hep/InstanceCount.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_plugin_creators_8h.html">DD4hep/PluginCreators.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_det_factory_helper_8h.html">DD4hep/DetFactoryHelper.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_detector_interna_8h.html">DD4hep/objects/DetectorInterna.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h.html">DD4hep/objects/ConditionsInterna.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_alignments_interna_8h.html">DD4hep/objects/AlignmentsInterna.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_conditions_pool_8h.html">DDCond/ConditionsPool.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_conditions_entry_8h.html">DDCond/ConditionsEntry.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_conditions_manager_8h.html">DDCond/ConditionsManager.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_conditions_data_loader_8h.html">DDCond/ConditionsDataLoader.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h.html">DDCond/ConditionsInterna.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_conditions_listener_8h.html">DDCond/ConditionsListener.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_conditions_loader_imp_8h.html">DDCond/ConditionsLoaderImp.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_alignments_loader_imp_8h.html">DDCond/AlignmentsLoaderImp.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_d_d4hep.html">DD4hep</a>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_d_d4hep_1_1_conditions.html">DD4hep::Conditions</a>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#ac09a1fb44c9ab0363a450f118f567286">   43</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_alignments_1_1_alignments_loader.html">Alignments::AlignmentsLoader</a> <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#ac09a1fb44c9ab0363a450f118f567286">AlignmentsLoader</a>;</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a4577998655a70ab228539800babb9642">   44</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_update_pool.html#a1a578a7a025ded412da474be106dc780">UpdatePool::UpdateEntries</a> <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a4577998655a70ab228539800babb9642">Updates</a>;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a71e82ba4bbbab6ac54ac7b08c37ef076">   45</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="namespace_d_d4hep_1_1_conditions.html#ae765f0140a33973a430280f02b6062f4">RangeConditions</a> <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a71e82ba4bbbab6ac54ac7b08c37ef076">RC</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<a class="code" href="_d_d_core_2src_2_conditions_interna_8cpp.html#a07b34c5c781aa2f0acdae8c583c65010">DD4HEP_INSTANTIATE_HANDLE_NAMED</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html">ConditionsManagerObject</a>);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#aa689d1f92db6113c8874a7dcd8bd7388">   49</a></span>&#160;<span class="preprocessor">#define NO_AGE 0</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keyword">struct </span>Range {};</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keyword">struct </span>Discrete {};</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordtype">int</span> s_debug = <a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2">INFO</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* check_iov_type(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html">ConditionsManagerObject</a>* o, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>* iov);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">template</span> &lt;&gt; <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* check_iov_type&lt;void&gt;(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html">ConditionsManagerObject</a>* o, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>* iov)   {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> ( iov )  {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* typ = iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a885a5ed2be528cf1db783cade2a0b838">iovType</a> ? iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a885a5ed2be528cf1db783cade2a0b838">iovType</a> : o-&gt;iovType(iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a497f2859ca7cb011151ae6b977b50aa0">type</a>);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">if</span> ( typ )  {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">if</span> ( iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a497f2859ca7cb011151ae6b977b50aa0">type</a> == typ-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a> )  {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;          <span class="keywordflow">if</span> ( typ-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a> &lt; o-&gt;m_rawPool.size() )  {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">if</span> ( o-&gt;m_rawPool[typ-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a>] != 0 )  {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;              <span class="keywordflow">return</span> typ;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;          }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keyword">template</span> &lt;&gt; <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* check_iov_type&lt;Discrete&gt;(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html">ConditionsManagerObject</a>* o, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>* iov)   {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* typ = check_iov_type&lt;void&gt;(o,iov);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> ( typ &amp;&amp; !iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#aac9c5f6a22219991896f6a846b3f3649">has_range</a>() ) <span class="keywordflow">return</span> typ;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keyword">template</span> &lt;&gt; <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* check_iov_type&lt;Range&gt;(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html">ConditionsManagerObject</a>* o, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>* iov)   {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* typ = check_iov_type&lt;void&gt;(o,iov);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> ( typ &amp;&amp; iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#aac9c5f6a22219991896f6a846b3f3649">has_range</a>() ) <span class="keywordflow">return</span> typ;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> __check_values__(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html">ConditionsManagerObject</a>* o, <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a7528efa762e8cc072ef80ea67c3531f9">Condition::key_type</a> key, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>* iov)  </div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> ( !iov )  {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Invalid IOV to access condition: %08X. [Null-reference]&quot;</span>,key);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* typ = check_iov_type&lt;T&gt;(o,iov);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> ( !typ )  {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="comment">// Severe: We have an unknown IOV type. This is not allowed, </span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="comment">// because we do not known hot to handle it.....</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Invalid IOV type [%d] to access condition: %08X.&quot;</span>,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;             iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a497f2859ca7cb011151ae6b977b50aa0">type</a>, key);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordtype">bool</span> is_range_complete(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>&amp; iov, <span class="keyword">const</span> <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a71e82ba4bbbab6ac54ac7b08c37ef076">RC</a>&amp; conditions)  {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> ( !conditions.empty() )  {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="comment">// We need to check if the entire range is covered.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="comment">// For every key.second we must find a key.first, which is at least as big</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07cb46dc875296dc9cccf4ff370104ae">IOV::Key</a> test=iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a28eb02fd8d9c45b770e6a234303991de">keyData</a>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="comment">// The range may be returned unordered. Hence, </span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="comment">// we have to try to match at most conditions.size() times until we really know</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> j = 0; j &lt; conditions.size(); ++j )  {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">for</span>(RC::const_iterator i=conditions.begin(); i!=conditions.end(); ++i)  {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;          <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07cb46dc875296dc9cccf4ff370104ae">IOV::Key</a>&amp; k = (*i)-&gt;iov-&gt;key();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;          <span class="keywordflow">if</span> ( k.first   &lt;= test.first+1 &amp;&amp; k.second &gt;= test.first  ) test.first = k.second;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          <span class="keywordflow">if</span> ( k.first+1 &lt;= test.second  &amp;&amp; k.second &gt;= test.second ) test.second = k.first;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;          <span class="comment">//printout(INFO,&quot;Test&quot;,&quot;IOV: %ld,%ld --&gt; %ld,%ld&quot;,k.first,k.second, test.first, test.second);</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          <span class="keywordflow">if</span> ( test.first &gt;= test.second ) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">if</span> ( test.first &lt;= iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a28eb02fd8d9c45b770e6a234303991de">keyData</a>.first &amp;&amp; test.second &gt;= iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a28eb02fd8d9c45b770e6a234303991de">keyData</a>.second ) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PMF&gt;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordtype">void</span> __callListeners(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aba0162524bc90a39e30bd5f1f0067ee2">ConditionsManagerObject::Listeners</a>&amp; listeners, PMF pmf, <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a>&amp; cond)  {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">for</span>(ConditionsManagerObject::Listeners::const_iterator i=listeners.begin(); i!=listeners.end(); ++i)  {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac4cd1e3a448bc1f8bae384d194f10c23">ConditionsManagerObject::Listener</a>&amp; listener = *i;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      (listener.first-&gt;*pmf)(cond, listener.second);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#adff4e6fe39f5057945ff8ac0634aad2e">  137</a></span>&#160;ConditionsManagerObject::ConditionsManagerObject(<a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html">LCDD</a>&amp; lcdd_instance)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  : <a class="code" href="class_d_d4hep_1_1_named_object.html">NamedObject</a>(), <a class="code" href="class_d_d4hep_1_1_object_extensions.html">ObjectExtensions</a>(typeid(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html">ConditionsManagerObject</a>)), m_lcdd(lcdd_instance), m_iovTypes(), m_rawPool(), </div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    m_updateLock(), m_poolLock(), m_loader(),</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    m_updatePool(), </div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    locked(0)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#aaaf8d46a477863acc69b65afbab96b22">InstanceCount::increment</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="class_d_d4hep_1_1_property_configurable.html#ae05fd8e07c3bf4f89b9bcc84714a7950">declareProperty</a>(<span class="stringliteral">&quot;MaxIOVTypes&quot;</span>,         <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a8367e7cb7b833dee436e0eacb6c37a87">m_maxIOVTypes</a>=32);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="class_d_d4hep_1_1_property_configurable.html#ae05fd8e07c3bf4f89b9bcc84714a7950">declareProperty</a>(<span class="stringliteral">&quot;PoolType&quot;</span>,            <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#acbd30bb422ca98796d1eabf4e17706a2">m_poolType</a>   = <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="class_d_d4hep_1_1_property_configurable.html#ae05fd8e07c3bf4f89b9bcc84714a7950">declareProperty</a>(<span class="stringliteral">&quot;UpdatePoolType&quot;</span>,      <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a015a2e784bea5773c62513f6d24af753">m_updateType</a> = <span class="stringliteral">&quot;DD4hep_ConditionsLinearUpdatePool&quot;</span>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="class_d_d4hep_1_1_property_configurable.html#ae05fd8e07c3bf4f89b9bcc84714a7950">declareProperty</a>(<span class="stringliteral">&quot;UserPoolType&quot;</span>,        <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abe38ba943a936b6322ec553e53f0c7dd">m_userType</a>   = <span class="stringliteral">&quot;DD4hep_ConditionsMapUserPool&quot;</span>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="class_d_d4hep_1_1_property_configurable.html#ae05fd8e07c3bf4f89b9bcc84714a7950">declareProperty</a>(<span class="stringliteral">&quot;LoaderType&quot;</span>,          <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#adc2a8ecbe9ee734901bdf11dc2e3da0e">m_loaderType</a> = <span class="stringliteral">&quot;multi&quot;</span>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abc6f28abb03bdfa1f3c0d51de6e6ac9d">m_iovTypes</a>.resize(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a8367e7cb7b833dee436e0eacb6c37a87">m_maxIOVTypes</a>,<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>());</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>.resize(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a8367e7cb7b833dee436e0eacb6c37a87">m_maxIOVTypes</a>,0);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a78747f9367ce2e43b3d0ee4214eb9ab3">  154</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a78747f9367ce2e43b3d0ee4214eb9ab3">ConditionsManagerObject::~ConditionsManagerObject</a>()   {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="class_d_d4hep_1_1_geometry_1_1_world.html">Geometry::World</a> world(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a6ca16a780558379464d37ca9e691e9ef">m_lcdd</a>.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#ae61d027023791272cf976432c0b3a977">world</a>());</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  for_each(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>.begin(), <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>.end(), <a class="code" href="class_d_d4hep_1_1_destroy_object.html">DestroyObject&lt;ConditionsIOVPool*&gt;</a>());</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">if</span> ( world.isValid() )  {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_loader.html">ConditionsLoader</a>* cld = world-&gt;conditionsLoader;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="class_d_d4hep_1_1_alignments_1_1_alignments_loader.html">AlignmentsLoader</a>* ald = world-&gt;alignmentsLoader;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    world-&gt;conditionsLoader = 0;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    world-&gt;alignmentsLoader = 0;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> ( cld ) cld-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_loader.html#a0d1ad39d3ed19e648c673497c6995079">release</a>();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> ( ald ) ald-&gt;<a class="code" href="class_d_d4hep_1_1_alignments_1_1_alignments_loader.html#acebda57b7dc5288116e7162dda92b65e">release</a>();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#a5053617b5c5083ea3b7d8f306c9a3933">InstanceCount::decrement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a598756c7672c67065f3d116689f95722">  168</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a598756c7672c67065f3d116689f95722">ConditionsManagerObject::initialize</a>()  {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">if</span> ( !<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a83ef3cf4c818d972d9c8720913c7525b">m_updatePool</a>.get() )  {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">string</span> typ = <span class="stringliteral">&quot;DD4hep_Conditions_&quot;</span>+<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#adc2a8ecbe9ee734901bdf11dc2e3da0e">m_loaderType</a>+<span class="stringliteral">&quot;_Loader&quot;</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* argv_loader[] = {<span class="stringliteral">&quot;ConditionsDataLoader&quot;</span>, <span class="keyword">this</span>, 0};</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* argv_pool[] = {<span class="keyword">this</span>, 0};</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a94483d902a20171f95eaf0e2d531f05d">m_loader</a>.<a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html#aa6519c1c4d2d455b6b5cfad3318d5cc9">adopt</a>(createPlugin&lt;ConditionsDataLoader&gt;(typ,<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a6ca16a780558379464d37ca9e691e9ef">m_lcdd</a>,2,argv_loader));</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a83ef3cf4c818d972d9c8720913c7525b">m_updatePool</a>.adopt(createPlugin&lt;UpdatePool&gt;(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a015a2e784bea5773c62513f6d24af753">m_updateType</a>,<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a6ca16a780558379464d37ca9e691e9ef">m_lcdd</a>,1,argv_pool));</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a83ef3cf4c818d972d9c8720913c7525b">m_updatePool</a>.get() )  {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ The update pool of type %s cannot be created. [%s]&quot;</span>,</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;             <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a015a2e784bea5773c62513f6d24af753">m_updateType</a>.c_str(),<a class="code" href="namespace_d_d4hep_1_1_errors.html#a70d74e1cb3eced52822c830c2bf4990b">Errors::noSys</a>().c_str());</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="class_d_d4hep_1_1_handle.html">Ref_t</a> ref(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a83ef3cf4c818d972d9c8720913c7525b">m_updatePool</a>.get());</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    ref-&gt;<a class="code" href="class_d_d4hep_1_1_named_object.html#ae797352ed4559f085e6333b6394fb8ac">SetName</a>(<span class="stringliteral">&quot;updates&quot;</span>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    ref-&gt;SetTitle(<span class="stringliteral">&quot;updates&quot;</span>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="class_d_d4hep_1_1_geometry_1_1_world.html">Geometry::World</a> world(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a6ca16a780558379464d37ca9e691e9ef">m_lcdd</a>.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#ae61d027023791272cf976432c0b3a977">world</a>());</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    world-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_world.html#af15c1c1758a9f3603619d8a490a35c0a">conditionsLoader</a> = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_loader_imp.html">ConditionsLoaderImp</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    world-&gt;alignmentsLoader = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_alignments_loader_imp.html">AlignmentsLoaderImp</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac945da1c9e23ba4e7db40221a38d4abc">  188</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac945da1c9e23ba4e7db40221a38d4abc">ConditionsManagerObject::registerCallee</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aba0162524bc90a39e30bd5f1f0067ee2">Listeners</a>&amp; listeners, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac4cd1e3a448bc1f8bae384d194f10c23">Listener</a>&amp; callee, <span class="keywordtype">bool</span> add)  {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">if</span> ( add )  {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    listeners.insert(callee);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  Listeners::iterator i=listeners.find(callee);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">if</span> ( i != listeners.end() ) listeners.erase(i);  </div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a74aa106c194fb9ca929c8cf523632ce3">  198</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a74aa106c194fb9ca929c8cf523632ce3">ConditionsManagerObject::callOnRegister</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac4cd1e3a448bc1f8bae384d194f10c23">Listener</a>&amp; callee, <span class="keywordtype">bool</span> add)  {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac945da1c9e23ba4e7db40221a38d4abc">registerCallee</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a28a1e3f34a87dcd305b0f71bb92f297f">m_onRegister</a>, callee, add);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4a8912db5a30d6792455aef57c223bed">  203</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4a8912db5a30d6792455aef57c223bed">ConditionsManagerObject::callOnRemove</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac4cd1e3a448bc1f8bae384d194f10c23">Listener</a>&amp; callee, <span class="keywordtype">bool</span> add)  {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac945da1c9e23ba4e7db40221a38d4abc">registerCallee</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aa6081a3511680ee1060e78b6a570636d">m_onRemove</a>, callee, add);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a872970f1bb67a3d225be8c63422f848f">  208</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a872970f1bb67a3d225be8c63422f848f">ConditionsManagerObject::onRegister</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a> condition)    {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  __callListeners(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a28a1e3f34a87dcd305b0f71bb92f297f">m_onRegister</a>, &amp;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_listener.html#a848d047b6a957987ea1a8256e6efd75a">ConditionsListener::onRegisterCondition</a>, condition);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#adb550d80aca3b897f299530b4c4bfd0b">  213</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#adb550d80aca3b897f299530b4c4bfd0b">ConditionsManagerObject::onRemove</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a> condition)   {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  __callListeners(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aa6081a3511680ee1060e78b6a570636d">m_onRemove</a>, &amp;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_listener.html#ab0c021c6ef8e6c47f28dd077220ee1f3">ConditionsListener::onRemoveCondition</a>, condition);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4206a6f248b0712fb7e731f99e2c096a">  218</a></span>&#160;pair&lt;bool, const IOVType*&gt; <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4206a6f248b0712fb7e731f99e2c096a">ConditionsManagerObject::registerIOVType</a>(<span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">iov_type</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; iov_name)   {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span> ( iov_type&lt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abc6f28abb03bdfa1f3c0d51de6e6ac9d">m_iovTypes</a>.size() )  {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>&amp; t = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abc6f28abb03bdfa1f3c0d51de6e6ac9d">m_iovTypes</a>[<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a0190ec510ca46da4a1cc908ac3c3a1dd">iov_type</a>];</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordtype">bool</span> eq_type = t.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a> == <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a0190ec510ca46da4a1cc908ac3c3a1dd">iov_type</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordtype">bool</span> eq_name = t.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#ac4fa3d6c589f183137625501e757234e">name</a> == iov_name;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> ( eq_type &amp;&amp; eq_name )  {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">return</span> make_pair(<span class="keyword">false</span>,&amp;t);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( t.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a> != 0 &amp;&amp; eq_type &amp;&amp; !eq_name )  {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;Cannot register IOV %s. Type %d already in use!&quot;</span>,</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;             iov_name.c_str(), <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a0190ec510ca46da4a1cc908ac3c3a1dd">iov_type</a>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    t.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#ac4fa3d6c589f183137625501e757234e">name</a> = iov_name;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    t.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a> = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a0190ec510ca46da4a1cc908ac3c3a1dd">iov_type</a>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>[t.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a>] = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>();</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> make_pair(<span class="keyword">true</span>,&amp;t);    </div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;Cannot register IOV section %d of type %d. Value out of bounds: [%d,%d]&quot;</span>,</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;         iov_name.c_str(), <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a0190ec510ca46da4a1cc908ac3c3a1dd">iov_type</a>, 0, int(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abc6f28abb03bdfa1f3c0d51de6e6ac9d">m_iovTypes</a>.size()));</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> make_pair(<span class="keyword">false</span>,(<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>*)0);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5dd9771697550f7f82d47863026d4bd5">  241</a></span>&#160;<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5dd9771697550f7f82d47863026d4bd5">ConditionsManagerObject::iovType</a> (<span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">iov_type</a>)<span class="keyword"> const  </span>{</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">if</span> ( iov_type&lt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abc6f28abb03bdfa1f3c0d51de6e6ac9d">m_iovTypes</a>.size() )  {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>&amp; t = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abc6f28abb03bdfa1f3c0d51de6e6ac9d">m_iovTypes</a>[<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a0190ec510ca46da4a1cc908ac3c3a1dd">iov_type</a>];</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> ( t.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a> == iov_type ) <span class="keywordflow">return</span> &amp;t;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;Request to access an unregistered IOV type: %d.&quot;</span>, iov_type);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a52c243546411e3e5d23c366fb7633286">  251</a></span>&#160;<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5dd9771697550f7f82d47863026d4bd5">ConditionsManagerObject::iovType</a> (<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; iov_name)<span class="keyword"> const   </span>{</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">for</span>( IOVTypes::const_iterator i=<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abc6f28abb03bdfa1f3c0d51de6e6ac9d">m_iovTypes</a>.begin(); i != <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abc6f28abb03bdfa1f3c0d51de6e6ac9d">m_iovTypes</a>.end(); ++i)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> ( (*i).name == iov_name ) <span class="keywordflow">return</span> &amp;(*i);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;Request to access an unregistered IOV type: %s.&quot;</span>, iov_name.c_str());</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9ff0d68cbe3771a7a9354bdf518ddd11">  259</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9ff0d68cbe3771a7a9354bdf518ddd11">ConditionsManagerObject::fromString</a>(<span class="keyword">const</span> std::string&amp; data, <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>&amp; iov)   {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordtype">size_t</span> id1 = data.find(<span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordtype">size_t</span> id2 = data.find(<span class="charliteral">&#39;#&#39;</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> ( id2 == string::npos )  {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Unknown IOV string representation: %s&quot;</span>,data.c_str());</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordtype">string</span> iov_name = data.substr(id2+1);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07cb46dc875296dc9cccf4ff370104ae">IOV::Key</a> key;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordtype">int</span> nents = 0;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">if</span> ( id1 != string::npos )</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    nents = ::sscanf(data.c_str(),<span class="stringliteral">&quot;%ld,%ld#&quot;</span>,&amp;key.first,&amp;key.second) == 2 ? 2 : 0;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">else</span>  {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    nents = ::sscanf(data.c_str(),<span class="stringliteral">&quot;%ld#&quot;</span>,&amp;key.first) == 1 ? 1 : 0;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    key.second = key.first;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">if</span> ( nents == 0 )   {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;           <span class="stringliteral">&quot;+++ Failed to read keys from IOV string representation: %s&quot;</span>,data.c_str());</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// Check if this IOV type is known</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* typ = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5dd9771697550f7f82d47863026d4bd5">iovType</a>(iov_name);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">if</span> ( !typ )  {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// Severe: We have an unknown IOV type. This is not allowed, </span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">// because we do not known hot to handle it.....</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Unknown IOV type requested from data: %s. [%s]&quot;</span>,</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;           data.c_str(),<a class="code" href="namespace_d_d4hep_1_1_errors.html#ab559bb58296daa1eed2725c602cb2483">Errors::invalidArg</a>().c_str());</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a497f2859ca7cb011151ae6b977b50aa0">type</a>    = typ-&gt;type;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a885a5ed2be528cf1db783cade2a0b838">iovType</a> = typ;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#aa75452d30ebad70f84372091d6f777e4">set</a>(key);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5843d64a9285d2f40f636e6d91020bf0">  293</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html">ConditionsPool</a>* <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5843d64a9285d2f40f636e6d91020bf0">ConditionsManagerObject::registerIOV</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; data)   {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a> iov(0);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// Convert string to IOV</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9ff0d68cbe3771a7a9354bdf518ddd11">fromString</a>(data, iov);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// IOV read and checked. Now register it.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// The validity of iov-&gt;iovType is already ensured in &#39;fromString&#39;</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5843d64a9285d2f40f636e6d91020bf0">registerIOV</a>(*iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a885a5ed2be528cf1db783cade2a0b838">iovType</a>, iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a28eb02fd8d9c45b770e6a234303991de">keyData</a>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac6647d16096a5fccda601eada638e13b">  303</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html">ConditionsPool</a>* <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5843d64a9285d2f40f636e6d91020bf0">ConditionsManagerObject::registerIOV</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>&amp; typ, <a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07cb46dc875296dc9cccf4ff370104ae">IOV::Key</a> key)   {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// IOV read and checked. Now register it, but always locked!</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>* pool = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>[typ.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a>];</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> lock(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af0a0803e28ed3d30721609a420689e4a">m_poolLock</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">if</span> ( !pool )  {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>[typ.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a>] = pool = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>();</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  ConditionsIOVPool::Elements::const_iterator i = pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#adf0b418e513769d438a8c91d766e86f4">elements</a>.find(key);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> ( i != pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#adf0b418e513769d438a8c91d766e86f4">elements</a>.end() )   {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> (*i).second;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">void</span>* argv_pool[] = {<span class="keyword">this</span>, 0};</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html">ConditionsPool</a>* cond_pool = createPlugin&lt;ConditionsPool&gt;(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#acbd30bb422ca98796d1eabf4e17706a2">m_poolType</a>,<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a6ca16a780558379464d37ca9e691e9ef">m_lcdd</a>,1,argv_pool);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>* iov = <span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>(&amp;typ);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  iov-&gt;type      = typ.<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  iov-&gt;keyData   = key;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  cond_pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html#a5c86deb9085a420b2d8355ca835f3fc9">iov</a> = iov;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#adf0b418e513769d438a8c91d766e86f4">elements</a>.insert(make_pair(key,cond_pool));</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">return</span> cond_pool;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a745cd16ef676c16294d450c60617fbd1">  325</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a745cd16ef676c16294d450c60617fbd1">ConditionsManagerObject::registerUnlocked</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html">ConditionsPool</a>* pool, <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a> cond)   {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> ( pool &amp;&amp; cond.<a class="code" href="class_d_d4hep_1_1_handle.html#a7e69d51e089a24a1773603dfa3fe5eac">isValid</a>() )  {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    cond-&gt;pool = pool;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    cond-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a9370350f5fb154e29346489c368f3e8a">iov</a>  = pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html#a5c86deb9085a420b2d8355ca835f3fc9">iov</a>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html#a90abd47fd41d04d96b180aa244786b01">insert</a>(cond);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    __callListeners(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a28a1e3f34a87dcd305b0f71bb92f297f">m_onRegister</a>, &amp;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_listener.html#a848d047b6a957987ea1a8256e6efd75a">ConditionsListener::onRegisterCondition</a>, cond);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !pool )</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Unknown Conditions pool to register entry. [%s]&quot;</span>,</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;           <a class="code" href="namespace_d_d4hep_1_1_errors.html#ab559bb58296daa1eed2725c602cb2483">Errors::invalidArg</a>().c_str());</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !cond.<a class="code" href="class_d_d4hep_1_1_handle.html#a7e69d51e089a24a1773603dfa3fe5eac">isValid</a>() )</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Invalid condition objects may not be registered. [%s]&quot;</span>,</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;           <a class="code" href="namespace_d_d4hep_1_1_errors.html#ab559bb58296daa1eed2725c602cb2483">Errors::invalidArg</a>().c_str());</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ad22280768d433c68fabe8709a1bb6fda">  344</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ad22280768d433c68fabe8709a1bb6fda">ConditionsManagerObject::__queue_update</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_entry.html">Conditions::Entry</a>* <a class="code" href="_volumes_8cpp.html#a8a9a1f93e9b09afccaec215310e64142">e</a>)   {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">if</span> ( e )  {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html">ConditionsPool</a>*  p = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5843d64a9285d2f40f636e6d91020bf0">registerIOV</a>(e-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_entry.html#a9a559618af3b8d15be51c806e40d1764">validity</a>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a> condition(e-&gt;<a class="code" href="class_d_d4hep_1_1_named_object.html#a4675ccdc57835ec27eef8f2799eb77a2">name</a>,e-&gt;<a class="code" href="class_d_d4hep_1_1_named_object.html#a8e17bb5f854b320302be44c68c39a192">type</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html">Condition::Object</a>* c = condition.<a class="code" href="class_d_d4hep_1_1_handle.html#a6f165a9eec329d2d65172767b5f2777a">ptr</a>();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">//c-&gt;name = e-&gt;name;</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">//  c-&gt;type = e-&gt;type;</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a0b82a44322c732c5f5b99123eef28f63">value</a> = e-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_entry.html#a28dbb34f86ab05df22df9f9756100bcf">value</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a4bd162e79c142737fd279493329bae42">comment</a> = <span class="stringliteral">&quot;----&quot;</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#ac30708fd16161d507f475cc81419be18">address</a> = <span class="stringliteral">&quot;----&quot;</span>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a7f4bcc75be5d565396e3f09c91a23ede">validity</a> = e-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_entry.html#a9a559618af3b8d15be51c806e40d1764">validity</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#af04a3341b8791fbcf60fe5e5fff20166">iov</a>  = p-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html#a5c86deb9085a420b2d8355ca835f3fc9">iov</a>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a47997f68ec8b07ffe938d869726b6012">pool</a> = p;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    p-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html#a90abd47fd41d04d96b180aa244786b01">insert</a>(c);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> ( s_debug &gt; <a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2">INFO</a> )  {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="namespace_d_d4hep.html#a6d434af620a49074f3d86d05a04b6073">printout</a>(<a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2">INFO</a>,<span class="stringliteral">&quot;Conditions&quot;</span>,<span class="stringliteral">&quot;+++ Loaded condition: %s.%s to %s [%s] V: %s&quot;</span>,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;               e-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_entry.html#ae10613b25e5bc54df7d4ada0a2b774a9">detector</a>.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a5f8b4268684a3cd4a5f613181a8bac83">path</a>().c_str(), c-&gt;<a class="code" href="class_d_d4hep_1_1_named_object.html#a4675ccdc57835ec27eef8f2799eb77a2">name</a>.c_str(),</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;               c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a0b82a44322c732c5f5b99123eef28f63">value</a>.c_str(), c-&gt;<a class="code" href="class_d_d4hep_1_1_named_object.html#a8e17bb5f854b320302be44c68c39a192">type</a>.c_str(), c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a7f4bcc75be5d565396e3f09c91a23ede">validity</a>.c_str());</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> c;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a>();</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aca6c43594d93ab8773e245b8cffb0f60">  369</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aca6c43594d93ab8773e245b8cffb0f60">ConditionsManagerObject::clean</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* typ, <span class="keywordtype">int</span> max_age)   {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> lock(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4da3e311e9b9121fef58f2cd80da12f9">m_updateLock</a>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>* pool = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>[typ-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a>];</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> ( pool )  {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    count += pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#a3adc9fa6a89d3195b91b5fb11236f360">clean</a>(max_age);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">return</span> count;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a16cf2685ed249700904621d9a68bcdb2">  380</a></span>&#160;pair&lt;int,int&gt; <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a16cf2685ed249700904621d9a68bcdb2">ConditionsManagerObject::clear</a>()   {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  pair&lt;int,int&gt; count(0,0);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">for</span>( TypedConditionPool::iterator i=<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>.begin(); i != <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>.end(); ++i)  {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>* p = *i;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> ( p )  {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      ++count.first;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      count.second += p-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#a3adc9fa6a89d3195b91b5fb11236f360">clean</a>(0);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">return</span> count;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9bda89e54e1ad3b202f7295ec6c102a8">  393</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9bda89e54e1ad3b202f7295ec6c102a8">ConditionsManagerObject::pushUpdates</a>()   {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a4577998655a70ab228539800babb9642">Updates</a> entries;  {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> lock(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4da3e311e9b9121fef58f2cd80da12f9">m_updateLock</a>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a83ef3cf4c818d972d9c8720913c7525b">m_updatePool</a>-&gt;popEntries(entries);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// Lock global pool so that no other updates happen in the meanwhile</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">// which could kill the pool&#39;s containers</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> lock(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af0a0803e28ed3d30721609a420689e4a">m_poolLock</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">for</span>(Updates::const_iterator iov_iter=entries.begin(); iov_iter!=entries.end(); ++iov_iter)  {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_update_pool.html#ad6bcf36ae0a7dee0a08e1045d8612c6e">UpdatePool::ConditionEntries</a> <a class="code" href="_x_m_l_elements_8cpp.html#aadc18c9ee01d55f84c6bcd5841d0e4fd">_E</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keyword">const</span> _E&amp; ents = (*iov_iter).second;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> ( !ents.empty() )  {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">for</span>(_E::const_iterator j=ents.begin(); j != ents.end(); ++j) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        (*j)-&gt;pool-&gt;insert(*j);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="keywordtype">long</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a897ca111b081fb1c6ed8a39739684d0e">ConditionsManagerObject::prepare</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">Condition::iov_type</a>&amp; required_validity,</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                      <a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html">dd4hep_ptr&lt;UserPool&gt;</a>&amp; up)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* typ = check_iov_type&lt;Discrete&gt;(<span class="keyword">this</span>, &amp;required_validity);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">if</span> ( typ )  {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a71e82ba4bbbab6ac54ac7b08c37ef076">RC</a> valid, expired;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>* pool = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>[typ-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a>];</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span> ( 0 == up.get() || up-&gt;pool_type != ConditionsPool::USER_POOL_TYPE )  {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">void</span>* argv_pool[] = {<span class="keyword">this</span>, 0};</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <a class="code" href="class_d_d4hep_1_1_conditions_1_1_user_pool.html">UserPool</a>* cp = createPlugin&lt;UserPool&gt;(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abe38ba943a936b6322ec553e53f0c7dd">m_userType</a>,<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a6ca16a780558379464d37ca9e691e9ef">m_lcdd</a>,1,argv_pool);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      up.<a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html#aa6519c1c4d2d455b6b5cfad3318d5cc9">adopt</a>(cp);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_user_pool.html">UserPool</a> *user_pool = up.get();</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="class_d_d4hep_1_1_i_o_v.html">Condition::iov_type</a> pool_iov(typ);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    pool_iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#acbc1f282468528fd38d471bf7f9d58c0">reset</a>().<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a5407ab1da0910ee18ca80dfa6985d0af">invert</a>();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9bda89e54e1ad3b202f7295ec6c102a8">pushUpdates</a>();</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#a75f43e7cd7cbc5c07afb0aca2b241a41">select</a>(required_validity, valid, expired, pool_iov);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    user_pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_user_pool.html#aa1b208b96c66bee13ee9f2bd6b7aaac5">clear</a>();</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    user_pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_user_pool.html#af25760694df2897b8998fcf65ced5a18">insert</a>(valid);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordtype">long</span> num_expired = (long)expired.size();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span> ( num_expired &gt; 0 )  {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a94483d902a20171f95eaf0e2d531f05d">m_loader</a>-&gt;update(required_validity, expired, pool_iov);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      user_pool-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_user_pool.html#af25760694df2897b8998fcf65ced5a18">insert</a>(expired);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    user_pool-&gt;setValidity(pool_iov);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    user_pool-&gt;setReqValidity(required_validity);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> num_expired;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Unknown IOV type requested to enable conditions. [%s]&quot;</span>,</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;         <a class="code" href="namespace_d_d4hep_1_1_errors.html#ab559bb58296daa1eed2725c602cb2483">Errors::invalidArg</a>().c_str());</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4e7c5a6f766e182c7fcdcf766c28f9a0">  450</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4e7c5a6f766e182c7fcdcf766c28f9a0">ConditionsManagerObject::__get_checked_pool</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>&amp; req_iov,</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                                 <a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html">dd4hep_ptr&lt;UserPool&gt;</a>&amp; up)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;{</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v_type.html">IOVType</a>* typ = check_iov_type&lt;Discrete&gt;(<span class="keyword">this</span>, &amp;req_iov);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">if</span> ( typ )  {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>* pool = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>[typ-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">type</a>];</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> ( 0 == up.get() )  {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">void</span>* argv[] = {<span class="keyword">this</span>, pool, 0};</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <a class="code" href="class_d_d4hep_1_1_conditions_1_1_user_pool.html">UserPool</a>* p = createPlugin&lt;UserPool&gt;(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abe38ba943a936b6322ec553e53f0c7dd">m_userType</a>,<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a6ca16a780558379464d37ca9e691e9ef">m_lcdd</a>,2,argv);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      up.<a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html#aa6519c1c4d2d455b6b5cfad3318d5cc9">adopt</a>(p);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// Invalid IOV type. Throw exception</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Unknown IOV type requested to enable conditions. [%s]&quot;</span>,</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;         <a class="code" href="namespace_d_d4hep_1_1_errors.html#ab559bb58296daa1eed2725c602cb2483">Errors::invalidArg</a>().c_str());</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a897ca111b081fb1c6ed8a39739684d0e">  469</a></span>&#160;<span class="keywordtype">long</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a897ca111b081fb1c6ed8a39739684d0e">ConditionsManagerObject::prepare</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>&amp;            req_iov,</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aad75140018040c6ad49e56a4d56a35ee">ConditionKeys</a>&amp;  keys,</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                                      <a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html">dd4hep_ptr&lt;UserPool&gt;</a>&amp; up)</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a71e82ba4bbbab6ac54ac7b08c37ef076">RC</a> valid, expired;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4e7c5a6f766e182c7fcdcf766c28f9a0">__get_checked_pool</a>(req_iov, up);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9bda89e54e1ad3b202f7295ec6c102a8">pushUpdates</a>();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">return</span> up-&gt;prepare(req_iov,keys);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a50cd5fe85ead70ca4a0561ca37cbc435">  483</a></span>&#160;<span class="keywordtype">long</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a897ca111b081fb1c6ed8a39739684d0e">ConditionsManagerObject::prepare</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>&amp;            req_iov,</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aad75140018040c6ad49e56a4d56a35ee">ConditionKeys</a>&amp;  keys,</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                                      <a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html">dd4hep_ptr&lt;UserPool&gt;</a>&amp; up,</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_dependency_collection.html">Dependencies</a>&amp;   dependencies,</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                                      <span class="keywordtype">bool</span>                  verify_dependencies)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;{</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordtype">long</span> num_raw_updates = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a897ca111b081fb1c6ed8a39739684d0e">prepare</a>(req_iov, keys, up);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordflow">if</span> ( num_raw_updates &gt; 0 || verify_dependencies )   {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordtype">long</span> num_dep_updates = up-&gt;compute(dependencies);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">return</span> num_raw_updates+num_dep_updates;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  }</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">return</span> num_raw_updates;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4550e641d43365715516abc3f82586e6">  498</a></span>&#160;<span class="keywordtype">long</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a897ca111b081fb1c6ed8a39739684d0e">ConditionsManagerObject::prepare</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">Condition::iov_type</a>&amp; req_iov, <a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html">dd4hep_ptr&lt;UserPool&gt;</a>&amp; up)   {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a71e82ba4bbbab6ac54ac7b08c37ef076">RC</a> valid, expired;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4e7c5a6f766e182c7fcdcf766c28f9a0">__get_checked_pool</a>(req_iov, up);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9bda89e54e1ad3b202f7295ec6c102a8">pushUpdates</a>();</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">return</span> up-&gt;prepare(req_iov);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a12104037c413426d82374b639acd88e8">  508</a></span>&#160;<span class="keywordtype">long</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a897ca111b081fb1c6ed8a39739684d0e">ConditionsManagerObject::prepare</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">Condition::iov_type</a>&amp; req_iov,</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                      <a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html">dd4hep_ptr&lt;UserPool&gt;</a>&amp; up,</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_dependency_collection.html">Dependencies</a>&amp; dependencies,</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                      <span class="keywordtype">bool</span> verify_dependencies)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;{</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordtype">long</span> num_raw_updates = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a897ca111b081fb1c6ed8a39739684d0e">prepare</a>(req_iov, up);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">if</span> ( num_raw_updates &gt; 0 || verify_dependencies )   {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordtype">long</span> num_dep_updates = up-&gt;compute(dependencies);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> num_raw_updates+num_dep_updates;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">return</span> num_raw_updates;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af839b57cfdda205e2555e757651423fd">  522</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af839b57cfdda205e2555e757651423fd">ConditionsManagerObject::registerCondition</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a> c)    {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <a class="code" href="class_d_d4hep_1_1dd4hep__ptr.html">dd4hep_ptr&lt;Condition::Object&gt;</a> cond(c.<a class="code" href="class_d_d4hep_1_1_handle.html#a6f165a9eec329d2d65172767b5f2777a">ptr</a>());</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">if</span> ( !cond.get() )  {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Failed to register invalid handle.&quot;</span>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">if</span> ( !<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af4a66ea9d20e133cadd6e33a188d7f5b">locked</a> )  {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>* iov = <span class="keyword">const_cast&lt;</span><a class="code" href="class_d_d4hep_1_1_i_o_v.html">IOV</a>*<span class="keyword">&gt;</span>(cond-&gt;iov);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// Check arguments. This also checks the existence of the proper pool</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    __check_values__&lt;Discrete&gt;(<span class="keyword">this</span>,cond-&gt;hash,iov);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>* pool = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>[iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a497f2859ca7cb011151ae6b977b50aa0">type</a>];</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    { <span class="comment">// We are now modifying the pool: need to lock any access</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> lock(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af0a0803e28ed3d30721609a420689e4a">m_poolLock</a>);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      ConditionsIOVPool::Elements::iterator it = pool-&gt;elements.find(iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a28eb02fd8d9c45b770e6a234303991de">keyData</a>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">if</span> ( it != pool-&gt;elements.end() )  {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        (*it).second-&gt;insert(c);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">void</span>* argv_pool[] = {<span class="keyword">this</span>, 0};</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html">ConditionsPool</a>* cp = createPlugin&lt;ConditionsPool&gt;(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#acbd30bb422ca98796d1eabf4e17706a2">m_poolType</a>,<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a6ca16a780558379464d37ca9e691e9ef">m_lcdd</a>,1,argv_pool);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      pool-&gt;elements.<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html#a90abd47fd41d04d96b180aa244786b01">insert</a>(make_pair(iov-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a28eb02fd8d9c45b770e6a234303991de">keyData</a>,cp));</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      cp-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html#a90abd47fd41d04d96b180aa244786b01">insert</a>(c);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a872970f1bb67a3d225be8c63422f848f">onRegister</a>(c);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ You cannot register new conditions while the conditions manager is locked!&quot;</span>);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a41d307dce9b135813e089d86f282bebf">  551</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a41d307dce9b135813e089d86f282bebf">ConditionsManagerObject::select</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a7528efa762e8cc072ef80ea67c3531f9">Condition::key_type</a> key,</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">Condition::iov_type</a>&amp; req_validity,</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                     <a class="code" href="namespace_d_d4hep_1_1_conditions.html#ae765f0140a33973a430280f02b6062f4">RangeConditions</a>&amp; conditions)   {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>* p = 0;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> locked_action(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af0a0803e28ed3d30721609a420689e4a">m_poolLock</a>);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    p = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>[req_validity.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a497f2859ca7cb011151ae6b977b50aa0">type</a>]; <span class="comment">// Existence already checked by caller!</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    p-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#a75f43e7cd7cbc5c07afb0aca2b241a41">select</a>(key, req_validity, conditions);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> locked_action(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4da3e311e9b9121fef58f2cd80da12f9">m_updateLock</a>);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a83ef3cf4c818d972d9c8720913c7525b">m_updatePool</a>-&gt;select_range(key, req_validity, conditions);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">return</span> !conditions.empty();</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a45b1d4f84a550788dbe24f0245ada7fb">  568</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a45b1d4f84a550788dbe24f0245ada7fb">ConditionsManagerObject::select_range</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a7528efa762e8cc072ef80ea67c3531f9">Condition::key_type</a> key,</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">Condition::iov_type</a>&amp; req_validity,</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                           <a class="code" href="namespace_d_d4hep_1_1_conditions.html#ae765f0140a33973a430280f02b6062f4">RangeConditions</a>&amp; conditions)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;{</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">ConditionsIOVPool</a>* p = 0;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> locked_action(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af0a0803e28ed3d30721609a420689e4a">m_poolLock</a>);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    p = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">m_rawPool</a>[req_validity.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a497f2859ca7cb011151ae6b977b50aa0">type</a>]; <span class="comment">// Existence alread checked by caller!</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    p-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#a09fb206aaa3c86d249598b7eaa58b322">selectRange</a>(key, req_validity, conditions);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> locked_action(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4da3e311e9b9121fef58f2cd80da12f9">m_updateLock</a>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a83ef3cf4c818d972d9c8720913c7525b">m_updatePool</a>-&gt;select_range(key, req_validity, conditions);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">return</span> is_range_complete(req_validity,conditions);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="keywordtype">void</span> ConditionsManagerObject::__register_immediate(<a class="code" href="namespace_d_d4hep_1_1_conditions.html#ae765f0140a33973a430280f02b6062f4">RangeConditions</a>&amp; rc)    {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">// We modify the pool. For this we need a lock, </span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">// since this may happen during the event processing in parallel</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> locked_action(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af0a0803e28ed3d30721609a420689e4a">m_poolLock</a>);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">for</span>(RC::iterator i=rc.begin(); i != rc.end(); ++i)   {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a> c = *i;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> ( !c-&gt;pool )   {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ __register_immediate: Invalid pool. [Fatal, Internal or Usage Error]&quot;</span>);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> ( s_debug &gt; <a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2">INFO</a> )  {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <a class="code" href="namespace_d_d4hep.html#a6d434af620a49074f3d86d05a04b6073">printout</a>(<a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2">INFO</a>,<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ __register(1): %s [%s]&quot;</span>,</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;               c.<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#ac4ff098ddb6634b752b93e6acddc23c8">name</a>().c_str(), c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a9370350f5fb154e29346489c368f3e8a">iov</a>-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07992c19b3f256286999cf9b3edade48">str</a>().c_str());</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    c-&gt;pool-&gt;insert(c);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a></div><div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a1a0fa030dcff8247de5ed6f93ccb16c5">  607</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a1a0fa030dcff8247de5ed6f93ccb16c5">ConditionsManagerObject::get</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a7528efa762e8cc072ef80ea67c3531f9">Condition::key_type</a> key, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">Condition::iov_type</a>&amp; iov)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a71e82ba4bbbab6ac54ac7b08c37ef076">RC</a> conditions;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  __check_values__&lt;Discrete&gt;(<span class="keyword">this</span>, key, &amp;iov);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordtype">bool</span> rc = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a41d307dce9b135813e089d86f282bebf">select</a>(key, iov, conditions);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">if</span> ( !rc )  {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> locked_load(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4da3e311e9b9121fef58f2cd80da12f9">m_updateLock</a>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a94483d902a20171f95eaf0e2d531f05d">m_loader</a>-&gt;load(key, iov, conditions);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">if</span> ( conditions.size() == 1 )   {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    conditions[0]-&gt;flags |= <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a22825c02029e39fd0aa95c08c9be56d9a6a6c6f47c2bd5105363d432f8e55fcfa">Condition::ACTIVE</a>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">return</span> conditions[0];</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( conditions.empty() )   {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Condition %08X for the requested IOV %s do not exist.&quot;</span>,</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;           key, iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07992c19b3f256286999cf9b3edade48">str</a>().c_str());</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( conditions.size() &gt; 1 )  {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    RC::const_iterator start = conditions.begin();</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a> first = *start;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="namespace_d_d4hep.html#a6d434af620a49074f3d86d05a04b6073">printout</a>(<a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42a54d5c1b9254fdf017c456cb972d26f96">ERROR</a>,<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Condition %s [%08X] is ambiguous for IOV %s:&quot;</span>,</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;             first.<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#ac4ff098ddb6634b752b93e6acddc23c8">name</a>().c_str(), key, iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07992c19b3f256286999cf9b3edade48">str</a>().c_str());</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">for</span>(RC::const_iterator i=start; i!=conditions.end(); ++i)  {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a> c = *i;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <a class="code" href="namespace_d_d4hep.html#a6d434af620a49074f3d86d05a04b6073">printout</a>(<a class="code" href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42a54d5c1b9254fdf017c456cb972d26f96">ERROR</a>,<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ %s [%s] = %s&quot;</span>,</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;               c.<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#ac4ff098ddb6634b752b93e6acddc23c8">name</a>().c_str(), c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a9370350f5fb154e29346489c368f3e8a">iov</a>-&gt;<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07992c19b3f256286999cf9b3edade48">str</a>().c_str(), c-&gt;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a7f9601669ce1343a47389c077cc21726">value</a>.c_str());</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Condition %s [%08X] is ambiguous for IOV %s:&quot;</span>,</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;           first.<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#ac4ff098ddb6634b752b93e6acddc23c8">name</a>().c_str(), key, iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07992c19b3f256286999cf9b3edade48">str</a>().c_str());</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html">Condition</a>();</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<a class="code" href="namespace_d_d4hep_1_1_conditions.html#ae765f0140a33973a430280f02b6062f4">RangeConditions</a></div><div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aca98e38d7025351eb289feafa2cece97">  642</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aca98e38d7025351eb289feafa2cece97">ConditionsManagerObject::getRange</a>(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_condition.html#a7528efa762e8cc072ef80ea67c3531f9">Condition::key_type</a> key, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_i_o_v.html">Condition::iov_type</a>&amp; iov)</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;{</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <a class="code" href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a71e82ba4bbbab6ac54ac7b08c37ef076">RC</a> conditions;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  __check_values__&lt;Range&gt;(<span class="keyword">this</span>, key, &amp;iov);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordtype">bool</span> rc = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a45b1d4f84a550788dbe24f0245ada7fb">select_range</a>(key, iov, conditions);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">if</span> ( rc )  {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">return</span> conditions;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">else</span>  {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="struct_d_d4hep_1_1dd4hep__lock__t.html">dd4hep_lock_t</a> locked_load(<a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4da3e311e9b9121fef58f2cd80da12f9">m_updateLock</a>);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a94483d902a20171f95eaf0e2d531f05d">m_loader</a>-&gt;load_range(key, iov, conditions);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">if</span> ( conditions.empty() )  {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Conditions %08X for IOV %s do not exist.&quot;</span>,</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;             key, iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07992c19b3f256286999cf9b3edade48">str</a>().c_str());</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    conditions.clear();</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  rc = <a class="code" href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a45b1d4f84a550788dbe24f0245ada7fb">select_range</a>(key, iov, conditions);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">if</span> ( !rc )  {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">except</a>(<span class="stringliteral">&quot;ConditionsManager&quot;</span>,<span class="stringliteral">&quot;+++ Conditions %08X for IOV %s do not exist.&quot;</span>,</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;           key, iov.<a class="code" href="class_d_d4hep_1_1_i_o_v.html#a07992c19b3f256286999cf9b3edade48">str</a>().c_str());</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">return</span> conditions;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;}</div><div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object_html_a7f4bcc75be5d565396e3f09c91a23ede"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a7f4bcc75be5d565396e3f09c91a23ede">DD4hep::Conditions::Interna::ConditionObject::validity</a></div><div class="ttdeci">std::string validity</div><div class="ttdoc">Condition validity (in string form) </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h_source.html#l00104">ConditionsInterna.h:104</a></div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_conditions_html"><div class="ttname"><a href="namespace_d_d4hep_1_1_conditions.html">DD4hep::Conditions</a></div><div class="ttdoc">Namespace for the conditions part of the AIDA detector description toolkit. </div><div class="ttdef"><b>Definition:</b> <a href="_alignments_8h_source.html#l00027">Alignments.h:27</a></div></div>
<div class="ttc" id="_det_factory_helper_8h_html"><div class="ttname"><a href="_det_factory_helper_8h.html">DetFactoryHelper.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a897ca111b081fb1c6ed8a39739684d0e"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a897ca111b081fb1c6ed8a39739684d0e">DD4hep::Conditions::ConditionsManagerObject::prepare</a></div><div class="ttdeci">long prepare(const IOV &amp;required_validity, const ConditionKeys &amp;keys, dd4hep_ptr&lt; UserPool &gt; &amp;user_pool)</div><div class="ttdoc">Prepare all updates for the given keys to the clients with the defined IOV. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00469">ConditionsInterna.cpp:469</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a41d307dce9b135813e089d86f282bebf"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a41d307dce9b135813e089d86f282bebf">DD4hep::Conditions::ConditionsManagerObject::select</a></div><div class="ttdeci">bool select(key_type key, const iov_type &amp;req_validity, RangeConditions &amp;conditions)</div><div class="ttdoc">Retrieve a condition set given a Detector Element and the conditions name according to their validity...</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00551">ConditionsInterna.cpp:551</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a4da3e311e9b9121fef58f2cd80da12f9"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4da3e311e9b9121fef58f2cd80da12f9">DD4hep::Conditions::ConditionsManagerObject::m_updateLock</a></div><div class="ttdeci">dd4hep_mutex_t m_updateLock</div><div class="ttdoc">Lock to protect the update/delayed conditions pool. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00105">ConditionsInterna.h:105</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_dependency_collection_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_dependency_collection.html">DD4hep::Conditions::ConditionsDependencyCollection</a></div><div class="ttdoc">Collection of condition dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_dependency_collection_8h_source.html#l00042">ConditionsDependencyCollection.h:42</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_html_a09fb206aaa3c86d249598b7eaa58b322"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#a09fb206aaa3c86d249598b7eaa58b322">DD4hep::Conditions::ConditionsIOVPool::selectRange</a></div><div class="ttdeci">void selectRange(Condition::key_type key, const Condition::iov_type &amp;req_validity, RangeConditions &amp;result)</div><div class="ttdoc">Retrieve a condition set given the key according to their validity. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_i_o_v_pool_8cpp_source.html#l00048">ConditionsIOVPool.cpp:48</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_l_c_d_d_html_ae61d027023791272cf976432c0b3a977"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#ae61d027023791272cf976432c0b3a977">DD4hep::Geometry::LCDD::world</a></div><div class="ttdeci">virtual DetElement world() const =0</div><div class="ttdoc">Return reference to the top-most (world) detector element. </div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_condition_html_ac4ff098ddb6634b752b93e6acddc23c8"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_condition.html#ac4ff098ddb6634b752b93e6acddc23c8">DD4hep::Conditions::Condition::name</a></div><div class="ttdeci">const std::string &amp; name() const</div><div class="ttdoc">Access the name of the condition. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_8cpp_source.html#l00104">Conditions.cpp:104</a></div></div>
<div class="ttc" id="_l_c_d_d_8h_html"><div class="ttname"><a href="_l_c_d_d_8h.html">LCDD.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1dd4hep__ptr_html_aa6519c1c4d2d455b6b5cfad3318d5cc9"><div class="ttname"><a href="class_d_d4hep_1_1dd4hep__ptr.html#aa6519c1c4d2d455b6b5cfad3318d5cc9">DD4hep::dd4hep_ptr::adopt</a></div><div class="ttdeci">dd4hep_ptr &amp; adopt(T *ptr)</div><div class="ttdoc">Assignment operator. </div><div class="ttdef"><b>Definition:</b> <a href="_memory_8h_source.html#l00074">Memory.h:74</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_user_pool_html_af25760694df2897b8998fcf65ced5a18"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_user_pool.html#af25760694df2897b8998fcf65ced5a18">DD4hep::Conditions::UserPool::insert</a></div><div class="ttdeci">virtual bool insert(Condition cond)=0</div><div class="ttdoc">Register a new condition to this pool. </div></div>
<div class="ttc" id="class_d_d4hep_1_1_alignments_1_1_alignments_loader_html"><div class="ttname"><a href="class_d_d4hep_1_1_alignments_1_1_alignments_loader.html">DD4hep::Alignments::AlignmentsLoader</a></div><div class="ttdoc">The data class behind a alignments container handle. </div><div class="ttdef"><b>Definition:</b> <a href="_alignments_interna_8h_source.html#l00050">AlignmentsInterna.h:50</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_user_pool_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_user_pool.html">DD4hep::Conditions::UserPool</a></div><div class="ttdoc">Interface for conditions pool optimized to host conditions updates. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_pool_8h_source.html#l00133">ConditionsPool.h:133</a></div></div>
<div class="ttc" id="_d_d_cond_2src_2_conditions_interna_8cpp_html_a71e82ba4bbbab6ac54ac7b08c37ef076"><div class="ttname"><a href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a71e82ba4bbbab6ac54ac7b08c37ef076">RC</a></div><div class="ttdeci">RangeConditions RC</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00045">ConditionsInterna.cpp:45</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html_a07992c19b3f256286999cf9b3edade48"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html#a07992c19b3f256286999cf9b3edade48">DD4hep::IOV::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">Create string representation of the IOV. </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8cpp_source.html#l00126">IOV.cpp:126</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_entry_html_a9a559618af3b8d15be51c806e40d1764"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_entry.html#a9a559618af3b8d15be51c806e40d1764">DD4hep::Conditions::Entry::validity</a></div><div class="ttdeci">std::string validity</div><div class="ttdoc">The validity string to be interpreted by the updating engine. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_entry_8h_source.html#l00044">ConditionsEntry.h:44</a></div></div>
<div class="ttc" id="_conditions_pool_8h_html"><div class="ttname"><a href="_conditions_pool_8h.html">ConditionsPool.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a4e7c5a6f766e182c7fcdcf766c28f9a0"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4e7c5a6f766e182c7fcdcf766c28f9a0">DD4hep::Conditions::ConditionsManagerObject::__get_checked_pool</a></div><div class="ttdeci">void __get_checked_pool(const IOV &amp;required_validity, dd4hep_ptr&lt; UserPool &gt; &amp;user_pool)</div><div class="ttdoc">Helper to check iov and user pool and create user pool if not present. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00450">ConditionsInterna.cpp:450</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_ac945da1c9e23ba4e7db40221a38d4abc"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac945da1c9e23ba4e7db40221a38d4abc">DD4hep::Conditions::ConditionsManagerObject::registerCallee</a></div><div class="ttdeci">void registerCallee(Listeners &amp;listeners, const Listener &amp;callee, bool add)</div><div class="ttdoc">Register a set of new managed condition for an IOV range. Called by __load_immediate. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00188">ConditionsInterna.cpp:188</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_pool_html_a90abd47fd41d04d96b180aa244786b01"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html#a90abd47fd41d04d96b180aa244786b01">DD4hep::Conditions::ConditionsPool::insert</a></div><div class="ttdeci">virtual void insert(Condition cond)=0</div><div class="ttdoc">Register a new condition to this pool. </div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_listener_html_a848d047b6a957987ea1a8256e6efd75a"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_listener.html#a848d047b6a957987ea1a8256e6efd75a">DD4hep::Conditions::ConditionsListener::onRegisterCondition</a></div><div class="ttdeci">virtual void onRegisterCondition(Condition, void *)</div><div class="ttdoc">ConditionsListener dummy implementation: onRegister new condition. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_listener_8h_source.html#l00051">ConditionsListener.h:51</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_update_pool_html_a1a578a7a025ded412da474be106dc780"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_update_pool.html#a1a578a7a025ded412da474be106dc780">DD4hep::Conditions::UpdatePool::UpdateEntries</a></div><div class="ttdeci">std::map&lt; const IOV *, ConditionEntries &gt; UpdateEntries</div><div class="ttdoc">Update container specification. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_pool_8h_source.html#l00113">ConditionsPool.h:113</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_condition_html_a22825c02029e39fd0aa95c08c9be56d9a6a6c6f47c2bd5105363d432f8e55fcfa"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_condition.html#a22825c02029e39fd0aa95c08c9be56d9a6a6c6f47c2bd5105363d432f8e55fcfa">DD4hep::Conditions::Condition::ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="_conditions_8h_source.html#l00092">Conditions.h:92</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a015a2e784bea5773c62513f6d24af753"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a015a2e784bea5773c62513f6d24af753">DD4hep::Conditions::ConditionsManagerObject::m_updateType</a></div><div class="ttdeci">std::string m_updateType</div><div class="ttdoc">Property: UpdatePool constructor type (default: DD4hep_ConditionsLinearUpdatePool) ...</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00088">ConditionsInterna.h:88</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_aad75140018040c6ad49e56a4d56a35ee"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aad75140018040c6ad49e56a4d56a35ee">DD4hep::Conditions::ConditionsManagerObject::ConditionKeys</a></div><div class="ttdeci">ConditionsManager::ConditionKeys ConditionKeys</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00078">ConditionsInterna.h:78</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object_html_ac30708fd16161d507f475cc81419be18"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#ac30708fd16161d507f475cc81419be18">DD4hep::Conditions::Interna::ConditionObject::address</a></div><div class="ttdeci">std::string address</div><div class="ttdoc">Condition address. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h_source.html#l00106">ConditionsInterna.h:106</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a16cf2685ed249700904621d9a68bcdb2"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a16cf2685ed249700904621d9a68bcdb2">DD4hep::Conditions::ConditionsManagerObject::clear</a></div><div class="ttdeci">std::pair&lt; int, int &gt; clear()</div><div class="ttdoc">Full cleanup of all managed conditions. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00380">ConditionsInterna.cpp:380</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_det_element_html_a5f8b4268684a3cd4a5f613181a8bac83"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a5f8b4268684a3cd4a5f613181a8bac83">DD4hep::Geometry::DetElement::path</a></div><div class="ttdeci">const std::string &amp; path() const</div><div class="ttdoc">Path of the detector element (not necessarily identical to placement path!) </div><div class="ttdef"><b>Definition:</b> <a href="_detector_8cpp_source.html#l00152">Detector.cpp:152</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_ac4cd1e3a448bc1f8bae384d194f10c23"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ac4cd1e3a448bc1f8bae384d194f10c23">DD4hep::Conditions::ConditionsManagerObject::Listener</a></div><div class="ttdeci">std::pair&lt; ConditionsListener *, void * &gt; Listener</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00075">ConditionsInterna.h:75</a></div></div>
<div class="ttc" id="_conditions_entry_8h_html"><div class="ttname"><a href="_conditions_entry_8h.html">ConditionsEntry.h</a></div></div>
<div class="ttc" id="_world_8h_html"><div class="ttname"><a href="_world_8h.html">World.h</a></div></div>
<div class="ttc" id="_detector_interna_8h_html"><div class="ttname"><a href="_detector_interna_8h.html">DetectorInterna.h</a></div></div>
<div class="ttc" id="struct_d_d4hep_1_1_instance_count_html_a5053617b5c5083ea3b7d8f306c9a3933"><div class="ttname"><a href="struct_d_d4hep_1_1_instance_count.html#a5053617b5c5083ea3b7d8f306c9a3933">DD4hep::InstanceCount::decrement</a></div><div class="ttdeci">static void decrement(T *)</div><div class="ttdoc">Decrement count according to type information. </div><div class="ttdef"><b>Definition:</b> <a href="_instance_count_8h_source.html#l00104">InstanceCount.h:104</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html_aa75452d30ebad70f84372091d6f777e4"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html#aa75452d30ebad70f84372091d6f777e4">DD4hep::IOV::set</a></div><div class="ttdeci">void set(const Key &amp;value)</div><div class="ttdoc">Set discrete IOV value. </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8cpp_source.html#l00055">IOV.cpp:55</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_world_html"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_world.html">DD4hep::Geometry::World</a></div><div class="ttdoc">Handle class to hold the information of the top DetElement object &amp;#39;world&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="_world_8h_source.html#l00035">World.h:35</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html">DD4hep::Conditions::Interna::ConditionObject</a></div><div class="ttdoc">The data class behind a conditions handle. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h_source.html#l00090">ConditionsInterna.h:90</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a4a8912db5a30d6792455aef57c223bed"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4a8912db5a30d6792455aef57c223bed">DD4hep::Conditions::ConditionsManagerObject::callOnRemove</a></div><div class="ttdeci">void callOnRemove(const Listener &amp;callee, bool add)</div><div class="ttdoc">(Un)Registration of conditions listeners with callback when a condition is unregistered ...</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00203">ConditionsInterna.cpp:203</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_af4a66ea9d20e133cadd6e33a188d7f5b"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af4a66ea9d20e133cadd6e33a188d7f5b">DD4hep::Conditions::ConditionsManagerObject::locked</a></div><div class="ttdeci">int locked</div><div class="ttdoc">Public access: if locked, DetElements stay intact and are not altered. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00114">ConditionsInterna.h:114</a></div></div>
<div class="ttc" id="_plugin_creators_8h_html"><div class="ttname"><a href="_plugin_creators_8h.html">PluginCreators.h</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div></div>
<div class="ttc" id="_handle_8inl_html"><div class="ttname"><a href="_handle_8inl.html">Handle.inl</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_named_object_html_ae797352ed4559f085e6333b6394fb8ac"><div class="ttname"><a href="class_d_d4hep_1_1_named_object.html#ae797352ed4559f085e6333b6394fb8ac">DD4hep::NamedObject::SetName</a></div><div class="ttdeci">void SetName(const char *nam)</div><div class="ttdoc">Set name (used by Handle) </div><div class="ttdef"><b>Definition:</b> <a href="_named_object_8h_source.html#l00058">NamedObject.h:58</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a74aa106c194fb9ca929c8cf523632ce3"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a74aa106c194fb9ca929c8cf523632ce3">DD4hep::Conditions::ConditionsManagerObject::callOnRegister</a></div><div class="ttdeci">void callOnRegister(const Listener &amp;callee, bool add)</div><div class="ttdoc">(Un)Registration of conditions listeners with callback when a new condition is registered ...</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00198">ConditionsInterna.cpp:198</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_condition_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_condition.html">DD4hep::Conditions::Condition</a></div><div class="ttdoc">Main condition object handle. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_8h_source.html#l00070">Conditions.h:70</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_html_adf0b418e513769d438a8c91d766e86f4"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#adf0b418e513769d438a8c91d766e86f4">DD4hep::Conditions::ConditionsIOVPool::elements</a></div><div class="ttdeci">Elements elements</div><div class="ttdoc">Container of IOV dependent conditions pools. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_i_o_v_pool_8h_source.html#l00047">ConditionsIOVPool.h:47</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_adb550d80aca3b897f299530b4c4bfd0b"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#adb550d80aca3b897f299530b4c4bfd0b">DD4hep::Conditions::ConditionsManagerObject::onRemove</a></div><div class="ttdeci">void onRemove(Condition condition)</div><div class="ttdoc">Listener invocation when a condition is deregistered from the cache. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00213">ConditionsInterna.cpp:213</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html_aac9c5f6a22219991896f6a846b3f3649"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html#aac9c5f6a22219991896f6a846b3f3649">DD4hep::IOV::has_range</a></div><div class="ttdeci">bool has_range() const</div><div class="ttdoc">Check if the IOV corresponds to a range. </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8h_source.html#l00090">IOV.h:90</a></div></div>
<div class="ttc" id="_x_m_l_elements_8cpp_html_aadc18c9ee01d55f84c6bcd5841d0e4fd"><div class="ttname"><a href="_x_m_l_elements_8cpp.html#aadc18c9ee01d55f84c6bcd5841d0e4fd">_E</a></div><div class="ttdeci">#define _E(x)</div><div class="ttdef"><b>Definition:</b> <a href="_x_m_l_elements_8cpp_source.html#l00046">XMLElements.cpp:46</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_loader_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_loader.html">DD4hep::Conditions::ConditionsLoader</a></div><div class="ttdoc">The data class behind a conditions container handle. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h_source.html#l00051">ConditionsInterna.h:51</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1dd4hep__ptr_html"><div class="ttname"><a href="class_d_d4hep_1_1dd4hep__ptr.html">DD4hep::dd4hep_ptr</a></div><div class="ttdoc">Out version of the std auto_ptr implementation base either on auto_ptr or unique_ptr. </div><div class="ttdef"><b>Definition:</b> <a href="_memory_8h_source.html#l00043">Memory.h:43</a></div></div>
<div class="ttc" id="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h_html"><div class="ttname"><a href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h.html">ConditionsInterna.h</a></div></div>
<div class="ttc" id="_volumes_8cpp_html_a8a9a1f93e9b09afccaec215310e64142"><div class="ttname"><a href="_volumes_8cpp.html#a8a9a1f93e9b09afccaec215310e64142">e</a></div><div class="ttdeci">return e</div><div class="ttdef"><b>Definition:</b> <a href="_volumes_8cpp_source.html#l00298">Volumes.cpp:298</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_condition_html_a7528efa762e8cc072ef80ea67c3531f9"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_condition.html#a7528efa762e8cc072ef80ea67c3531f9">DD4hep::Conditions::Condition::key_type</a></div><div class="ttdeci">unsigned int key_type</div><div class="ttdoc">Forward definition of the key type. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_8h_source.html#l00075">Conditions.h:75</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_type_html_ac4fa3d6c589f183137625501e757234e"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v_type.html#ac4fa3d6c589f183137625501e757234e">DD4hep::IOVType::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">String name. </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8h_source.html#l00039">IOV.h:39</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a9bda89e54e1ad3b202f7295ec6c102a8"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9bda89e54e1ad3b202f7295ec6c102a8">DD4hep::Conditions::ConditionsManagerObject::pushUpdates</a></div><div class="ttdeci">void pushUpdates()</div><div class="ttdoc">Push all pending updates to the conditions store. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00393">ConditionsInterna.cpp:393</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object_html_a47997f68ec8b07ffe938d869726b6012"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a47997f68ec8b07ffe938d869726b6012">DD4hep::Conditions::Interna::ConditionObject::pool</a></div><div class="ttdeci">ConditionsPool * pool</div><div class="ttdoc">Reference to conditions pool. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h_source.html#l00112">ConditionsInterna.h:112</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a4206a6f248b0712fb7e731f99e2c096a"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a4206a6f248b0712fb7e731f99e2c096a">DD4hep::Conditions::ConditionsManagerObject::registerIOVType</a></div><div class="ttdeci">std::pair&lt; bool, const IOVType * &gt; registerIOVType(size_t iov_type, const std::string &amp;iov_name)</div><div class="ttdoc">Register new IOV type if it does not (yet) exist. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00218">ConditionsInterna.cpp:218</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html_a885a5ed2be528cf1db783cade2a0b838"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html#a885a5ed2be528cf1db783cade2a0b838">DD4hep::IOV::iovType</a></div><div class="ttdeci">const IOVType * iovType</div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8h_source.html#l00069">IOV.h:69</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_property_configurable_html_ae05fd8e07c3bf4f89b9bcc84714a7950"><div class="ttname"><a href="class_d_d4hep_1_1_property_configurable.html#ae05fd8e07c3bf4f89b9bcc84714a7950">DD4hep::PropertyConfigurable::declareProperty</a></div><div class="ttdeci">void declareProperty(const std::string &amp;nam, T &amp;val)</div><div class="ttdoc">Declare property. </div><div class="ttdef"><b>Definition:</b> <a href="_component_properties_8h_source.html#l00264">ComponentProperties.h:264</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_entry_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_entry.html">DD4hep::Conditions::Entry</a></div><div class="ttdoc">The intermediate conditions data used to populate the DetElement conditions. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_entry_8h_source.html#l00037">ConditionsEntry.h:37</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_aa6081a3511680ee1060e78b6a570636d"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aa6081a3511680ee1060e78b6a570636d">DD4hep::Conditions::ConditionsManagerObject::m_onRemove</a></div><div class="ttdeci">Listeners m_onRemove</div><div class="ttdoc">Conditions listeners on de-registration of new conditions. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00103">ConditionsInterna.h:103</a></div></div>
<div class="ttc" id="_alignments_loader_imp_8h_html"><div class="ttname"><a href="_alignments_loader_imp_8h.html">AlignmentsLoaderImp.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_listener_html_ab0c021c6ef8e6c47f28dd077220ee1f3"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_listener.html#ab0c021c6ef8e6c47f28dd077220ee1f3">DD4hep::Conditions::ConditionsListener::onRemoveCondition</a></div><div class="ttdeci">virtual void onRemoveCondition(Condition, void *)</div><div class="ttdoc">ConditionsListener dummy implementation: onRemove a condition. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_listener_8h_source.html#l00056">ConditionsListener.h:56</a></div></div>
<div class="ttc" id="_conditions_listener_8h_html"><div class="ttname"><a href="_conditions_listener_8h.html">ConditionsListener.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_named_object_html"><div class="ttname"><a href="class_d_d4hep_1_1_named_object.html">DD4hep::NamedObject</a></div><div class="ttdoc">Implementation of a named object. </div><div class="ttdef"><b>Definition:</b> <a href="_named_object_8h_source.html#l00031">NamedObject.h:31</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html">DD4hep::IOV</a></div><div class="ttdoc">Class describing the interval of validty. </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8h_source.html#l00059">IOV.h:59</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html"><div class="ttname"><a href="namespace_d_d4hep.html">DD4hep</a></div><div class="ttdoc">Namespace for the AIDA detector description toolkit. </div><div class="ttdef"><b>Definition:</b> <a href="_alignments_8cpp_source.html#l00027">Alignments.cpp:27</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_destroy_object_html"><div class="ttname"><a href="class_d_d4hep_1_1_destroy_object.html">DD4hep::DestroyObject</a></div><div class="ttdoc">Functor to delete objects from heap and reset the pointer. </div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8h_source.html#l00249">Primitives.h:249</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_aca6c43594d93ab8773e245b8cffb0f60"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aca6c43594d93ab8773e245b8cffb0f60">DD4hep::Conditions::ConditionsManagerObject::clean</a></div><div class="ttdeci">int clean(const IOVType *typ, int max_age)</div><div class="ttdoc">Clean conditions, which are above the age limit. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00369">ConditionsInterna.cpp:369</a></div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_errors_html_a70d74e1cb3eced52822c830c2bf4990b"><div class="ttname"><a href="namespace_d_d4hep_1_1_errors.html#a70d74e1cb3eced52822c830c2bf4990b">DD4hep::Errors::noSys</a></div><div class="ttdeci">std::string noSys()</div><div class="ttdoc">System error string for ENOSYS. Sets errno accordingly. </div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_af0a0803e28ed3d30721609a420689e4a"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af0a0803e28ed3d30721609a420689e4a">DD4hep::Conditions::ConditionsManagerObject::m_poolLock</a></div><div class="ttdeci">dd4hep_mutex_t m_poolLock</div><div class="ttdoc">Lock to protect the pool of all known conditions. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00107">ConditionsInterna.h:107</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_entry_html_ae10613b25e5bc54df7d4ada0a2b774a9"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_entry.html#ae10613b25e5bc54df7d4ada0a2b774a9">DD4hep::Conditions::Entry::detector</a></div><div class="ttdeci">Geometry::DetElement detector</div><div class="ttdoc">Reference to the detector element. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_entry_8h_source.html#l00040">ConditionsEntry.h:40</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html_a5407ab1da0910ee18ca80dfa6985d0af"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html#a5407ab1da0910ee18ca80dfa6985d0af">DD4hep::IOV::invert</a></div><div class="ttdeci">IOV &amp; invert()</div><div class="ttdoc">Invert the key values (first=second and second=first) </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8cpp_source.html#l00078">IOV.cpp:78</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_update_pool_html_ad6bcf36ae0a7dee0a08e1045d8612c6e"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_update_pool.html#ad6bcf36ae0a7dee0a08e1045d8612c6e">DD4hep::Conditions::UpdatePool::ConditionEntries</a></div><div class="ttdeci">std::vector&lt; Condition &gt; ConditionEntries</div><div class="ttdef"><b>Definition:</b> <a href="_conditions_pool_8h_source.html#l00111">ConditionsPool.h:111</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html_a28eb02fd8d9c45b770e6a234303991de"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html#a28eb02fd8d9c45b770e6a234303991de">DD4hep::IOV::keyData</a></div><div class="ttdeci">Key keyData</div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8h_source.html#l00070">IOV.h:70</a></div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_errors_html_ab559bb58296daa1eed2725c602cb2483"><div class="ttname"><a href="namespace_d_d4hep_1_1_errors.html#ab559bb58296daa1eed2725c602cb2483">DD4hep::Errors::invalidArg</a></div><div class="ttdeci">std::string invalidArg()</div><div class="ttdoc">System error string for EINVAL. Sets errno accordingly. </div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_html_a3adc9fa6a89d3195b91b5fb11236f360"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#a3adc9fa6a89d3195b91b5fb11236f360">DD4hep::Conditions::ConditionsIOVPool::clean</a></div><div class="ttdeci">int clean(int max_age)</div><div class="ttdoc">Remove all key based pools with an age beyon the minimum age. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_i_o_v_pool_8cpp_source.html#l00066">ConditionsIOVPool.cpp:66</a></div></div>
<div class="ttc" id="_d_d_core_2src_2_conditions_interna_8cpp_html_a07b34c5c781aa2f0acdae8c583c65010"><div class="ttname"><a href="_d_d_core_2src_2_conditions_interna_8cpp.html#a07b34c5c781aa2f0acdae8c583c65010">DD4HEP_INSTANTIATE_HANDLE_NAMED</a></div><div class="ttdeci">DD4HEP_INSTANTIATE_HANDLE_NAMED(Interna::ConditionObject)</div></div>
<div class="ttc" id="class_d_d4hep_1_1_named_object_html_a4675ccdc57835ec27eef8f2799eb77a2"><div class="ttname"><a href="class_d_d4hep_1_1_named_object.html#a4675ccdc57835ec27eef8f2799eb77a2">DD4hep::NamedObject::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">The object name. </div><div class="ttdef"><b>Definition:</b> <a href="_named_object_8h_source.html#l00034">NamedObject.h:34</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a872970f1bb67a3d225be8c63422f848f"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a872970f1bb67a3d225be8c63422f848f">DD4hep::Conditions::ConditionsManagerObject::onRegister</a></div><div class="ttdeci">void onRegister(Condition condition)</div><div class="ttdoc">Listener invocation when a condition is registered to the cache. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00208">ConditionsInterna.cpp:208</a></div></div>
<div class="ttc" id="_printout_8h_html"><div class="ttname"><a href="_printout_8h.html">Printout.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a78747f9367ce2e43b3d0ee4214eb9ab3"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a78747f9367ce2e43b3d0ee4214eb9ab3">DD4hep::Conditions::ConditionsManagerObject::~ConditionsManagerObject</a></div><div class="ttdeci">virtual ~ConditionsManagerObject()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00154">ConditionsInterna.cpp:154</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_html_a75f43e7cd7cbc5c07afb0aca2b241a41"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html#a75f43e7cd7cbc5c07afb0aca2b241a41">DD4hep::Conditions::ConditionsIOVPool::select</a></div><div class="ttdeci">void select(Condition::key_type key, const Condition::iov_type &amp;req_validity, RangeConditions &amp;result)</div><div class="ttdoc">Retrieve a condition set given the key according to their validity. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_i_o_v_pool_8cpp_source.html#l00036">ConditionsIOVPool.cpp:36</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_abc6f28abb03bdfa1f3c0d51de6e6ac9d"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abc6f28abb03bdfa1f3c0d51de6e6ac9d">DD4hep::Conditions::ConditionsManagerObject::m_iovTypes</a></div><div class="ttdeci">IOVTypes m_iovTypes</div><div class="ttdoc">Collection of IOV types managed. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00097">ConditionsInterna.h:97</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a94483d902a20171f95eaf0e2d531f05d"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a94483d902a20171f95eaf0e2d531f05d">DD4hep::Conditions::ConditionsManagerObject::m_loader</a></div><div class="ttdeci">Loader m_loader</div><div class="ttdoc">Reference to data loader. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00109">ConditionsInterna.h:109</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_aca98e38d7025351eb289feafa2cece97"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aca98e38d7025351eb289feafa2cece97">DD4hep::Conditions::ConditionsManagerObject::getRange</a></div><div class="ttdeci">RangeConditions getRange(key_type key, const iov_type &amp;req_validity)</div><div class="ttdoc">Retrieve a condition given a Detector Element and the conditions name. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00642">ConditionsInterna.cpp:642</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a5843d64a9285d2f40f636e6d91020bf0"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5843d64a9285d2f40f636e6d91020bf0">DD4hep::Conditions::ConditionsManagerObject::registerIOV</a></div><div class="ttdeci">ConditionsPool * registerIOV(const std::string &amp;data)</div><div class="ttdoc">Register IOV using new string data. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00293">ConditionsInterna.cpp:293</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_pool_html_a5c86deb9085a420b2d8355ca835f3fc9"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html#a5c86deb9085a420b2d8355ca835f3fc9">DD4hep::Conditions::ConditionsPool::iov</a></div><div class="ttdeci">IOV * iov</div><div class="ttdoc">The IOV of the conditions hosted. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_pool_8h_source.html#l00062">ConditionsPool.h:62</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_type_html"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v_type.html">DD4hep::IOVType</a></div><div class="ttdoc">Class describing the interval of validty type. </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8h_source.html#l00033">IOV.h:33</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a1a0fa030dcff8247de5ed6f93ccb16c5"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a1a0fa030dcff8247de5ed6f93ccb16c5">DD4hep::Conditions::ConditionsManagerObject::get</a></div><div class="ttdeci">Condition get(key_type key, const iov_type &amp;req_validity)</div><div class="ttdoc">Retrieve a condition set given a Detector Element and the conditions name according to their validity...</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00607">ConditionsInterna.cpp:607</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html_acbc1f282468528fd38d471bf7f9d58c0"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html#acbc1f282468528fd38d471bf7f9d58c0">DD4hep::IOV::reset</a></div><div class="ttdeci">IOV &amp; reset()</div><div class="ttdoc">Set keys to unphysical values (LONG_MAX, LONG_MIN) </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8cpp_source.html#l00071">IOV.cpp:71</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html">DD4hep::Conditions::ConditionsManagerObject</a></div><div class="ttdoc">Conditions internal namespace declaration. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00064">ConditionsInterna.h:64</a></div></div>
<div class="ttc" id="_plugins_8h_html"><div class="ttname"><a href="_plugins_8h.html">Plugins.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_type_html_a8387532d69591a4379b8f84fa2302c5a"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v_type.html#a8387532d69591a4379b8f84fa2302c5a">DD4hep::IOVType::type</a></div><div class="ttdeci">unsigned int type</div><div class="ttdoc">integer identifier ised internally </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8h_source.html#l00037">IOV.h:37</a></div></div>
<div class="ttc" id="_errors_8h_html"><div class="ttname"><a href="_errors_8h.html">Errors.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_ad22280768d433c68fabe8709a1bb6fda"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#ad22280768d433c68fabe8709a1bb6fda">DD4hep::Conditions::ConditionsManagerObject::__queue_update</a></div><div class="ttdeci">Condition __queue_update(Conditions::Entry *data)</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00344">ConditionsInterna.cpp:344</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2"><div class="ttname"><a href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42aae10bc5a07787c36af0a4c9921b262d2">DD4hep::INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="_printout_8h_source.html#l00048">Printout.h:48</a></div></div>
<div class="ttc" id="_detector_tools_8h_html"><div class="ttname"><a href="_detector_tools_8h.html">DetectorTools.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html_a497f2859ca7cb011151ae6b977b50aa0"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html#a497f2859ca7cb011151ae6b977b50aa0">DD4hep::IOV::type</a></div><div class="ttdeci">unsigned int type</div><div class="ttdoc">IOV buffer type: Must be a bitmap! </div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8h_source.html#l00073">IOV.h:73</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_pool_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_pool.html">DD4hep::Conditions::ConditionsPool</a></div><div class="ttdoc">Class implementing the conditions collection for a given IOV type. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_pool_8h_source.html#l00046">ConditionsPool.h:46</a></div></div>
<div class="ttc" id="_instance_count_8h_html"><div class="ttname"><a href="_instance_count_8h.html">InstanceCount.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a5dd9771697550f7f82d47863026d4bd5"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a5dd9771697550f7f82d47863026d4bd5">DD4hep::Conditions::ConditionsManagerObject::iovType</a></div><div class="ttdeci">const IOVType * iovType(size_t iov_type) const</div><div class="ttdoc">Access IOV by its type. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00241">ConditionsInterna.cpp:241</a></div></div>
<div class="ttc" id="_d_d_cond_2src_2_conditions_interna_8cpp_html_ac09a1fb44c9ab0363a450f118f567286"><div class="ttname"><a href="_d_d_cond_2src_2_conditions_interna_8cpp.html#ac09a1fb44c9ab0363a450f118f567286">AlignmentsLoader</a></div><div class="ttdeci">Alignments::AlignmentsLoader AlignmentsLoader</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00043">ConditionsInterna.cpp:43</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_handle_html_a6f165a9eec329d2d65172767b5f2777a"><div class="ttname"><a href="class_d_d4hep_1_1_handle.html#a6f165a9eec329d2d65172767b5f2777a">DD4hep::Handle::ptr</a></div><div class="ttdeci">T * ptr() const</div><div class="ttdoc">Access to the held object. </div><div class="ttdef"><b>Definition:</b> <a href="_handle_8h_source.html#l00149">Handle.h:149</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_af839b57cfdda205e2555e757651423fd"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#af839b57cfdda205e2555e757651423fd">DD4hep::Conditions::ConditionsManagerObject::registerCondition</a></div><div class="ttdeci">void registerCondition(Condition c)</div><div class="ttdoc">Register a new managed condition. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00522">ConditionsInterna.cpp:522</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a90c9b5060b3a6299aa7d5d4e9a0d8105"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a90c9b5060b3a6299aa7d5d4e9a0d8105">DD4hep::Conditions::ConditionsManagerObject::m_rawPool</a></div><div class="ttdeci">TypedConditionPool m_rawPool</div><div class="ttdoc">Managed pool of typed conditions indexed by IOV-type and IOV key. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00099">ConditionsInterna.h:99</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_aba0162524bc90a39e30bd5f1f0067ee2"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#aba0162524bc90a39e30bd5f1f0067ee2">DD4hep::Conditions::ConditionsManagerObject::Listeners</a></div><div class="ttdeci">std::set&lt; Listener &gt; Listeners</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00076">ConditionsInterna.h:76</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a45b1d4f84a550788dbe24f0245ada7fb"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a45b1d4f84a550788dbe24f0245ada7fb">DD4hep::Conditions::ConditionsManagerObject::select_range</a></div><div class="ttdeci">bool select_range(key_type key, const iov_type &amp;req_validity, RangeConditions &amp;conditions)</div><div class="ttdoc">Retrieve a condition set given a Detector Element and the conditions name according to their validity...</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00568">ConditionsInterna.cpp:568</a></div></div>
<div class="ttc" id="struct_d_d4hep_1_1_instance_count_html_aaaf8d46a477863acc69b65afbab96b22"><div class="ttname"><a href="struct_d_d4hep_1_1_instance_count.html#aaaf8d46a477863acc69b65afbab96b22">DD4hep::InstanceCount::increment</a></div><div class="ttdeci">static void increment(T *)</div><div class="ttdoc">Increment count according to type information. </div><div class="ttdef"><b>Definition:</b> <a href="_instance_count_8h_source.html#l00100">InstanceCount.h:100</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_alignments_loader_imp_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_alignments_loader_imp.html">DD4hep::Conditions::AlignmentsLoaderImp</a></div><div class="ttdoc">Concrete class to interface conditions loading from DetElements. </div><div class="ttdef"><b>Definition:</b> <a href="_alignments_loader_imp_8h_source.html#l00033">AlignmentsLoaderImp.h:33</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_alignments_1_1_alignments_loader_html_acebda57b7dc5288116e7162dda92b65e"><div class="ttname"><a href="class_d_d4hep_1_1_alignments_1_1_alignments_loader.html#acebda57b7dc5288116e7162dda92b65e">DD4hep::Alignments::AlignmentsLoader::release</a></div><div class="ttdeci">virtual void release()=0</div><div class="ttdoc">Release object. The client may not use any reference any further. </div></div>
<div class="ttc" id="namespace_d_d4hep_html_a5b5a64d56252469451f2020a27d57d42a54d5c1b9254fdf017c456cb972d26f96"><div class="ttname"><a href="namespace_d_d4hep.html#a5b5a64d56252469451f2020a27d57d42a54d5c1b9254fdf017c456cb972d26f96">DD4hep::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="_printout_8h_source.html#l00048">Printout.h:48</a></div></div>
<div class="ttc" id="_conditions_manager_8h_html"><div class="ttname"><a href="_conditions_manager_8h.html">ConditionsManager.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a0190ec510ca46da4a1cc908ac3c3a1dd"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a0190ec510ca46da4a1cc908ac3c3a1dd">DD4hep::Conditions::ConditionsManagerObject::iov_type</a></div><div class="ttdeci">Condition::iov_type iov_type</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00080">ConditionsInterna.h:80</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_named_object_html_a8e17bb5f854b320302be44c68c39a192"><div class="ttname"><a href="class_d_d4hep_1_1_named_object.html#a8e17bb5f854b320302be44c68c39a192">DD4hep::NamedObject::type</a></div><div class="ttdeci">std::string type</div><div class="ttdoc">The object type. </div><div class="ttdef"><b>Definition:</b> <a href="_named_object_8h_source.html#l00036">NamedObject.h:36</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a83ef3cf4c818d972d9c8720913c7525b"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a83ef3cf4c818d972d9c8720913c7525b">DD4hep::Conditions::ConditionsManagerObject::m_updatePool</a></div><div class="ttdeci">dd4hep_ptr&lt; UpdatePool &gt; m_updatePool</div><div class="ttdoc">Reference to update conditions pool. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00111">ConditionsInterna.h:111</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a28a1e3f34a87dcd305b0f71bb92f297f"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a28a1e3f34a87dcd305b0f71bb92f297f">DD4hep::Conditions::ConditionsManagerObject::m_onRegister</a></div><div class="ttdeci">Listeners m_onRegister</div><div class="ttdoc">Conditions listeners on registration of new conditions. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00101">ConditionsInterna.h:101</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a598756c7672c67065f3d116689f95722"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a598756c7672c67065f3d116689f95722">DD4hep::Conditions::ConditionsManagerObject::initialize</a></div><div class="ttdeci">void initialize()</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00168">ConditionsInterna.cpp:168</a></div></div>
<div class="ttc" id="_d_d_cond_2src_2_conditions_interna_8cpp_html_a4577998655a70ab228539800babb9642"><div class="ttname"><a href="_d_d_cond_2src_2_conditions_interna_8cpp.html#a4577998655a70ab228539800babb9642">Updates</a></div><div class="ttdeci">UpdatePool::UpdateEntries Updates</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00044">ConditionsInterna.cpp:44</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object_html_af04a3341b8791fbcf60fe5e5fff20166"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#af04a3341b8791fbcf60fe5e5fff20166">DD4hep::Conditions::Interna::ConditionObject::iov</a></div><div class="ttdeci">const iov_type * iov</div><div class="ttdoc">Interval of validity. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h_source.html#l00114">ConditionsInterna.h:114</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool.html">DD4hep::Conditions::ConditionsIOVPool</a></div><div class="ttdoc">Pool of conditions satisfying one IOV type (epoch, run, fill, etc) </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_i_o_v_pool_8h_source.html#l00041">ConditionsIOVPool.h:41</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object_html_a0b82a44322c732c5f5b99123eef28f63"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a0b82a44322c732c5f5b99123eef28f63">DD4hep::Conditions::Interna::ConditionObject::value</a></div><div class="ttdeci">std::string value</div><div class="ttdoc">Condition value (in string form) </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h_source.html#l00102">ConditionsInterna.h:102</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a8367e7cb7b833dee436e0eacb6c37a87"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a8367e7cb7b833dee436e0eacb6c37a87">DD4hep::Conditions::ConditionsManagerObject::m_maxIOVTypes</a></div><div class="ttdeci">int m_maxIOVTypes</div><div class="ttdoc">Property: maximal number of IOV types to be handled. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00084">ConditionsInterna.h:84</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_handle_html"><div class="ttname"><a href="class_d_d4hep_1_1_handle.html">DD4hep::Handle&lt; NamedObject &gt;</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_loader_html_a0d1ad39d3ed19e648c673497c6995079"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_loader.html#a0d1ad39d3ed19e648c673497c6995079">DD4hep::Conditions::ConditionsLoader::release</a></div><div class="ttdeci">virtual void release()=0</div><div class="ttdoc">Release object. The client may not use any reference any further. </div></div>
<div class="ttc" id="struct_d_d4hep_1_1dd4hep__lock__t_html"><div class="ttname"><a href="struct_d_d4hep_1_1dd4hep__lock__t.html">DD4hep::dd4hep_lock_t</a></div><div class="ttdef"><b>Definition:</b> <a href="_mutex_8h_source.html#l00035">Mutex.h:35</a></div></div>
<div class="ttc" id="_conditions_loader_imp_8h_html"><div class="ttname"><a href="_conditions_loader_imp_8h.html">ConditionsLoaderImp.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a9ff0d68cbe3771a7a9354bdf518ddd11"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a9ff0d68cbe3771a7a9354bdf518ddd11">DD4hep::Conditions::ConditionsManagerObject::fromString</a></div><div class="ttdeci">void fromString(const std::string &amp;iov_str, IOV &amp;iov)</div><div class="ttdoc">Create IOV from string. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00259">ConditionsInterna.cpp:259</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_acbd30bb422ca98796d1eabf4e17706a2"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#acbd30bb422ca98796d1eabf4e17706a2">DD4hep::Conditions::ConditionsManagerObject::m_poolType</a></div><div class="ttdeci">std::string m_poolType</div><div class="ttdoc">Property: ConditionsPool constructor type (default: empty. MUST BE SET!) </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00086">ConditionsInterna.h:86</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_user_pool_html_aa1b208b96c66bee13ee9f2bd6b7aaac5"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_user_pool.html#aa1b208b96c66bee13ee9f2bd6b7aaac5">DD4hep::Conditions::UserPool::clear</a></div><div class="ttdeci">virtual void clear()=0</div><div class="ttdoc">Full cleanup of all managed conditions. </div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_conditions_html_ae765f0140a33973a430280f02b6062f4"><div class="ttname"><a href="namespace_d_d4hep_1_1_conditions.html#ae765f0140a33973a430280f02b6062f4">DD4hep::Conditions::RangeConditions</a></div><div class="ttdeci">std::vector&lt; Condition &gt; RangeConditions</div><div class="ttdef"><b>Definition:</b> <a href="_conditions_8h_source.html#l00324">Conditions.h:324</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_l_c_d_d_html"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html">DD4hep::Geometry::LCDD</a></div><div class="ttdoc">The main interface to the DD4hep detector description package. </div><div class="ttdef"><b>Definition:</b> <a href="_l_c_d_d_8h_source.html#l00091">LCDD.h:91</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_world_html_af15c1c1758a9f3603619d8a490a35c0a"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_world.html#af15c1c1758a9f3603619d8a490a35c0a">DD4hep::Geometry::World::conditionsLoader</a></div><div class="ttdeci">ConditionsLoader &amp; conditionsLoader() const</div><div class="ttdoc">Access the conditions loading. </div><div class="ttdef"><b>Definition:</b> <a href="_world_8cpp_source.html#l00022">World.cpp:22</a></div></div>
<div class="ttc" id="_alignments_interna_8h_html"><div class="ttname"><a href="_alignments_interna_8h.html">AlignmentsInterna.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_loader_imp_html"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_loader_imp.html">DD4hep::Conditions::ConditionsLoaderImp</a></div><div class="ttdoc">Concrete class to interface conditions loading from DetElements. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_loader_imp_8h_source.html#l00033">ConditionsLoaderImp.h:33</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_abe38ba943a936b6322ec553e53f0c7dd"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#abe38ba943a936b6322ec553e53f0c7dd">DD4hep::Conditions::ConditionsManagerObject::m_userType</a></div><div class="ttdeci">std::string m_userType</div><div class="ttdoc">Property: UserPool constructor type (default: DD4hep_ConditionsLinearUserPool) </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00090">ConditionsInterna.h:90</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_adc2a8ecbe9ee734901bdf11dc2e3da0e"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#adc2a8ecbe9ee734901bdf11dc2e3da0e">DD4hep::Conditions::ConditionsManagerObject::m_loaderType</a></div><div class="ttdeci">std::string m_loaderType</div><div class="ttdoc">Property: Conditions loader type (default: &quot;multi&quot; -&gt; DD4hep_Conditions_multi_Loader) ...</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00092">ConditionsInterna.h:92</a></div></div>
<div class="ttc" id="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_html"><div class="ttname"><a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h.html">ConditionsInterna.h</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_af8602b0b80e0c252cf28e5fbbc81abcc"><div class="ttname"><a href="namespace_d_d4hep.html#af8602b0b80e0c252cf28e5fbbc81abcc">DD4hep::except</a></div><div class="ttdeci">void except(const std::string &amp;src, const std::string &amp;fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="_printout_8cpp_source.html#l00197">Printout.cpp:197</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_handle_html_a7e69d51e089a24a1773603dfa3fe5eac"><div class="ttname"><a href="class_d_d4hep_1_1_handle.html#a7e69d51e089a24a1773603dfa3fe5eac">DD4hep::Handle::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Check the validity of the object held by the handle. </div><div class="ttdef"><b>Definition:</b> <a href="_handle_8h_source.html#l00124">Handle.h:124</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a6d434af620a49074f3d86d05a04b6073"><div class="ttname"><a href="namespace_d_d4hep.html#a6d434af620a49074f3d86d05a04b6073">DD4hep::printout</a></div><div class="ttdeci">int printout(PrintLevel severity, const char *src, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="_printout_8cpp_source.html#l00091">Printout.cpp:91</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_entry_html_a28dbb34f86ab05df22df9f9756100bcf"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_entry.html#a28dbb34f86ab05df22df9f9756100bcf">DD4hep::Conditions::Entry::value</a></div><div class="ttdeci">std::string value</div><div class="ttdoc">The actual conditions data. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_entry_8h_source.html#l00042">ConditionsEntry.h:42</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_object_extensions_html"><div class="ttname"><a href="class_d_d4hep_1_1_object_extensions.html">DD4hep::ObjectExtensions</a></div><div class="ttdoc">Implementation of an object supporting arbitrary user extensions. </div><div class="ttdef"><b>Definition:</b> <a href="_object_extensions_8h_source.html#l00031">ObjectExtensions.h:31</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a6ca16a780558379464d37ca9e691e9ef"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a6ca16a780558379464d37ca9e691e9ef">DD4hep::Conditions::ConditionsManagerObject::m_lcdd</a></div><div class="ttdeci">LCDD &amp; m_lcdd</div><div class="ttdoc">Reference to main detector description object. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2include_2_d_d_cond_2_conditions_interna_8h_source.html#l00095">ConditionsInterna.h:95</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_i_o_v_html_a07cb46dc875296dc9cccf4ff370104ae"><div class="ttname"><a href="class_d_d4hep_1_1_i_o_v.html#a07cb46dc875296dc9cccf4ff370104ae">DD4hep::IOV::Key</a></div><div class="ttdeci">std::pair&lt; Key_first_type, Key_second_type &gt; Key</div><div class="ttdef"><b>Definition:</b> <a href="_i_o_v_8h_source.html#l00067">IOV.h:67</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object_html_a745cd16ef676c16294d450c60617fbd1"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_conditions_manager_object.html#a745cd16ef676c16294d450c60617fbd1">DD4hep::Conditions::ConditionsManagerObject::registerUnlocked</a></div><div class="ttdeci">bool registerUnlocked(ConditionsPool *pool, Condition cond)</div><div class="ttdoc">Register new condition with the conditions store. Unlocked version, not multi-threaded. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_cond_2src_2_conditions_interna_8cpp_source.html#l00325">ConditionsInterna.cpp:325</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object_html_a4bd162e79c142737fd279493329bae42"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_interna_1_1_condition_object.html#a4bd162e79c142737fd279493329bae42">DD4hep::Conditions::Interna::ConditionObject::comment</a></div><div class="ttdeci">std::string comment</div><div class="ttdoc">Comment string. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h_source.html#l00108">ConditionsInterna.h:108</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_condition_html_a7f9601669ce1343a47389c077cc21726"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_condition.html#a7f9601669ce1343a47389c077cc21726">DD4hep::Conditions::Condition::value</a></div><div class="ttdeci">const std::string &amp; value() const</div><div class="ttdoc">Access the value field of the condition as a string. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_8cpp_source.html#l00114">Conditions.cpp:114</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_conditions_1_1_condition_html_a9370350f5fb154e29346489c368f3e8a"><div class="ttname"><a href="class_d_d4hep_1_1_conditions_1_1_condition.html#a9370350f5fb154e29346489c368f3e8a">DD4hep::Conditions::Condition::iov</a></div><div class="ttdeci">const iov_type &amp; iov() const</div><div class="ttdoc">Access the IOV block. </div><div class="ttdef"><b>Definition:</b> <a href="_conditions_8cpp_source.html#l00099">Conditions.cpp:99</a></div></div>
<div class="ttc" id="_conditions_data_loader_8h_html"><div class="ttname"><a href="_conditions_data_loader_8h.html">ConditionsDataLoader.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->

<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 14 2016 16:09:23 for DD4hep by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
