<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!--BEGIN PROJECT_NAME--><title>DD4hep: DD4hep: /afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDCore/src/Detector.cpp Source File</title><!--END PROJECT_NAME-->
<!--BEGIN !PROJECT_NAME--><title>DD4hep: /afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDCore/src/Detector.cpp Source File</title><!--END !PROJECT_NAME-->
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="DD4hep.css" rel="stylesheet" type="text/css" />
$treeview
$search
$mathjax
</head>
<body>
<div id="top"><!-- do not remove this div! -->

<!--BEGIN TITLEAREA-->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 100px;">
  <!--BEGIN PROJECT_LOGO-->
  <td id="projectlogo"><img alt="Logo" src="../doc/LaTex/CERN-logo.png" height="72"/></td>
  <td id="projectlogo"><img alt="Logo" src="$projectlogo" height="72"/></td>
  <!--END PROJECT_LOGO-->
  <!--BEGIN PROJECT_NAME-->
  <td style="padding-left: 0.5em;">
   <!--BEGIN PROJECT_BRIEF--><div id="projectbrief">$projectbrief</div><!--END PROJECT_BRIEF-->
   <div id="projectname">DD4hep
   <!--BEGIN PROJECT_NUMBER-->&#160;<span id="projectnumber">Rev:exported</span><!--END PROJECT_NUMBER-->
   </div>
  </td>
  <!--END PROJECT_NAME-->
  <!--BEGIN !PROJECT_NAME-->
   <!--BEGIN PROJECT_BRIEF-->
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">$projectbrief</div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
  <!--BEGIN DISABLE_INDEX-->
   <!--BEGIN SEARCHENGINE-->
   <td>$searchbox</td>
   <!--END SEARCHENGINE-->
  <!--END DISABLE_INDEX-->
 </tr>
 </tbody>
</table>
</div>
<!--END TITLEAREA-->
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDCore/src/Detector.cpp</h1><a href="_detector_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// $Id$</span>
<a name="l00002"></a>00002 <span class="comment">//==========================================================================</span>
<a name="l00003"></a>00003 <span class="comment">//  AIDA Detector description implementation for LCD</span>
<a name="l00004"></a>00004 <span class="comment">//--------------------------------------------------------------------------</span>
<a name="l00005"></a>00005 <span class="comment">// Copyright (C) Organisation europeenne pour la Recherche nucleaire (CERN)</span>
<a name="l00006"></a>00006 <span class="comment">// All rights reserved.</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// For the licensing terms see $DD4hepINSTALL/LICENSE.</span>
<a name="l00009"></a>00009 <span class="comment">// For the list of contributors see $DD4hepINSTALL/doc/CREDITS.</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">// Author     : M.Frank</span>
<a name="l00012"></a>00012 <span class="comment">//</span>
<a name="l00013"></a>00013 <span class="comment">//==========================================================================</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">// Framework include files</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="_detector_interna_8h.html">DD4hep/objects/DetectorInterna.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="_d_d_core_2include_2_d_d4hep_2objects_2_conditions_interna_8h.html">DD4hep/objects/ConditionsInterna.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="_alignments_interna_8h.html">DD4hep/objects/AlignmentsInterna.h</a>&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="_alignment_tools_8h.html">DD4hep/AlignmentTools.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="_detector_tools_8h.html">DD4hep/DetectorTools.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="_world_8h.html">DD4hep/World.h</a>&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="_l_c_d_d_8h.html">DD4hep/LCDD.h</a>&quot;</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="keyword">using namespace </span>std;
<a name="l00025"></a>00025 <span class="keyword">using namespace </span>DD4hep::Geometry;
<a name="l00026"></a>00026 <span class="keyword">using</span> <a class="code" href="class_d_d4hep_1_1_alignments_1_1_alignment.html" title="Main handle class to hold an alignment object.">DD4hep::Alignments::Alignment</a>;
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="keyword">namespace </span>{
<a name="l00029"></a>00029   <span class="keyword">static</span> <span class="keywordtype">string</span> s_empty_string;
<a name="l00030"></a>00030 }
<a name="l00031"></a>00031 
<a name="l00033"></a>00033 <a class="code" href="namespace_d_d4hep.html#a21dd977310ff183f61ca6ae14b59a989">DetElement::DetElement</a>(Object* det_data, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; det_name, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; det_type)
<a name="l00034"></a>00034   : RefObject(det_data) {
<a name="l00035"></a>00035   this-&gt;<a class="code" href="class_d_d4hep_1_1_handle.html#a9f5b5d3feb89adf95fdfc4148c711209" title="Assign a new named object. Note: object references must be managed by the user.">assign</a>(det_data, det_name, det_type);
<a name="l00036"></a>00036 }
<a name="l00037"></a>00037 
<a name="l00039"></a>00039 <a class="code" href="namespace_d_d4hep.html#a21dd977310ff183f61ca6ae14b59a989">DetElement::DetElement</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; det_name, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; det_type, <span class="keywordtype">int</span> det_id) {
<a name="l00040"></a>00040   <a class="code" href="class_d_d4hep_1_1_handle.html#a9f5b5d3feb89adf95fdfc4148c711209" title="Assign a new named object. Note: object references must be managed by the user.">assign</a>(<span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_det_conditions.html#a4c0ad456b1967b5b724894f23ef63dec" title="Internal object type.">Object</a>(det_name,det_id), det_name, det_type);
<a name="l00041"></a>00041   <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>()-&gt;id = det_id;
<a name="l00042"></a>00042 }
<a name="l00043"></a>00043 
<a name="l00045"></a>00045 <a class="code" href="namespace_d_d4hep.html#a21dd977310ff183f61ca6ae14b59a989">DetElement::DetElement</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; det_name, <span class="keywordtype">int</span> det_id) {
<a name="l00046"></a>00046   <a class="code" href="class_d_d4hep_1_1_handle.html#a9f5b5d3feb89adf95fdfc4148c711209" title="Assign a new named object. Note: object references must be managed by the user.">assign</a>(<span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_det_conditions.html#a4c0ad456b1967b5b724894f23ef63dec" title="Internal object type.">Object</a>(det_name,det_id), det_name, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00047"></a>00047   <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>()-&gt;id = det_id;
<a name="l00048"></a>00048 }
<a name="l00049"></a>00049 
<a name="l00051"></a>00051 <a class="code" href="namespace_d_d4hep.html#a21dd977310ff183f61ca6ae14b59a989">DetElement::DetElement</a>(<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> det_parent, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; det_name, <span class="keywordtype">int</span> det_id) {
<a name="l00052"></a>00052   <a class="code" href="class_d_d4hep_1_1_handle.html#a9f5b5d3feb89adf95fdfc4148c711209" title="Assign a new named object. Note: object references must be managed by the user.">assign</a>(<span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_conditions_1_1_det_conditions.html#a4c0ad456b1967b5b724894f23ef63dec" title="Internal object type.">Object</a>(det_name,det_id), det_name, det_parent.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ac3f1002c4b640a796ebd1854507496ac" title="Access detector type (structure, tracker, calorimeter, etc.).">type</a>());
<a name="l00053"></a>00053   <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>()-&gt;id = det_id;
<a name="l00054"></a>00054   det_parent.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a336e54ac88a2f3493f82138699899517" title="Add new child to the detector structure.">add</a>(*<span class="keyword">this</span>);
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00058"></a>00058 <span class="keywordtype">void</span>* <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a5efc4a0c2d1b0cf6e7d68406d795723f" title="Add an extension object to the detector element.">DetElement::i_addExtension</a>(<span class="keywordtype">void</span>* ext_ptr, <span class="keyword">const</span> type_info&amp; info, copy_t ctor, destruct_t dtor)<span class="keyword"> const </span>{
<a name="l00059"></a>00059   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;addExtension(ext_ptr, info, <a class="code" href="class_d_d4hep_1_1_object_extensions.html#ab58b60490186d1adc0c5585ad691a7c2" title="Extensions copy constructor type.">ObjectExtensions::copy_t</a>(ctor), dtor);
<a name="l00060"></a>00060 }
<a name="l00061"></a>00061 
<a name="l00063"></a>00063 <span class="keywordtype">void</span>* <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a45f86dc46aa21a9466c2b1270029bfd2" title="Access an existing extension object from the detector element.">DetElement::i_extension</a>(<span class="keyword">const</span> type_info&amp; info)<span class="keyword"> const </span>{
<a name="l00064"></a>00064   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;extension(info);
<a name="l00065"></a>00065 }
<a name="l00066"></a>00066 
<a name="l00068"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#adc63245333efeee5af537619b0cb8dec">00068</a> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#adc63245333efeee5af537619b0cb8dec" title="Internal call to extend the detector element with an arbitrary structure accessible...">DetElement::i_addUpdateCall</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> callback_type, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_callback.html" title="Definition of the generic callback structure for member functions.">Callback</a>&amp; callback)<span class="keyword">  const  </span>{
<a name="l00069"></a>00069   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;updateCalls.push_back(make_pair(callback,callback_type));
<a name="l00070"></a>00070 }
<a name="l00071"></a>00071 
<a name="l00073"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#acb4a6a5c092ea6e4c4d9bfa781a7eea8">00073</a> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#acb4a6a5c092ea6e4c4d9bfa781a7eea8" title="Remove callback from object.">DetElement::removeAtUpdate</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> typ, <span class="keywordtype">void</span>* pointer)<span class="keyword">  const </span>{
<a name="l00074"></a>00074   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;removeAtUpdate(typ,pointer);
<a name="l00075"></a>00075 }
<a name="l00076"></a>00076 
<a name="l00078"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a0616a56e3d6ac4039041361d533de8ee">00078</a> <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a0616a56e3d6ac4039041361d533de8ee" title="Access to the full path to the placed object.">DetElement::placementPath</a>()<span class="keyword"> const </span>{
<a name="l00079"></a>00079   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>();
<a name="l00080"></a>00080   <span class="keywordflow">if</span> ( o ) {
<a name="l00081"></a>00081     <span class="keywordflow">if</span> (o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a64bf695379c82abca8e8054307a94861" title="The path to the placement of the detector element (if placed).">placementPath</a>.empty()) {
<a name="l00082"></a>00082       o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a64bf695379c82abca8e8054307a94861" title="The path to the placement of the detector element (if placed).">placementPath</a> = <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a0616a56e3d6ac4039041361d533de8ee" title="Access to the full path to the placed object.">DetectorTools::placementPath</a>(*<span class="keyword">this</span>);
<a name="l00083"></a>00083     }
<a name="l00084"></a>00084     <span class="keywordflow">return</span> o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a64bf695379c82abca8e8054307a94861" title="The path to the placement of the detector element (if placed).">placementPath</a>;
<a name="l00085"></a>00085   }
<a name="l00086"></a>00086   <span class="keywordflow">return</span> s_empty_string;
<a name="l00087"></a>00087 }
<a name="l00088"></a>00088 
<a name="l00090"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ac3f1002c4b640a796ebd1854507496ac">00090</a> <span class="keywordtype">string</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ac3f1002c4b640a796ebd1854507496ac" title="Access detector type (structure, tracker, calorimeter, etc.).">DetElement::type</a>()<span class="keyword"> const </span>{
<a name="l00091"></a>00091   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a207411705e86b0f4053357c7a8b5532e" title="Single and only data member: Reference to the actual element.">m_element</a> ? <a class="code" href="class_d_d4hep_1_1_handle.html#a207411705e86b0f4053357c7a8b5532e" title="Single and only data member: Reference to the actual element.">m_element</a>-&gt;GetTitle() : <span class="stringliteral">&quot;&quot;</span>;
<a name="l00092"></a>00092 }
<a name="l00093"></a>00093 
<a name="l00095"></a>00095 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a28c2c203dfcb6cd893bbe1bec4101392" title="Set detector type (structure, tracker, calorimeter, etc.).">DetElement::setType</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; typ) {
<a name="l00096"></a>00096   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a4e44e860d6e5827d9f42a4aea3a4f288" title="Internal object type.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>();
<a name="l00097"></a>00097   o-&gt;SetTitle(typ.c_str());
<a name="l00098"></a>00098   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00099"></a>00099 }
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a7c6acb468c40a967e9e50a8efc2a620d">00101</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a7c6acb468c40a967e9e50a8efc2a620d">DetElement::typeFlag</a>()<span class="keyword"> const </span>{
<a name="l00102"></a>00102   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a207411705e86b0f4053357c7a8b5532e" title="Single and only data member: Reference to the actual element.">m_element</a> ? <a class="code" href="class_d_d4hep_1_1_handle.html#a207411705e86b0f4053357c7a8b5532e" title="Single and only data member: Reference to the actual element.">m_element</a>-&gt;typeFlag :  0 ;
<a name="l00103"></a>00103 }
<a name="l00104"></a>00104 
<a name="l00106"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a5a03e88dd7e1e3f215116f44dfca1dce">00106</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a5a03e88dd7e1e3f215116f44dfca1dce" title="Set the flag word encoding detector types ( ideally use DD4hep::DetType for encoding...">DetElement::setTypeFlag</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> types) {
<a name="l00107"></a>00107   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>();
<a name="l00108"></a>00108   o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a0038f8f124cb13a1cca03af95964dcf5" title="Flag to encode detector types.">typeFlag</a> = types ;
<a name="l00109"></a>00109   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00110"></a>00110 }
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 <span class="keyword">namespace </span>{
<a name="l00113"></a>00113   <span class="keyword">static</span> <span class="keywordtype">void</span> make_path(<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">DetElement::Object</a>* o)   {
<a name="l00114"></a>00114     <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> par = o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a70ce8bf0603c0a7a4f6331faf71e66b6" title="Reference to the parent element.">parent</a>;
<a name="l00115"></a>00115     <span class="keywordflow">if</span> ( par.<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>() )  {
<a name="l00116"></a>00116       o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a6346cce7b6b1f96a5f33a41f2f9e219f" title="Full path to this detector element. May be invalid.">path</a> = par.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a6b70a5084294e7adb2f0bd0018e3aed2" title="Path of the detector element (not necessarily identical to placement path!).">path</a>() + <span class="stringliteral">&quot;/&quot;</span> + o-&gt;<a class="code" href="class_d_d4hep_1_1_named_object.html#a4675ccdc57835ec27eef8f2799eb77a2" title="The object name.">name</a>;
<a name="l00117"></a>00117       <span class="keywordflow">if</span> ( o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a734b4a41fa1d35d9a02b3b15d2739537" title="Hierarchical level within the detector description.">level</a> &lt; 0 ) o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a734b4a41fa1d35d9a02b3b15d2739537" title="Hierarchical level within the detector description.">level</a> = par.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a240671f969600e1f707085d01fd62ec9" title="Access the hierarchical level of the detector element (Only valid once geometry is...">level</a>() + 1;
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119     <span class="keywordflow">else</span> {
<a name="l00120"></a>00120       o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a6346cce7b6b1f96a5f33a41f2f9e219f" title="Full path to this detector element. May be invalid.">path</a> = <span class="stringliteral">&quot;/&quot;</span> + o-&gt;<a class="code" href="class_d_d4hep_1_1_named_object.html#a4675ccdc57835ec27eef8f2799eb77a2" title="The object name.">name</a>;
<a name="l00121"></a>00121       o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a734b4a41fa1d35d9a02b3b15d2739537" title="Hierarchical level within the detector description.">level</a> = 0;
<a name="l00122"></a>00122     }
<a name="l00123"></a>00123     o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a77994e3dcc6416eadd3be577c46a8e29" title="Access hash key of this detector element (Only valid once geometry is closed!).">key</a> = <a class="code" href="namespace_d_d4hep.html#a64c38e1f6b17efb9177457a3f2690daa" title="We need it so often: one-at-time 32 bit hash function.">DD4hep::hash32</a>(o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a6346cce7b6b1f96a5f33a41f2f9e219f" title="Full path to this detector element. May be invalid.">path</a>);
<a name="l00124"></a>00124   }
<a name="l00125"></a>00125 }
<a name="l00126"></a>00126 
<a name="l00128"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ad3a90491007d6e3d4656b33d09466b07">00128</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ad3a90491007d6e3d4656b33d09466b07" title="Access hash key of this detector element (Only valid once geometry is closed!).">DetElement::key</a>()<span class="keyword">  const   </span>{
<a name="l00129"></a>00129   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>();
<a name="l00130"></a>00130   <span class="keywordflow">if</span> ( o )  {
<a name="l00131"></a>00131     <span class="keywordflow">if</span> ( o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a77994e3dcc6416eadd3be577c46a8e29" title="Access hash key of this detector element (Only valid once geometry is closed!).">key</a> != 0 )
<a name="l00132"></a>00132       <span class="keywordflow">return</span> o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a77994e3dcc6416eadd3be577c46a8e29" title="Access hash key of this detector element (Only valid once geometry is closed!).">key</a>;
<a name="l00133"></a>00133     make_path(o);
<a name="l00134"></a>00134     <span class="keywordflow">return</span> o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a77994e3dcc6416eadd3be577c46a8e29" title="Access hash key of this detector element (Only valid once geometry is closed!).">key</a>;
<a name="l00135"></a>00135   }
<a name="l00136"></a>00136   <span class="keywordflow">return</span> 0;
<a name="l00137"></a>00137 }
<a name="l00138"></a>00138 
<a name="l00140"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a240671f969600e1f707085d01fd62ec9">00140</a> <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a240671f969600e1f707085d01fd62ec9" title="Access the hierarchical level of the detector element (Only valid once geometry is...">DetElement::level</a>()<span class="keyword">  const   </span>{
<a name="l00141"></a>00141   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>();
<a name="l00142"></a>00142   <span class="keywordflow">if</span> ( o )  {
<a name="l00143"></a>00143     <span class="keywordflow">if</span> ( o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a734b4a41fa1d35d9a02b3b15d2739537" title="Hierarchical level within the detector description.">level</a> &gt;= 0 )
<a name="l00144"></a>00144       <span class="keywordflow">return</span> o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a734b4a41fa1d35d9a02b3b15d2739537" title="Hierarchical level within the detector description.">level</a>;
<a name="l00145"></a>00145     make_path(o);
<a name="l00146"></a>00146     <span class="keywordflow">return</span> o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a734b4a41fa1d35d9a02b3b15d2739537" title="Hierarchical level within the detector description.">level</a>;
<a name="l00147"></a>00147   }
<a name="l00148"></a>00148   <span class="keywordflow">return</span> -1;
<a name="l00149"></a>00149 }
<a name="l00150"></a>00150 
<a name="l00152"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a6b70a5084294e7adb2f0bd0018e3aed2">00152</a> <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a6b70a5084294e7adb2f0bd0018e3aed2" title="Path of the detector element (not necessarily identical to placement path!).">DetElement::path</a>()<span class="keyword"> const </span>{
<a name="l00153"></a>00153   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>();
<a name="l00154"></a>00154   <span class="keywordflow">if</span> ( o ) {
<a name="l00155"></a>00155     <span class="keywordflow">if</span> ( !o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a6346cce7b6b1f96a5f33a41f2f9e219f" title="Full path to this detector element. May be invalid.">path</a>.empty() )
<a name="l00156"></a>00156       <span class="keywordflow">return</span> o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a6346cce7b6b1f96a5f33a41f2f9e219f" title="Full path to this detector element. May be invalid.">path</a>;
<a name="l00157"></a>00157     make_path(o);
<a name="l00158"></a>00158     <span class="keywordflow">return</span> o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a6346cce7b6b1f96a5f33a41f2f9e219f" title="Full path to this detector element. May be invalid.">path</a>;
<a name="l00159"></a>00159   }
<a name="l00160"></a>00160   <span class="keywordflow">return</span> s_empty_string;
<a name="l00161"></a>00161 }
<a name="l00162"></a>00162 
<a name="l00163"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ab792b1e02d95042fd94897283df9f8fa">00163</a> <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ab792b1e02d95042fd94897283df9f8fa" title="Get the detector identifier.">DetElement::id</a>()<span class="keyword"> const </span>{
<a name="l00164"></a>00164   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;id;
<a name="l00165"></a>00165 }
<a name="l00166"></a>00166 
<a name="l00167"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a64ef93ecc75518cc2d78a6ca0b64d48d">00167</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a64ef93ecc75518cc2d78a6ca0b64d48d" title="Getter: Combine hits attribute.">DetElement::combineHits</a>()<span class="keyword"> const </span>{
<a name="l00168"></a>00168   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;combineHits != 0;
<a name="l00169"></a>00169 }
<a name="l00170"></a>00170 
<a name="l00171"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a3b5dbbb87e8e1ddb64fc94e98cd5a70b">00171</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a3b5dbbb87e8e1ddb64fc94e98cd5a70b" title="Setter: Combine hits attribute.">DetElement::setCombineHits</a>(<span class="keywordtype">bool</span> value, <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>&amp; sens) {
<a name="l00172"></a>00172   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;combineHits = value;
<a name="l00173"></a>00173   <span class="keywordflow">if</span> (sens.<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>())
<a name="l00174"></a>00174     sens.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a934bd9f3b3c239b6fc751f2b68b26016" title="Set flag to handle hits collection.">setCombineHits</a>(value);
<a name="l00175"></a>00175   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00176"></a>00176 }
<a name="l00177"></a>00177 
<a name="l00179"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#af5c8d93fa7327838eee4911721f7fe2e">00179</a> <a class="code" href="class_d_d4hep_1_1_alignments_1_1_alignment.html" title="Main handle class to hold an alignment object.">Alignment</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#af5c8d93fa7327838eee4911721f7fe2e" title="Access to the constant ideal (nominal) alignment information.">DetElement::nominal</a>()<span class="keyword"> const   </span>{
<a name="l00180"></a>00180   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>();
<a name="l00181"></a>00181   <span class="keywordflow">if</span> ( !o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a3020acb0795114c57c8d5bb536f310f4" title="Basic ideal/nominal detector element alignment entry.">nominal</a>.<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>() )   {
<a name="l00182"></a>00182     o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a3020acb0795114c57c8d5bb536f310f4" title="Basic ideal/nominal detector element alignment entry.">nominal</a> = <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a5e5bddb6f1ba24c21af381b9bfeb3dba">Alignment</a>(<span class="stringliteral">&quot;nominal&quot;</span>);
<a name="l00183"></a>00183     o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a3020acb0795114c57c8d5bb536f310f4" title="Basic ideal/nominal detector element alignment entry.">nominal</a>-&gt;detector = *<span class="keyword">this</span>;
<a name="l00184"></a>00184     <a class="code" href="namespace_d_d4hep_1_1_alignments_1_1_alignment_tools.html#a009dd48155bddca23afba151e2887124" title="Compute the ideal/nominal to-world transformation from the detector element placement...">DD4hep::Alignments::AlignmentTools::computeIdeal</a>(o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a3020acb0795114c57c8d5bb536f310f4" title="Basic ideal/nominal detector element alignment entry.">nominal</a>);
<a name="l00185"></a>00185   }
<a name="l00186"></a>00186   <span class="keywordflow">return</span> o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a3020acb0795114c57c8d5bb536f310f4" title="Basic ideal/nominal detector element alignment entry.">nominal</a>;
<a name="l00187"></a>00187 }
<a name="l00188"></a>00188 
<a name="l00190"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a7656d819ab427f168ece0940353055f9">00190</a> <a class="code" href="class_d_d4hep_1_1_alignments_1_1_alignment.html" title="Main handle class to hold an alignment object.">Alignment</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a7656d819ab427f168ece0940353055f9" title="Access to the constant survey alignment information.">DetElement::survey</a>()<span class="keyword"> const  </span>{
<a name="l00191"></a>00191   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>();
<a name="l00192"></a>00192   <span class="keywordflow">if</span> ( !o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#ae01bd959a10eeb236ab0f21d7241a3a1" title="Basic detector element alignment entry containing the survey data.">survey</a>.<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>() )   {
<a name="l00193"></a>00193     o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#ae01bd959a10eeb236ab0f21d7241a3a1" title="Basic detector element alignment entry containing the survey data.">survey</a> = <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a5e5bddb6f1ba24c21af381b9bfeb3dba">Alignment</a>(<span class="stringliteral">&quot;survey&quot;</span>);
<a name="l00194"></a>00194     <a class="code" href="namespace_d_d4hep_1_1_alignments_1_1_alignment_tools.html#a03e005e692b6427d78828d1785791a50" title="Copy alignment object from source object.">DD4hep::Alignments::AlignmentTools::copy</a>(<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#af5c8d93fa7327838eee4911721f7fe2e" title="Access to the constant ideal (nominal) alignment information.">nominal</a>(), o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#ae01bd959a10eeb236ab0f21d7241a3a1" title="Basic detector element alignment entry containing the survey data.">survey</a>);
<a name="l00195"></a>00195   }
<a name="l00196"></a>00196   <span class="keywordflow">return</span> o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#ae01bd959a10eeb236ab0f21d7241a3a1" title="Basic detector element alignment entry containing the survey data.">survey</a>;
<a name="l00197"></a>00197 }
<a name="l00198"></a>00198 
<a name="l00199"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a2c8a811c999fafb4021d5e342fbdee50">00199</a> <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#afc41f63ac2a467f5077d1cca1292d580">DetElement::Children</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a2c8a811c999fafb4021d5e342fbdee50" title="Access to the list of children.">DetElement::children</a>()<span class="keyword"> const </span>{
<a name="l00200"></a>00200   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;children;
<a name="l00201"></a>00201 }
<a name="l00202"></a>00202 
<a name="l00204"></a>00204 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ab00408422c16bff12f36bbaff9b404a1" title="Access to individual children by name.">DetElement::child</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; child_name)<span class="keyword"> const </span>{
<a name="l00205"></a>00205   <span class="keywordflow">if</span> (<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>()) {
<a name="l00206"></a>00206     <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#afc41f63ac2a467f5077d1cca1292d580">Children</a>&amp; c = <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>()-&gt;children;
<a name="l00207"></a>00207     Children::const_iterator i = c.find(child_name);
<a name="l00208"></a>00208     <span class="keywordflow">return</span> i == c.end() ? <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a005be4fc3aa34d82ee55af3f9bb78e47" title="Default constructor.">DetElement</a>() : (*i).<a class="code" href="namespacedd4hep.html#ac03364576705a245265d8ed6ea26b871">second</a>;
<a name="l00209"></a>00209   }
<a name="l00210"></a>00210   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a005be4fc3aa34d82ee55af3f9bb78e47" title="Default constructor.">DetElement</a>();
<a name="l00211"></a>00211 }
<a name="l00212"></a>00212 
<a name="l00214"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a6a7a665630b1b3af6dd172d9166b8b8d">00214</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a6a7a665630b1b3af6dd172d9166b8b8d" title="Access to the detector elements&amp;#39;s parent.">DetElement::parent</a>()<span class="keyword"> const </span>{
<a name="l00215"></a>00215   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>();
<a name="l00216"></a>00216   <span class="keywordflow">return</span> (o) ? o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a70ce8bf0603c0a7a4f6331faf71e66b6" title="Reference to the parent element.">parent</a> : 0;
<a name="l00217"></a>00217 }
<a name="l00218"></a>00218 
<a name="l00220"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a6ffabad2792a7190089d4a042d5440b8">00220</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a6ffabad2792a7190089d4a042d5440b8" title="Access to the world object. Only possible once the geometry is closed.">DetElement::world</a>()<span class="keyword">  const   </span>{
<a name="l00221"></a>00221   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a51a7d12a15a2a18977a0036bc6435cc8" title="Access to the held object.">ptr</a>();
<a name="l00222"></a>00222   <span class="keywordflow">return</span> (o) ? o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#aab07042df4ed702bedeb898bf17c180f" title="Access to the world object. Only possible once the geometry is closed.">world</a>() : 0;
<a name="l00223"></a>00223 }
<a name="l00224"></a>00224 
<a name="l00226"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a2b0f3bf39905f9476b6f3add70eacf19">00226</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a2b0f3bf39905f9476b6f3add70eacf19" title="Check if this DetElement has time dependent Conditions attached.">DetElement::hasConditions</a>()<span class="keyword">  const   </span>{
<a name="l00227"></a>00227   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>();
<a name="l00228"></a>00228   <span class="keywordflow">if</span> ( o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a80cf81ef1cd6f9f3d29865dee64ceaca" title="The detector elements conditions access.">conditions</a>.isValid() &amp;&amp; !o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a80cf81ef1cd6f9f3d29865dee64ceaca" title="The detector elements conditions access.">conditions</a>-&gt;keys.empty() ) 
<a name="l00229"></a>00229     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00230"></a>00230   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00231"></a>00231 }
<a name="l00232"></a>00232 
<a name="l00234"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ab07f17438062035309f2ef52cfe22872">00234</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ab07f17438062035309f2ef52cfe22872" title="Check if this DetElement has time dependent Alignments attached.">DetElement::hasAlignments</a>()<span class="keyword">  const   </span>{
<a name="l00235"></a>00235   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>();
<a name="l00236"></a>00236   <span class="keywordflow">if</span> ( o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a400be16718ec486e44ad340f86946fcd" title="The detector elements alignments access.">alignments</a>.isValid() &amp;&amp; !o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a400be16718ec486e44ad340f86946fcd" title="The detector elements alignments access.">alignments</a>-&gt;keys.empty() ) 
<a name="l00237"></a>00237     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00238"></a>00238   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00239"></a>00239 }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a918c9ab5a3c4ba94c2b7ad97de67e5de" title="Internal assert function to check conditions.">DetElement::check</a>(<span class="keywordtype">bool</span> cond, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; msg)<span class="keyword"> const </span>{
<a name="l00242"></a>00242   <span class="keywordflow">if</span> (cond) {
<a name="l00243"></a>00243     <span class="keywordflow">throw</span> <a class="code" href="classstd_1_1runtime__error.html">runtime_error</a>(<span class="stringliteral">&quot;DD4hep: &quot;</span> + msg);
<a name="l00244"></a>00244   }
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 
<a name="l00247"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a336e54ac88a2f3493f82138699899517">00247</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a336e54ac88a2f3493f82138699899517" title="Add new child to the detector structure.">DetElement::add</a>(<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> sdet) {
<a name="l00248"></a>00248   <span class="keywordflow">if</span> (<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>()) {
<a name="l00249"></a>00249     <a class="code" href="classstd_1_1pair.html">pair&lt;Children::iterator, bool&gt;</a> r = object&lt;Object&gt;().<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a2c8a811c999fafb4021d5e342fbdee50" title="Access to the list of children.">children</a>.insert(make_pair(sdet.<a class="code" href="class_d_d4hep_1_1_handle.html#a9c62b8d37e0f2354bae0093498dc15a1" title="Access the object name (or &amp;quot;&amp;quot; if not supported by the object).">name</a>(), sdet));
<a name="l00250"></a>00250     <span class="keywordflow">if</span> (r.second) {
<a name="l00251"></a>00251       sdet.<a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;parent = *<span class="keyword">this</span>;
<a name="l00252"></a>00252       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00253"></a>00253     }
<a name="l00254"></a>00254     <span class="keywordflow">throw</span> <a class="code" href="classstd_1_1runtime__error.html">runtime_error</a>(<span class="stringliteral">&quot;DD4hep: DetElement::add: Element &quot;</span> + <span class="keywordtype">string</span>(sdet.<a class="code" href="class_d_d4hep_1_1_handle.html#a9c62b8d37e0f2354bae0093498dc15a1" title="Access the object name (or &amp;quot;&amp;quot; if not supported by the object).">name</a>()) + 
<a name="l00255"></a>00255                         <span class="stringliteral">&quot; is already present in path &quot;</span> + <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a6b70a5084294e7adb2f0bd0018e3aed2" title="Path of the detector element (not necessarily identical to placement path!).">path</a>() + <span class="stringliteral">&quot; [Double-Insert]&quot;</span>);
<a name="l00256"></a>00256   }
<a name="l00257"></a>00257   <span class="keywordflow">throw</span> <a class="code" href="classstd_1_1runtime__error.html">runtime_error</a>(<span class="stringliteral">&quot;DD4hep: DetElement::add: Self is not defined [Invalid Handle]&quot;</span>);
<a name="l00258"></a>00258 }
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a60dd867e5753b97a8d6df6c96846b11f" title="Clone (Deep copy) the DetElement structure with a new name.">DetElement::clone</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; new_name)<span class="keyword"> const </span>{
<a name="l00261"></a>00261   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a4e44e860d6e5827d9f42a4aea3a4f288" title="Internal object type.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>();
<a name="l00262"></a>00262   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a005be4fc3aa34d82ee55af3f9bb78e47" title="Default constructor.">DetElement</a>(o-&gt;clone(o-&gt;id, <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a7a6c7f35568ec9e910ec981fa866362ea186eaef57988a0161b2ef29172e221fd">COPY_NONE</a>), new_name, o-&gt;GetTitle());
<a name="l00263"></a>00263 }
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a60dd867e5753b97a8d6df6c96846b11f" title="Clone (Deep copy) the DetElement structure with a new name.">DetElement::clone</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; new_name, <span class="keywordtype">int</span> new_id)<span class="keyword"> const </span>{
<a name="l00266"></a>00266   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a4e44e860d6e5827d9f42a4aea3a4f288" title="Internal object type.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>();
<a name="l00267"></a>00267   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a005be4fc3aa34d82ee55af3f9bb78e47" title="Default constructor.">DetElement</a>(o-&gt;clone(new_id, <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a7a6c7f35568ec9e910ec981fa866362ea186eaef57988a0161b2ef29172e221fd">COPY_NONE</a>), new_name, o-&gt;GetTitle());
<a name="l00268"></a>00268 }
<a name="l00269"></a>00269 
<a name="l00271"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a32a39fbab7eeb59dd4ad2fc807e0b66d">00271</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_placed_volume.html" title="Handle class holding a placed volume (also called physical volume).">PlacedVolume</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a32a39fbab7eeb59dd4ad2fc807e0b66d" title="Access to the physical volume of this detector element.">DetElement::placement</a>()<span class="keyword"> const </span>{
<a name="l00272"></a>00272   <span class="keywordflow">if</span> (<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>()) {
<a name="l00273"></a>00273     <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>&amp; o = object&lt;Object&gt;();
<a name="l00274"></a>00274     <span class="keywordflow">if</span> (o.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a7ee03e0b36f123f1ae48fda184303c2a" title="The subdetector placement corresponding to the actual detector element&amp;#39;s volume...">placement</a>.<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>()) {
<a name="l00275"></a>00275       <span class="keywordflow">return</span> o.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a7ee03e0b36f123f1ae48fda184303c2a" title="The subdetector placement corresponding to the actual detector element&amp;#39;s volume...">placement</a>;
<a name="l00276"></a>00276     }
<a name="l00277"></a>00277   }
<a name="l00278"></a>00278   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_placed_volume.html" title="Handle class holding a placed volume (also called physical volume).">PlacedVolume</a>();
<a name="l00279"></a>00279 }
<a name="l00280"></a>00280 
<a name="l00282"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a18640f84168adced73afd4eb2b84a798">00282</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a18640f84168adced73afd4eb2b84a798" title="Set the physical volumes of the detector element.">DetElement::setPlacement</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_placed_volume.html" title="Handle class holding a placed volume (also called physical volume).">PlacedVolume</a>&amp; pv) {
<a name="l00283"></a>00283   <span class="keywordflow">if</span> (pv.<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>()) {
<a name="l00284"></a>00284     <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html" title="Data class with properties of a detector element.">Object</a>* o = <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>();
<a name="l00285"></a>00285     o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a7ee03e0b36f123f1ae48fda184303c2a" title="The subdetector placement corresponding to the actual detector element&amp;#39;s volume...">placement</a> = pv;
<a name="l00286"></a>00286     <span class="keywordflow">if</span> ( !o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a343542db3151374647357978d11b9b68" title="The subdetector placement corresponding to the ideal detector element&amp;#39;s volume...">idealPlace</a>.<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>() )  {
<a name="l00287"></a>00287       o-&gt;<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element_object.html#a343542db3151374647357978d11b9b68" title="The subdetector placement corresponding to the ideal detector element&amp;#39;s volume...">idealPlace</a> = pv;
<a name="l00288"></a>00288     }
<a name="l00289"></a>00289     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00290"></a>00290   }
<a name="l00291"></a>00291   <span class="keywordflow">throw</span> <a class="code" href="classstd_1_1runtime__error.html">runtime_error</a>(<span class="stringliteral">&quot;DD4hep: DetElement::setPlacement: Placement is not defined [Invalid Handle]&quot;</span>);
<a name="l00292"></a>00292 }
<a name="l00293"></a>00293 
<a name="l00295"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a003e38a1be1b10caa917dd457637d104">00295</a> <a class="code" href="namespace_d_d4hep_1_1_d_d_segmentation.html#a61a6833a18d1800bdef176595f83e3ba">DD4hep::VolumeID</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a003e38a1be1b10caa917dd457637d104" title="The cached VolumeID of this subdetector element.">DetElement::volumeID</a>()<span class="keyword"> const   </span>{
<a name="l00296"></a>00296   <span class="keywordflow">if</span> (<a class="code" href="class_d_d4hep_1_1_handle.html#a4c5293aecb11989a708ec7615d0f0842" title="Check the validity of the object held by the handle.">isValid</a>()) {
<a name="l00297"></a>00297     <span class="keywordflow">return</span> object&lt;Object&gt;().<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a003e38a1be1b10caa917dd457637d104" title="The cached VolumeID of this subdetector element.">volumeID</a>;
<a name="l00298"></a>00298   }
<a name="l00299"></a>00299   <span class="keywordflow">return</span> 0;
<a name="l00300"></a>00300 }
<a name="l00301"></a>00301 
<a name="l00303"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a32d26062edede5aad146b6dbe3eef5be">00303</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_volume.html" title="Handle class holding a placed volume (also called physical volume).">Volume</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a32d26062edede5aad146b6dbe3eef5be" title="Access to the logical volume of the detector element&amp;#39;s placement.">DetElement::volume</a>()<span class="keyword"> const </span>{
<a name="l00304"></a>00304   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;placement.volume();
<a name="l00305"></a>00305 }
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#acdd370a4a20bc97cc7d9534f5e1fe91b" title="Set Visualization attributes to the detector element.">DetElement::setVisAttributes</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html" title="The main interface to the DD4hep detector description package.">LCDD</a>&amp; lcdd, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; nam, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_volume.html" title="Handle class holding a placed volume (also called physical volume).">Volume</a>&amp; vol) {
<a name="l00308"></a>00308   vol.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_volume.html#a5db10a2a883d77b2654fe1875d5d7bb5" title="Set Visualization attributes to the volume.">setVisAttributes</a>(lcdd, nam);
<a name="l00309"></a>00309   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00310"></a>00310 }
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a428b67df7bca888c0b08e49a0de0eb37" title="Set the regional attributes to the detector element.">DetElement::setRegion</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html" title="The main interface to the DD4hep detector description package.">LCDD</a>&amp; lcdd, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; nam, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_volume.html" title="Handle class holding a placed volume (also called physical volume).">Volume</a>&amp; vol) {
<a name="l00313"></a>00313   <span class="keywordflow">if</span> (!nam.empty()) {
<a name="l00314"></a>00314     vol.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_volume.html#a4070385330a1c5200adaaa13ef4e6547" title="Set the regional attributes to the volume. Note: If the name string is empty, the...">setRegion</a>(lcdd.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#adbe06759881707fe995472c03810c0ff" title="Retrieve a region object by it&amp;#39;s name from the detector description.">region</a>(nam));
<a name="l00315"></a>00315   }
<a name="l00316"></a>00316   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00317"></a>00317 }
<a name="l00318"></a>00318 
<a name="l00319"></a>00319 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a3d49a91bfb52e81ce87f891ea5394c98" title="Set the limits to the detector element.">DetElement::setLimitSet</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html" title="The main interface to the DD4hep detector description package.">LCDD</a>&amp; lcdd, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; nam, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_volume.html" title="Handle class holding a placed volume (also called physical volume).">Volume</a>&amp; vol) {
<a name="l00320"></a>00320   <span class="keywordflow">if</span> (!nam.empty()) {
<a name="l00321"></a>00321     vol.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_volume.html#a5c4e1991240829fbf7de49a281984550" title="Set the limits to the volume. Note: If the name string is empty, the action is ignored...">setLimitSet</a>(lcdd.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#a7e98996675e9c00d6b64010415511813" title="Retrieve a limitset by it&amp;#39;s name from the detector description.">limitSet</a>(nam));
<a name="l00322"></a>00322   }
<a name="l00323"></a>00323   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00324"></a>00324 }
<a name="l00325"></a>00325 
<a name="l00326"></a>00326 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html" title="Handle class describing a detector element.">DetElement</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a08aef0534eb91ede146a6b17ac4f0fa8" title="Set all attributes in one go.">DetElement::setAttributes</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html" title="The main interface to the DD4hep detector description package.">LCDD</a>&amp; lcdd, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_volume.html" title="Handle class holding a placed volume (also called physical volume).">Volume</a>&amp; vol, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; region, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; limits,
<a name="l00327"></a>00327                                       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; vis) {
<a name="l00328"></a>00328   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a428b67df7bca888c0b08e49a0de0eb37" title="Set the regional attributes to the detector element.">setRegion</a>(lcdd, region, vol).<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a3d49a91bfb52e81ce87f891ea5394c98" title="Set the limits to the detector element.">setLimitSet</a>(lcdd, limits, vol).<a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#acdd370a4a20bc97cc7d9534f5e1fe91b" title="Set Visualization attributes to the detector element.">setVisAttributes</a>(lcdd, vis, vol);
<a name="l00329"></a>00329 }
<a name="l00330"></a>00330 <span class="preprocessor">#if 0</span>
<a name="l00332"></a>00332 <span class="preprocessor">DetElement&amp; DetElement::setReference(DetElement reference) {</span>
<a name="l00333"></a>00333 <span class="preprocessor"></span>  Object&amp; o = object&lt;Object&gt;();
<a name="l00334"></a>00334   <span class="keywordflow">if</span> (o.referenceTrafo) {
<a name="l00335"></a>00335     <span class="keyword">delete</span> o.referenceTrafo;
<a name="l00336"></a>00336     o.referenceTrafo = 0;
<a name="l00337"></a>00337   }
<a name="l00338"></a>00338   object&lt;Object&gt;().reference = reference;
<a name="l00339"></a>00339   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00340"></a>00340 }
<a name="l00341"></a>00341 
<a name="l00343"></a>00343 <span class="keyword">const</span> TGeoHMatrix&amp; DetElement::referenceTransformation()<span class="keyword"> const   </span>{
<a name="l00344"></a>00344   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;referenceTransformation();
<a name="l00345"></a>00345 }
<a name="l00346"></a>00346 
<a name="l00348"></a>00348 <span class="keywordtype">bool</span> DetElement::localToReference(<span class="keyword">const</span> <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; local, <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; global)<span class="keyword"> const </span>{
<a name="l00349"></a>00349   <span class="comment">// If the path is unknown an exception will be thrown inside referenceTransformation() !</span>
<a name="l00350"></a>00350   Double_t master_point[3] = { 0, 0, 0 }, local_point[3] = { local.X(), local.Y(), local.Z() };
<a name="l00351"></a>00351   referenceTransformation().LocalToMaster(local_point, master_point);
<a name="l00352"></a>00352   global.SetCoordinates(master_point);
<a name="l00353"></a>00353   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00354"></a>00354 }
<a name="l00355"></a>00355 
<a name="l00357"></a>00357 <span class="keywordtype">bool</span> DetElement::referenceToLocal(<span class="keyword">const</span> <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; global, <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; local)<span class="keyword"> const </span>{
<a name="l00358"></a>00358   <span class="comment">// If the path is unknown an exception will be thrown inside referenceTransformation() !</span>
<a name="l00359"></a>00359   Double_t master_point[3] = { global.X(), global.Y(), global.Z() }, local_point[3] = { 0, 0, 0 };
<a name="l00360"></a>00360   referenceTransformation().MasterToLocal(master_point, local_point);
<a name="l00361"></a>00361   local.SetCoordinates(local_point);
<a name="l00362"></a>00362   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00363"></a>00363 }
<a name="l00364"></a>00364 <span class="preprocessor">#endif</span>
<a name="l00365"></a>00365 <span class="preprocessor"></span>
<a name="l00367"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a60e3c04d0c0487207e62b98512a8f08c">00367</a> <span class="keyword">const</span> TGeoHMatrix&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a60e3c04d0c0487207e62b98512a8f08c" title="Set detector element for reference transformations. Will delete existing reference...">DetElement::worldTransformation</a>()<span class="keyword"> const   </span>{
<a name="l00368"></a>00368   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;worldTransformation();
<a name="l00369"></a>00369 }
<a name="l00370"></a>00370 
<a name="l00372"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a643a213d09ad852e20ec05cedeff78c3">00372</a> <span class="keyword">const</span> TGeoHMatrix&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a643a213d09ad852e20ec05cedeff78c3" title="Create cached matrix to transform to parent coordinates.">DetElement::parentTransformation</a>()<span class="keyword"> const   </span>{
<a name="l00373"></a>00373   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;parentTransformation();
<a name="l00374"></a>00374 }
<a name="l00375"></a>00375 
<a name="l00377"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#abb53b2600f4c47e3b1b8b0d7e8c25028">00377</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#abb53b2600f4c47e3b1b8b0d7e8c25028" title="Create cached matrix to transform to reference coordinates.">DetElement::localToWorld</a>(<span class="keyword">const</span> <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; local, <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; global)<span class="keyword"> const </span>{
<a name="l00378"></a>00378   Double_t master_point[3] = { 0, 0, 0 }, local_point[3] = { local.X(), local.Y(), local.Z() };
<a name="l00379"></a>00379   <span class="comment">// If the path is unknown an exception will be thrown inside worldTransformation() !</span>
<a name="l00380"></a>00380   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a60e3c04d0c0487207e62b98512a8f08c" title="Set detector element for reference transformations. Will delete existing reference...">worldTransformation</a>().LocalToMaster(local_point, master_point);
<a name="l00381"></a>00381   global.SetCoordinates(master_point);
<a name="l00382"></a>00382   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00383"></a>00383 }
<a name="l00384"></a>00384 
<a name="l00386"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a9f2bba52865005abe8be8ccb3f19cb63">00386</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a9f2bba52865005abe8be8ccb3f19cb63" title="Transformation from local coordinates of the placed volume to the parent system.">DetElement::localToParent</a>(<span class="keyword">const</span> <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; local, <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; global)<span class="keyword"> const </span>{
<a name="l00387"></a>00387   <span class="comment">// If the path is unknown an exception will be thrown inside parentTransformation() !</span>
<a name="l00388"></a>00388   Double_t master_point[3] = { 0, 0, 0 }, local_point[3] = { local.X(), local.Y(), local.Z() };
<a name="l00389"></a>00389   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a643a213d09ad852e20ec05cedeff78c3" title="Create cached matrix to transform to parent coordinates.">parentTransformation</a>().LocalToMaster(local_point, master_point);
<a name="l00390"></a>00390   global.SetCoordinates(master_point);
<a name="l00391"></a>00391   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00392"></a>00392 }
<a name="l00393"></a>00393 
<a name="l00395"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#af753b374a6f6d98934f00522dd1efcf9">00395</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#af753b374a6f6d98934f00522dd1efcf9" title="Transformation from local coordinates of the placed volume to arbitrary parent system...">DetElement::worldToLocal</a>(<span class="keyword">const</span> <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; global, <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; local)<span class="keyword"> const </span>{
<a name="l00396"></a>00396   <span class="comment">// If the path is unknown an exception will be thrown inside worldTransformation() !</span>
<a name="l00397"></a>00397   Double_t master_point[3] = { global.X(), global.Y(), global.Z() }, local_point[3] = { 0, 0, 0 };
<a name="l00398"></a>00398   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a60e3c04d0c0487207e62b98512a8f08c" title="Set detector element for reference transformations. Will delete existing reference...">worldTransformation</a>().MasterToLocal(master_point, local_point);
<a name="l00399"></a>00399   local.SetCoordinates(local_point);
<a name="l00400"></a>00400   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00401"></a>00401 }
<a name="l00402"></a>00402 
<a name="l00404"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ab9b7683dd7471ffb6195570d5c618a28">00404</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#ab9b7683dd7471ffb6195570d5c618a28" title="Transformation from world coordinates of the local placed volume coordinates.">DetElement::parentToLocal</a>(<span class="keyword">const</span> <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; global, <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a>&amp; local)<span class="keyword"> const </span>{
<a name="l00405"></a>00405   <span class="comment">// If the path is unknown an exception will be thrown inside parentTransformation() !</span>
<a name="l00406"></a>00406   Double_t master_point[3] = { global.X(), global.Y(), global.Z() }, local_point[3] = { 0, 0, 0 };
<a name="l00407"></a>00407   <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html#a643a213d09ad852e20ec05cedeff78c3" title="Create cached matrix to transform to parent coordinates.">parentTransformation</a>().MasterToLocal(master_point, local_point);
<a name="l00408"></a>00408   local.SetCoordinates(local_point);
<a name="l00409"></a>00409   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00410"></a>00410 }
<a name="l00411"></a>00411 
<a name="l00413"></a>00413 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a7582e36657fd4099441d82cdf12fe638" title="Default constructor.">SensitiveDetector::SensitiveDetector</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; nam, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; typ) {
<a name="l00414"></a>00414   <span class="comment">/*</span>
<a name="l00415"></a>00415 <span class="comment">    &lt;calorimeter ecut=&quot;0&quot; eunit=&quot;MeV&quot; hits_collection=&quot;EcalEndcapHits&quot; name=&quot;EcalEndcap&quot; verbose=&quot;0&quot;&gt;</span>
<a name="l00416"></a>00416 <span class="comment">    &lt;global_grid_xy grid_size_x=&quot;3.5&quot; grid_size_y=&quot;3.5&quot;/&gt;</span>
<a name="l00417"></a>00417 <span class="comment">    &lt;idspecref ref=&quot;EcalEndcapHits&quot;/&gt;</span>
<a name="l00418"></a>00418 <span class="comment">    &lt;/calorimeter&gt;</span>
<a name="l00419"></a>00419 <span class="comment">  */</span>
<a name="l00420"></a>00420   <a class="code" href="class_d_d4hep_1_1_handle.html#a9f5b5d3feb89adf95fdfc4148c711209" title="Assign a new named object. Note: object references must be managed by the user.">assign</a>(<span class="keyword">new</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a0d3dbe95cad52849050e35e70a5cf784" title="Internal object type.">Object</a>(nam), nam, typ);
<a name="l00421"></a>00421   object&lt;Object&gt;().ecut = 0e0;
<a name="l00422"></a>00422   object&lt;Object&gt;().<a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a20b5f96a1bfb953656cfa055bc3a48bc" title="Access flag to combine hist.">verbose</a> = 0;
<a name="l00423"></a>00423 }
<a name="l00424"></a>00424 
<a name="l00426"></a>00426 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a1e0205afa22a576ecf2f5410d75fa952" title="Set detector type (structure, tracker, calorimeter, etc.).">SensitiveDetector::setType</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; typ) {
<a name="l00427"></a>00427   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;SetTitle(typ.c_str());
<a name="l00428"></a>00428   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00429"></a>00429 }
<a name="l00430"></a>00430 
<a name="l00432"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ad68e2f554ff61e15b9b54e9f01713d41">00432</a> <span class="keywordtype">string</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ad68e2f554ff61e15b9b54e9f01713d41" title="Access the type of the sensitive detector.">SensitiveDetector::type</a>()<span class="keyword"> const </span>{
<a name="l00433"></a>00433   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a207411705e86b0f4053357c7a8b5532e" title="Single and only data member: Reference to the actual element.">m_element</a> ? <a class="code" href="class_d_d4hep_1_1_handle.html#a207411705e86b0f4053357c7a8b5532e" title="Single and only data member: Reference to the actual element.">m_element</a>-&gt;GetTitle() : s_empty_string;
<a name="l00434"></a>00434 }
<a name="l00435"></a>00435 
<a name="l00437"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a8f7a8a0c01fbddbfd645d19171d78f22">00437</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a8f7a8a0c01fbddbfd645d19171d78f22" title="Assign the IDDescriptor reference.">SensitiveDetector::setReadout</a>(<a class="code" href="class_d_d4hep_1_1_geometry_1_1_readout.html" title="Handle to the implementation of the readout structure of a subdetector.">Readout</a> ro) {
<a name="l00438"></a>00438   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;readout = ro;
<a name="l00439"></a>00439   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00440"></a>00440 }
<a name="l00441"></a>00441 
<a name="l00443"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ab805f5078384b7d8be6f58e109eefccd">00443</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_readout.html" title="Handle to the implementation of the readout structure of a subdetector.">Readout</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ab805f5078384b7d8be6f58e109eefccd" title="Access readout structure of the sensitive detector.">SensitiveDetector::readout</a>()<span class="keyword"> const </span>{
<a name="l00444"></a>00444   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;readout;
<a name="l00445"></a>00445 }
<a name="l00446"></a>00446 
<a name="l00448"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a43bc3d1e14b74fbaa85043dedb940a39">00448</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a43bc3d1e14b74fbaa85043dedb940a39" title="Set energy cut off.">SensitiveDetector::setEnergyCutoff</a>(<span class="keywordtype">double</span> value) {
<a name="l00449"></a>00449   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;ecut = value;
<a name="l00450"></a>00450   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00451"></a>00451 }
<a name="l00452"></a>00452 
<a name="l00454"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a07ed75fb993527ca9b2bc23e720c4098">00454</a> <span class="keywordtype">double</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a07ed75fb993527ca9b2bc23e720c4098" title="Access energy cut off.">SensitiveDetector::energyCutoff</a>()<span class="keyword"> const </span>{
<a name="l00455"></a>00455   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;ecut;
<a name="l00456"></a>00456 }
<a name="l00457"></a>00457 
<a name="l00459"></a>00459 <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#af3b9212ce097d49f2d2de8bc625ac3e6" title="Assign the name of the hits collection.">SensitiveDetector::setHitsCollection</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; collection) {
<a name="l00460"></a>00460   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;hitsCollection = collection;
<a name="l00461"></a>00461   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00462"></a>00462 }
<a name="l00463"></a>00463 
<a name="l00465"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a11b8c25eaa4c3da343abee5e796b62f7">00465</a> <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a11b8c25eaa4c3da343abee5e796b62f7" title="Access the hits collection name.">SensitiveDetector::hitsCollection</a>()<span class="keyword"> const </span>{
<a name="l00466"></a>00466   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;hitsCollection;
<a name="l00467"></a>00467 }
<a name="l00468"></a>00468 
<a name="l00470"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ae6c42b0c547eb06bddfd84c27a5b9e87">00470</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ae6c42b0c547eb06bddfd84c27a5b9e87" title="Set flag to handle hits collection.">SensitiveDetector::setVerbose</a>(<span class="keywordtype">bool</span> value) {
<a name="l00471"></a>00471   <span class="keywordtype">int</span> <a class="code" href="_multi_view_8cpp.html#a8320ee13ac034dbf6d624fe8953dd337">v</a> = value ? 1 : 0;
<a name="l00472"></a>00472   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;verbose = v;
<a name="l00473"></a>00473   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00474"></a>00474 }
<a name="l00475"></a>00475 
<a name="l00477"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a20b5f96a1bfb953656cfa055bc3a48bc">00477</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a20b5f96a1bfb953656cfa055bc3a48bc" title="Access flag to combine hist.">SensitiveDetector::verbose</a>()<span class="keyword"> const </span>{
<a name="l00478"></a>00478   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;verbose == 1;
<a name="l00479"></a>00479 }
<a name="l00480"></a>00480 
<a name="l00482"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a934bd9f3b3c239b6fc751f2b68b26016">00482</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a934bd9f3b3c239b6fc751f2b68b26016" title="Set flag to handle hits collection.">SensitiveDetector::setCombineHits</a>(<span class="keywordtype">bool</span> value) {
<a name="l00483"></a>00483   <span class="keywordtype">int</span> <a class="code" href="_multi_view_8cpp.html#a8320ee13ac034dbf6d624fe8953dd337">v</a> = value ? 1 : 0;
<a name="l00484"></a>00484   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;combineHits = v;
<a name="l00485"></a>00485   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00486"></a>00486 }
<a name="l00487"></a>00487 
<a name="l00489"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#abaf71c3bc08b34c07e7a492e4e9c1b98">00489</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#abaf71c3bc08b34c07e7a492e4e9c1b98" title="Access flag to combine hist.">SensitiveDetector::combineHits</a>()<span class="keyword"> const </span>{
<a name="l00490"></a>00490   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;combineHits == 1;
<a name="l00491"></a>00491 }
<a name="l00492"></a>00492 
<a name="l00494"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a3fafb658e1cc5dbe7a1683e5420cce46">00494</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a3fafb658e1cc5dbe7a1683e5420cce46" title="Set the regional attributes to the sensitive detector.">SensitiveDetector::setRegion</a>(<a class="code" href="class_d_d4hep_1_1_geometry_1_1_region.html" title="Handle class describing a region as used in simulation.">Region</a> reg) {
<a name="l00495"></a>00495   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;region = reg;
<a name="l00496"></a>00496   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00497"></a>00497 }
<a name="l00498"></a>00498 
<a name="l00500"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#af7fd7953dddb6fce1f6dea711adbba46">00500</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_region.html" title="Handle class describing a region as used in simulation.">Region</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#af7fd7953dddb6fce1f6dea711adbba46" title="Access to the region setting of the sensitive detector (not mandatory).">SensitiveDetector::region</a>()<span class="keyword"> const </span>{
<a name="l00501"></a>00501   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;region;
<a name="l00502"></a>00502 }
<a name="l00503"></a>00503 
<a name="l00505"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a24994b8d62969f2d16e1cdf543a8e9bc">00505</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html" title="Handle class to hold the information of a sensitive detector.">SensitiveDetector</a>&amp; <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a24994b8d62969f2d16e1cdf543a8e9bc" title="Set the limits to the sensitive detector.">SensitiveDetector::setLimitSet</a>(<a class="code" href="class_d_d4hep_1_1_geometry_1_1_limit_set.html" title="Handle class describing a set of limits as they are used for simulation.">LimitSet</a> ls) {
<a name="l00506"></a>00506   <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;limits = ls;
<a name="l00507"></a>00507   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00508"></a>00508 }
<a name="l00509"></a>00509 
<a name="l00511"></a><a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a668c56c4c046721d0732de64df8cea14">00511</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_limit_set.html" title="Handle class describing a set of limits as they are used for simulation.">LimitSet</a> <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a668c56c4c046721d0732de64df8cea14" title="Access to the limit set of the sensitive detector (not mandatory).">SensitiveDetector::limits</a>()<span class="keyword"> const </span>{
<a name="l00512"></a>00512   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;limits;
<a name="l00513"></a>00513 }
<a name="l00514"></a>00514 
<a name="l00516"></a>00516 <span class="keywordtype">void</span>* <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a0b0b5adaec49d7ff0ed3b9e39d54cb4f" title="Add an extension object to the detector element.">SensitiveDetector::i_addExtension</a>(<span class="keywordtype">void</span>* ext_ptr, <span class="keyword">const</span> type_info&amp; info, destruct_t dtor)  {
<a name="l00517"></a>00517   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;addExtension(ext_ptr, info, dtor);
<a name="l00518"></a>00518 }
<a name="l00519"></a>00519 
<a name="l00521"></a>00521 <span class="keywordtype">void</span>* <a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#a194eef5ee2865d3fe6b452fe057a617b" title="Access an existing extension object from the detector element.">SensitiveDetector::i_extension</a>(<span class="keyword">const</span> type_info&amp; info)<span class="keyword"> const </span>{
<a name="l00522"></a>00522   <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_handle.html#a1a5500d3bf236420d8ba63979aff8599" title="Checked object access. Throws invalid handle runtime exception.">access</a>()-&gt;extension(info);
<a name="l00523"></a>00523 }
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<!--BEGIN GENERATE_TREEVIEW-->
    <li class="footer">$generatedby
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </li>
   </ul>
 </div>
<!--END GENERATE_TREEVIEW-->
<!--BEGIN !GENERATE_TREEVIEW-->
<hr class="footer"/><address class="footer"><small>
$generatedby &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.6.1
</small></address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
