<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DD4hep: /afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDG4/include/DDG4/Geant4HitCollection.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="DD4hep.css" rel="stylesheet" type="text/css" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 100px;">
  <td id="projectlogo"><img alt="Logo" src="../doc/LaTex/CERN-logo.png" height="72"/></td>
  <td id="projectlogo"><img alt="Logo" src="DD4hep-AIDA-logo.png" height="72"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectbrief">DD4hep - The AIDA detector description toolkit for high energy physics experiments</div>
   <div id="projectname">DD4hep
   &#160;<span id="projectnumber">Rev:exported</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dd77d67ee2e5674e427bb81b037d3ccd.html">DDG4</a></li><li class="navelem"><a class="el" href="dir_6dc66471e0796d49ceae23ff5ed78b36.html">include</a></li><li class="navelem"><a class="el" href="dir_2a52496cc3034cf855af486bcfcf95e9.html">DDG4</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Geant4HitCollection.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_geant4_hit_collection_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// $Id: $</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//==========================================================================</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//  AIDA Detector description implementation for LCD</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//--------------------------------------------------------------------------</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Copyright (C) Organisation europeenne pour la Recherche nucleaire (CERN)</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// All rights reserved.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// For the licensing terms see $DD4hepINSTALL/LICENSE.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// For the list of contributors see $DD4hepINSTALL/doc/CREDITS.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Author     : M.Frank</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//==========================================================================</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef DD4HEP_DDG4_GEANT4HITCOLLECTION_H</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define DD4HEP_DDG4_GEANT4HITCOLLECTION_H</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// Framework include files</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_handle_8h.html">DD4hep/Handle.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_component_utils_8h.html">DDG4/ComponentUtils.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;G4VHitsCollection.hh&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;G4VHit.hh&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// C/C++ include files</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;typeinfo&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_d_d4hep.html">DD4hep</a> {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keyword">namespace </span>Simulation {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">// Forward declarations</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keyword">class </span>Geant4Sensitive;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">class </span>Geant4HitCollection;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keyword">class </span>Geant4HitWrapper;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">   51</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>: <span class="keyword">public</span> <a class="code" href="class_g4_v_hit.html">G4VHit</a> {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_invalid_hit.html">   55</a></span>&#160;      <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_invalid_hit.html">InvalidHit</a> {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keyword">public</span>:</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_invalid_hit.html#aa4c520e4b27309eb6423b301b73608a4">~InvalidHit</a>();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      };</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">   66</a></span>&#160;      <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">HitManipulator</a> {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keyword">public</span>:</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a4bb62cc7e4979a8d0aea281477a4e38e">   68</a></span>&#160;        <span class="keyword">typedef</span> std::pair&lt;void*, HitManipulator*&gt; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a4bb62cc7e4979a8d0aea281477a4e38e">Wrapper</a>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#ifdef __CINT__</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>* cast;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>* vec_type;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a81d93c2f45fdb16c6b590401236f1ed5">   73</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a81d93c2f45fdb16c6b590401236f1ed5">cast</a>;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#abe16127974bebf369e7719b4e72c0647">   74</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#abe16127974bebf369e7719b4e72c0647">vec_type</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">HitManipulator</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>&amp; c, <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>&amp; <a class="code" href="_multi_view_8cpp.html#a8320ee13ac034dbf6d624fe8953dd337">v</a>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        ~<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">HitManipulator</a>();</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a593e21925633b7b165bd78287de5e294">   81</a></span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; Wrapper <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a593e21925633b7b165bd78287de5e294">castHit</a>(TYPE* obj) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;          <span class="keywordflow">if</span> (obj) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>&amp; me = ComponentCast::instance&lt;TYPE&gt;();</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            Wrapper wrap(obj, <span class="keyword">this</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordflow">if</span> (&amp;cast == &amp;me) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;              <span class="keywordflow">return</span> wrap;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="comment">// Need to ensure that the container types are the same!</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            wrap.first = me.<a class="code" href="class_d_d4hep_1_1_component_cast.html#a8046aba225c46b5e6eb7dedb49c27545">apply_dynCast</a>(cast, obj);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">return</span> wrap;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;          }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;          <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid hit pointer passed to collection!&quot;</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#ac5036ee6d5e3a50a861344b1ec9fbf96">   95</a></span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#ac5036ee6d5e3a50a861344b1ec9fbf96">deleteHit</a>(Wrapper&amp; obj) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;          TYPE* p = (TYPE*) obj.first;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          if (p)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keyword">delete</span> p;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;          obj.first = 0;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#ab56e7a7a62be9eccd4695590159ce941">  101</a></span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">static</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">HitManipulator</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#ab56e7a7a62be9eccd4695590159ce941">instance</a>() {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;          <span class="keyword">static</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">HitManipulator</a> hm(ComponentCast::instance&lt;TYPE&gt;(), <a class="code" href="class_d_d4hep_1_1_component_cast.html#a006ce4ac1df92fed1bf93fbe95227262">ComponentCast::instance</a>&lt;std::vector&lt;TYPE*&gt; &gt;());</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;          <span class="keywordflow">return</span> &amp;hm;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      };</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a4779e35eba7d553e0f2d497c49a42ec6">  107</a></span>&#160;      <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a4bb62cc7e4979a8d0aea281477a4e38e">HitManipulator::Wrapper</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a4779e35eba7d553e0f2d497c49a42ec6">Wrapper</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a2344f57f3d02ecd148c2b4893dffe660">  109</a></span>&#160;      <span class="keyword">mutable</span> Wrapper <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a2344f57f3d02ecd148c2b4893dffe660">m_data</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a57ccfb5f6f606751279a9c3222532250">  114</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a57ccfb5f6f606751279a9c3222532250">Geant4HitWrapper</a>() : <a class="code" href="class_g4_v_hit.html">G4VHit</a>() {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        m_data.second = manipulator&lt;InvalidHit&gt;();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        m_data.first = 0;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      }</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a067b6f5a7e88d4f85d6554b563047916">  119</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a067b6f5a7e88d4f85d6554b563047916">Geant4HitWrapper</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; <a class="code" href="_multi_view_8cpp.html#a8320ee13ac034dbf6d624fe8953dd337">v</a>) : <a class="code" href="class_g4_v_hit.html">G4VHit</a>() {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        m_data = v.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a2344f57f3d02ecd148c2b4893dffe660">m_data</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        v.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a2344f57f3d02ecd148c2b4893dffe660">m_data</a>.first = 0;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">//v.release();</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      }</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a4582891698f74e839dadd7cb78ae00e4">  125</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a4582891698f74e839dadd7cb78ae00e4">Geant4HitWrapper</a>(<span class="keyword">const</span> Wrapper&amp; <a class="code" href="_multi_view_8cpp.html#a8320ee13ac034dbf6d624fe8953dd337">v</a>) : <a class="code" href="class_g4_v_hit.html">G4VHit</a>()  {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        m_data = <a class="code" href="_multi_view_8cpp.html#a8320ee13ac034dbf6d624fe8953dd337">v</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#ae5a3a00858bb69ec71673f7286be2bab">~Geant4HitWrapper</a>();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keywordtype">void</span> *<span class="keyword">operator</span> <span class="keyword">new</span>(size_t);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordtype">void</span> <span class="keyword">operator</span> <span class="keyword">delete</span>(<span class="keywordtype">void</span> *ptr);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordtype">void</span>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a1af3edf59bb6c955fe91582394854acd">release</a>();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      Wrapper <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#acec7d2a18d078071d5714dd4a0c45739">releaseData</a>();</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a0a47f87785a7cc9af60ab9a0f21dcf44">  139</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">HitManipulator</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a0a47f87785a7cc9af60ab9a0f21dcf44">manip</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> m_data.second;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      }</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#af7b7738a7307f1f9372dc37efc319dc6">  143</a></span>&#160;      <span class="keywordtype">void</span>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#af7b7738a7307f1f9372dc37efc319dc6">data</a>() {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">return</span> m_data.first;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      }</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a9d048768dce3e8f79898e98ea90b0041">  147</a></span>&#160;      <span class="keywordtype">void</span>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a9d048768dce3e8f79898e98ea90b0041">data</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">return</span> m_data.first;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      }</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a332101c195da46df30565b5285904d27">  151</a></span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">static</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">HitManipulator</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a332101c195da46df30565b5285904d27">manipulator</a>() {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> HitManipulator::instance&lt;TYPE&gt;();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      }</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a93a51629cca576b0ff7328981b7c71ad">  155</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a93a51629cca576b0ff7328981b7c71ad">operator=</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; <a class="code" href="_multi_view_8cpp.html#a8320ee13ac034dbf6d624fe8953dd337">v</a>) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span> ( <span class="keyword">this</span> != &amp; v )  {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;          m_data = v.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a2344f57f3d02ecd148c2b4893dffe660">m_data</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;          v.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a2344f57f3d02ecd148c2b4893dffe660">m_data</a>.first = 0;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;          <span class="comment">//v.release();</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      }</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#ac54d2631aa0e3a4becd8b071f8cf2dbd">  164</a></span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">operator</span> TYPE*() <span class="keyword">const</span> {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> (TYPE*) m_data.second-&gt;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;          cast.apply_dynCast(ComponentCast::instance&lt;TYPE&gt;(),m_data.first);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">//cast.apply_downCast(ComponentCast::instance&lt;TYPE&gt;(),m_data.first);</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    };</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">  201</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a> : <span class="keyword">public</span> <a class="code" href="class_g4_v_hits_collection.html">G4VHitsCollection</a> {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keyword">typedef</span> std::vector&lt;Geant4HitWrapper&gt;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#ada2cbec73b2d5005b514a33b44a1dc05">WrappedHits</a>;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a7a4b540fa0c4983ebd755a049a2794b7">  207</a></span>&#160;      <span class="keyword">typedef</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">Geant4HitWrapper::HitManipulator</a> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a7a4b540fa0c4983ebd755a049a2794b7">Manip</a>;</div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a0d4d87fb90cf83dceff0b43928426135">  209</a></span>&#160;      <span class="keyword">typedef</span> std::map&lt;VolumeID, size_t&gt;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a0d4d87fb90cf83dceff0b43928426135">Keys</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_compare.html">  220</a></span>&#160;      <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_compare.html">Compare</a> {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keyword">public</span>:</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keyword">virtual</span> ~<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_compare.html">Compare</a>();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span>* operator()(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; w) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      };</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html">  228</a></span>&#160;      <span class="keyword">union </span><a class="code" href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html">CollectionFlags</a>  {</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html#a41662e93df084e0be2823219e1b09934">  229</a></span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>        <a class="code" href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html#a41662e93df084e0be2823219e1b09934">value</a>;</div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="struct_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags_1_1_bit_items.html">  230</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="struct_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags_1_1_bit_items.html">BitItems</a>  {</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="struct_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags_1_1_bit_items.html#af334712a202c01ad71ea6578067ef3f7">  231</a></span>&#160;          <span class="keywordtype">unsigned</span>           repeatedLookup:1;</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="struct_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags_1_1_bit_items.html#acf2a99b0be08d73a82ec6ac4d5841686">  232</a></span>&#160;          <span class="keywordtype">unsigned</span>           mappedLookup:1;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        }                    bits;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      };</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8a2e237f209928a1598ccf0b72cd3d44">  238</a></span>&#160;      WrappedHits                      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8a2e237f209928a1598ccf0b72cd3d44">m_hits</a>;</div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#aaf3c4ccd370663a99af26333af3486e7">  240</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">Geant4Sensitive</a>*                 <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#aaf3c4ccd370663a99af26333af3486e7">m_detector</a>;</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#ab65b438cada304dbfe15f9be6a329001">  242</a></span>&#160;      Manip*                           <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#ab65b438cada304dbfe15f9be6a329001">m_manipulator</a>;</div><div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a67cef40b22ad50d9c6a5fdd620e1786f">  244</a></span>&#160;      <span class="keywordtype">size_t</span>                           <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a67cef40b22ad50d9c6a5fdd620e1786f">m_lastHit</a>;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a3d45d2544cef7139ad425c2abc66c45a">  246</a></span>&#160;      Keys                             <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a3d45d2544cef7139ad425c2abc66c45a">m_keys</a>;</div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a9c557501c37d783cbc1be1443aef03a9">  248</a></span>&#160;      <a class="code" href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html">CollectionFlags</a>                  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a9c557501c37d783cbc1be1443aef03a9">m_flags</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      </div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordtype">void</span> newInstance();</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordtype">void</span>* findHit(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_compare.html">Compare</a>&amp; cmp);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>* findHitByKey(<a class="code" href="namespace_d_d4hep_1_1_d_d_segmentation.html#a61a6833a18d1800bdef176595f83e3ba">VolumeID</a> key);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#acec7d2a18d078071d5714dd4a0c45739">releaseData</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>&amp; cast, std::vector&lt;void*&gt;* result);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordtype">void</span> getData(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>&amp; cast, std::vector&lt;void*&gt;* result);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keyword">enum</span> {</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8fe757ca872800562e5317df0597c844a534e41b5b4b31668654894c119d79f10">  264</a></span>&#160;        OPTIMIZE_NONE = 0,</div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8fe757ca872800562e5317df0597c844a3831e14471c6e0e7b8b0349696913ea9">  265</a></span>&#160;        OPTIMIZE_REPEATEDLOOKUP = 1&lt;&lt;0,</div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8fe757ca872800562e5317df0597c844a762d4b5ef6144a6b8d6b9f5ae9f70450">  266</a></span>&#160;        OPTIMIZE_MAPPEDLOOKUP   = 1&lt;&lt;1,</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8fe757ca872800562e5317df0597c844ac14cd6ddf70dd174f944eca4790515b8">  267</a></span>&#160;        OPTIMIZE_LAST</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      } OptimizationFlags;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt;</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8b32b65a07b61a5a5bd339ea39ef2e0f">  272</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8b32b65a07b61a5a5bd339ea39ef2e0f">Geant4HitCollection</a>(<span class="keyword">const</span> std::string&amp; det, <span class="keyword">const</span> std::string&amp; coll, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">Geant4Sensitive</a>* sd)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        : <a class="code" href="class_g4_v_hits_collection.html">G4VHitsCollection</a>(det, coll), m_detector(sd),</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;          m_manipulator(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>::<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a332101c195da46df30565b5285904d27">manipulator</a>&lt;TYPE&gt;()),</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;          m_lastHit(ULONG_MAX)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        newInstance();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        m_hits.reserve(200);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        m_flags.<a class="code" href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html#a41662e93df084e0be2823219e1b09934">value</a> = OPTIMIZE_REPEATEDLOOKUP;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt;</div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a1dee728d2371ec8a5262395e484d6a8b">  283</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a1dee728d2371ec8a5262395e484d6a8b">Geant4HitCollection</a>(<span class="keyword">const</span> std::string&amp; det, <span class="keyword">const</span> std::string&amp; coll, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">Geant4Sensitive</a>* sd, <span class="keyword">const</span> TYPE*)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        : <a class="code" href="class_g4_v_hits_collection.html">G4VHitsCollection</a>(det, coll), m_detector(sd),</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          m_manipulator(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>::<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a332101c195da46df30565b5285904d27">manipulator</a>&lt;TYPE&gt;()),</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;          m_lastHit(ULONG_MAX)</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        newInstance();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        m_hits.reserve(200);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        m_flags.<a class="code" href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html#a41662e93df084e0be2823219e1b09934">value</a> = 0;<span class="comment">//OPTIMIZE_REPEATEDLOOKUP;</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keyword">virtual</span> ~<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>();</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>&amp; type() <span class="keyword">const</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_component_cast.html">ComponentCast</a>&amp; vector_type() <span class="keyword">const</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear();</div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a163e9842ded780e1f39dbe6701c132d8">  301</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a163e9842ded780e1f39dbe6701c132d8">setOptimize</a>(<span class="keywordtype">int</span> flag)  {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        m_flags.<a class="code" href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html#a41662e93df084e0be2823219e1b09934">value</a> |= flag;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      }</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a5d4547aa0f97d5ef2391986f634806d5">  305</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a5d4547aa0f97d5ef2391986f634806d5">setSensitive</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">Geant4Sensitive</a>* detector)   {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        m_detector = detector;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      }</div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a5ea6233e9c0a4534b830c87d71151cb0">  309</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">Geant4Sensitive</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a5ea6233e9c0a4534b830c87d71151cb0">sensitive</a>()<span class="keyword"> const   </span>{</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span> m_detector;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      }</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a5d2a282043b247ee47e891a47637a006">  313</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="class_g4_v_hit.html">G4VHit</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a5d2a282043b247ee47e891a47637a006">GetHit</a>(<span class="keywordtype">size_t</span> which)<span class="keyword"> const </span>{</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="class_g4_v_hit.html">G4VHit</a>*) &amp;m_hits.at(which);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#adccefc2f8a73f693d2b87b146db87d44">  317</a></span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#adccefc2f8a73f693d2b87b146db87d44">GetSize</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">return</span> m_hits.size();</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      }</div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a6d42d1abdf6f052cc6606f0c55d55388">  321</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a6d42d1abdf6f052cc6606f0c55d55388">hit</a>(<span class="keywordtype">size_t</span> which) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">return</span> m_hits.at(which);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      }</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#adcca4533ecc91bd954bc2e4526d8fe77">  325</a></span>&#160;      <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#adcca4533ecc91bd954bc2e4526d8fe77">hit</a>(<span class="keywordtype">size_t</span> which)<span class="keyword"> const </span>{</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">return</span> m_hits.at(which);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      }</div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#aeb5ededae3913d70a3aeecfa8ba0b853">  329</a></span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#aeb5ededae3913d70a3aeecfa8ba0b853">add</a>(TYPE* hit_pointer) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a> w(m_manipulator-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a593e21925633b7b165bd78287de5e294">castHit</a>(hit_pointer));</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        m_lastHit = m_hits.size();</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        m_hits.push_back(w);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      }</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a7a7f4d771ab2266fe0b6869001af9e6d">  335</a></span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; <span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a7a7f4d771ab2266fe0b6869001af9e6d">add</a>(<a class="code" href="namespace_d_d4hep_1_1_d_d_segmentation.html#a61a6833a18d1800bdef176595f83e3ba">VolumeID</a> key, TYPE* hit_pointer) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        m_lastHit = m_hits.size();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        std::pair&lt;Keys::iterator,bool&gt; ret = m_keys.insert(std::make_pair(key,m_lastHit));</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">if</span> ( ret.second )  {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a> w(m_manipulator-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a593e21925633b7b165bd78287de5e294">castHit</a>(hit_pointer));</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;          m_hits.push_back(w);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Attempt to insert hit with same key to G4 hit-collection &quot;</span>+<a class="code" href="namespace_d_d4hep_1_1_utilities.html#a4c0a9b81fbdf72442aa513ab684f4243">GetName</a>());</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      }</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#acf068dedd6941bee984bfd54fe17795f">  346</a></span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; TYPE* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#acf068dedd6941bee984bfd54fe17795f">find</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_compare.html">Compare</a>&amp; cmp) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">return</span> (TYPE*) findHit(cmp);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      }</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a1e2bf3283a0d710932de88d883bba9a4">  350</a></span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; TYPE* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a1e2bf3283a0d710932de88d883bba9a4">findByKey</a>(<a class="code" href="namespace_d_d4hep_1_1_d_d_segmentation.html#a61a6833a18d1800bdef176595f83e3ba">VolumeID</a> key) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        Keys::const_iterator i=m_keys.find(key);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span> ( i == m_keys.end() ) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        m_lastHit = (*i).second;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        TYPE* obj = m_hits.at(m_lastHit);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">return</span> obj;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      }</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a993344637917118c758aeea4b42892b8">  358</a></span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; std::vector&lt;TYPE*&gt; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a993344637917118c758aeea4b42892b8">releaseHits</a>() {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        std::vector&lt;TYPE*&gt; vec;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">if</span> (m_hits.size() != 0) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;          <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#acec7d2a18d078071d5714dd4a0c45739">releaseData</a>(ComponentCast::instance&lt;TYPE&gt;(), (std::vector&lt;void*&gt;*) &amp;vec);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        m_lastHit = ULONG_MAX;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        m_keys.clear();</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">return</span> vec;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keywordtype">void</span> releaseHitsUnchecked(std::vector&lt;void*&gt;&amp; result);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#ae0023e68cc7074adb4cf960696881d42">  371</a></span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt; std::vector&lt;TYPE*&gt; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#ae0023e68cc7074adb4cf960696881d42">getHits</a>() {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        std::vector&lt;TYPE*&gt; vec;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">if</span> (m_hits.size() != 0) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;          getData(ComponentCast::instance&lt;TYPE&gt;(), (std::vector&lt;void*&gt;*) &amp;vec);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">return</span> vec;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordtype">void</span> getHitsUnchecked(std::vector&lt;void*&gt;&amp; result);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    };</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_position_compare.html">  391</a></span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span> POS&gt; <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_position_compare.html">PositionCompare</a> : <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_compare.html">Geant4HitCollection::Compare</a> {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_position_compare.html#a2a70dd5d725fc539d889a033a51ad038">  393</a></span>&#160;      <span class="keyword">const</span> POS&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_position_compare.html#a2a70dd5d725fc539d889a033a51ad038">pos</a>;</div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_position_compare.html#a68fc69a87bb8ea3da749e17642c7b366">  395</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_position_compare.html#a68fc69a87bb8ea3da749e17642c7b366">PositionCompare</a>(<span class="keyword">const</span> POS&amp; p) : pos(p)  {      }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span>* operator()(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; w) <span class="keyword">const</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    };</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span> POS&gt;</div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_position_compare.html#ad530acff563b1b5ca6951ebd6aa08e9a">  401</a></span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_position_compare.html#ad530acff563b1b5ca6951ebd6aa08e9a">PositionCompare&lt;TYPE,POS&gt;::operator()</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; w)<span class="keyword"> const </span>{</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      TYPE* h = w;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">return</span> pos == h-&gt;position ? h : 0;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html">  414</a></span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TYPE&gt; <span class="keyword">class </span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html">CellIDCompare</a> : <span class="keyword">public</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_compare.html">Geant4HitCollection::Compare</a> {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html#a7d3ef2b98bd08b158688ac8f03ea098f">  416</a></span>&#160;      <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html#a7d3ef2b98bd08b158688ac8f03ea098f">id</a>;</div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html#ad644f00808767564625f5ef98303bf0c">  418</a></span>&#160;      <a class="code" href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html#ad644f00808767564625f5ef98303bf0c">CellIDCompare</a>(<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> i) : id(i) {      }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span>* operator()(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; w) <span class="keyword">const</span>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    };</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt;</div><div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html#aa652359210477d8353c5f5c530eb9f93">  424</a></span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html#aa652359210477d8353c5f5c530eb9f93">CellIDCompare&lt;TYPE&gt;::operator()</a>(<span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">Geant4HitWrapper</a>&amp; w)<span class="keyword"> const </span>{</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      TYPE* h = w;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">if</span> ( <span class="keywordtype">id</span> == h-&gt;cellID )</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">return</span> h;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  }    <span class="comment">// End namespace Simulation</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}      <span class="comment">// End namespace DD4hep</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="preprocessor">#endif // DD4HEP_DDG4_GEANT4HITCOLLECTION_H</span></div><div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a4582891698f74e839dadd7cb78ae00e4"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a4582891698f74e839dadd7cb78ae00e4">DD4hep::Simulation::Geant4HitWrapper::Geant4HitWrapper</a></div><div class="ttdeci">Geant4HitWrapper(const Wrapper &amp;v)</div><div class="ttdoc">Copy constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00125">Geant4HitCollection.h:125</a></div></div>
<div class="ttc" id="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags_html"><div class="ttname"><a href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html">DD4hep::Simulation::Geant4HitCollection::CollectionFlags</a></div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00228">Geant4HitCollection.h:228</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_ada2cbec73b2d5005b514a33b44a1dc05"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#ada2cbec73b2d5005b514a33b44a1dc05">DD4hep::Simulation::Geant4HitCollection::WrappedHits</a></div><div class="ttdeci">std::vector&lt; Geant4HitWrapper &gt; WrappedHits</div><div class="ttdoc">Hit wrapper. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00205">Geant4HitCollection.h:205</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a1dee728d2371ec8a5262395e484d6a8b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a1dee728d2371ec8a5262395e484d6a8b">DD4hep::Simulation::Geant4HitCollection::Geant4HitCollection</a></div><div class="ttdeci">Geant4HitCollection(const std::string &amp;det, const std::string &amp;coll, Geant4Sensitive *sd, const TYPE *)</div><div class="ttdoc">Initializing constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00283">Geant4HitCollection.h:283</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a5d4547aa0f97d5ef2391986f634806d5"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a5d4547aa0f97d5ef2391986f634806d5">DD4hep::Simulation::Geant4HitCollection::setSensitive</a></div><div class="ttdeci">void setSensitive(Geant4Sensitive *detector)</div><div class="ttdoc">Set the sensitive detector. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00305">Geant4HitCollection.h:305</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a67cef40b22ad50d9c6a5fdd620e1786f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a67cef40b22ad50d9c6a5fdd620e1786f">DD4hep::Simulation::Geant4HitCollection::m_lastHit</a></div><div class="ttdeci">size_t m_lastHit</div><div class="ttdoc">Memorize for speedup the last searched hit. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00244">Geant4HitCollection.h:244</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a5ea6233e9c0a4534b830c87d71151cb0"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a5ea6233e9c0a4534b830c87d71151cb0">DD4hep::Simulation::Geant4HitCollection::sensitive</a></div><div class="ttdeci">Geant4Sensitive * sensitive() const</div><div class="ttdoc">Access the sensitive detector. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00309">Geant4HitCollection.h:309</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_invalid_hit_html_aa4c520e4b27309eb6423b301b73608a4"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_invalid_hit.html#aa4c520e4b27309eb6423b301b73608a4">DD4hep::Simulation::Geant4HitWrapper::InvalidHit::~InvalidHit</a></div><div class="ttdeci">virtual ~InvalidHit()</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8cpp_source.html#l00026">Geant4HitCollection.cpp:26</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_invalid_hit_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_invalid_hit.html">DD4hep::Simulation::Geant4HitWrapper::InvalidHit</a></div><div class="ttdoc">Helper class to indicate invalid hit wrappers or containers. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00055">Geant4HitCollection.h:55</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_position_compare_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_position_compare.html">DD4hep::Simulation::PositionCompare</a></div><div class="ttdoc">Specialized hit selector based on the hit&amp;#39;s position. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00391">Geant4HitCollection.h:391</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a1e2bf3283a0d710932de88d883bba9a4"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a1e2bf3283a0d710932de88d883bba9a4">DD4hep::Simulation::Geant4HitCollection::findByKey</a></div><div class="ttdeci">TYPE * findByKey(VolumeID key)</div><div class="ttdoc">Find hits in a collection by comparison of key value. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00350">Geant4HitCollection.h:350</a></div></div>
<div class="ttc" id="_handle_8h_html"><div class="ttname"><a href="_handle_8h.html">Handle.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a6d42d1abdf6f052cc6606f0c55d55388"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a6d42d1abdf6f052cc6606f0c55d55388">DD4hep::Simulation::Geant4HitCollection::hit</a></div><div class="ttdeci">Geant4HitWrapper &amp; hit(size_t which)</div><div class="ttdoc">Access the hit wrapper. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00321">Geant4HitCollection.h:321</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a332101c195da46df30565b5285904d27"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a332101c195da46df30565b5285904d27">DD4hep::Simulation::Geant4HitWrapper::manipulator</a></div><div class="ttdeci">static HitManipulator * manipulator()</div><div class="ttdoc">Generate manipulator object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00151">Geant4HitCollection.h:151</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a9c557501c37d783cbc1be1443aef03a9"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a9c557501c37d783cbc1be1443aef03a9">DD4hep::Simulation::Geant4HitCollection::m_flags</a></div><div class="ttdeci">CollectionFlags m_flags</div><div class="ttdoc">Optimization flags. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00248">Geant4HitCollection.h:248</a></div></div>
<div class="ttc" id="class_g4_v_hit_html"><div class="ttname"><a href="class_g4_v_hit.html">G4VHit</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00036">Geant4Classes.h:36</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator_html_a4bb62cc7e4979a8d0aea281477a4e38e"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a4bb62cc7e4979a8d0aea281477a4e38e">DD4hep::Simulation::Geant4HitWrapper::HitManipulator::Wrapper</a></div><div class="ttdeci">std::pair&lt; void *, HitManipulator * &gt; Wrapper</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00068">Geant4HitCollection.h:68</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a1af3edf59bb6c955fe91582394854acd"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a1af3edf59bb6c955fe91582394854acd">DD4hep::Simulation::Geant4HitWrapper::release</a></div><div class="ttdeci">void * release()</div><div class="ttdoc">Pointer/Object release. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8cpp_source.html#l00062">Geant4HitCollection.cpp:62</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare_html_a7d3ef2b98bd08b158688ac8f03ea098f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html#a7d3ef2b98bd08b158688ac8f03ea098f">DD4hep::Simulation::CellIDCompare::id</a></div><div class="ttdeci">long long int id</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00416">Geant4HitCollection.h:416</a></div></div>
<div class="ttc" id="class_g4_v_hits_collection_html"><div class="ttname"><a href="class_g4_v_hits_collection.html">G4VHitsCollection</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00040">Geant4Classes.h:40</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_ae0023e68cc7074adb4cf960696881d42"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#ae0023e68cc7074adb4cf960696881d42">DD4hep::Simulation::Geant4HitCollection::getHits</a></div><div class="ttdeci">std::vector&lt; TYPE * &gt; getHits()</div><div class="ttdoc">Release all hits from the Geant4 container. Ownership stays with the container. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00371">Geant4HitCollection.h:371</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_position_compare_html_a2a70dd5d725fc539d889a033a51ad038"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_position_compare.html#a2a70dd5d725fc539d889a033a51ad038">DD4hep::Simulation::PositionCompare::pos</a></div><div class="ttdeci">const POS &amp; pos</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00393">Geant4HitCollection.h:393</a></div></div>
<div class="ttc" id="_component_utils_8h_html"><div class="ttname"><a href="_component_utils_8h.html">ComponentUtils.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_adcca4533ecc91bd954bc2e4526d8fe77"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#adcca4533ecc91bd954bc2e4526d8fe77">DD4hep::Simulation::Geant4HitCollection::hit</a></div><div class="ttdeci">const Geant4HitWrapper &amp; hit(size_t which) const</div><div class="ttdoc">Access the hit wrapper (CONST) </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00325">Geant4HitCollection.h:325</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a7a7f4d771ab2266fe0b6869001af9e6d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a7a7f4d771ab2266fe0b6869001af9e6d">DD4hep::Simulation::Geant4HitCollection::add</a></div><div class="ttdeci">void add(VolumeID key, TYPE *hit_pointer)</div><div class="ttdoc">Add a new hit with a check, that the hit is of the same type. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00335">Geant4HitCollection.h:335</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html">DD4hep::Simulation::Geant4HitWrapper</a></div><div class="ttdoc">Generic wrapper class for hit structures created in Geant4 sensitive detectors. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00051">Geant4HitCollection.h:51</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a8b32b65a07b61a5a5bd339ea39ef2e0f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8b32b65a07b61a5a5bd339ea39ef2e0f">DD4hep::Simulation::Geant4HitCollection::Geant4HitCollection</a></div><div class="ttdeci">Geant4HitCollection(const std::string &amp;det, const std::string &amp;coll, Geant4Sensitive *sd)</div><div class="ttdoc">Initializing constructor (C++ version) </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00272">Geant4HitCollection.h:272</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html">DD4hep::Simulation::CellIDCompare</a></div><div class="ttdoc">Specialized hit selector based on the hit&amp;#39;s cell identifier. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00414">Geant4HitCollection.h:414</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a93a51629cca576b0ff7328981b7c71ad"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a93a51629cca576b0ff7328981b7c71ad">DD4hep::Simulation::Geant4HitWrapper::operator=</a></div><div class="ttdeci">Geant4HitWrapper &amp; operator=(const Geant4HitWrapper &amp;v)</div><div class="ttdoc">Assignment transfers the pointer ownership. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00155">Geant4HitCollection.h:155</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html"><div class="ttname"><a href="namespace_d_d4hep.html">DD4hep</a></div><div class="ttdoc">Namespace for the AIDA detector description toolkit. </div><div class="ttdef"><b>Definition:</b> <a href="_alignments_8cpp_source.html#l00027">Alignments.cpp:27</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">DD4hep::Simulation::Geant4Sensitive</a></div><div class="ttdoc">The base class for Geant4 sensitive detector actions implemented by users. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00110">Geant4SensDetAction.h:110</a></div></div>
<div class="ttc" id="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags_html_a41662e93df084e0be2823219e1b09934"><div class="ttname"><a href="union_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags.html#a41662e93df084e0be2823219e1b09934">DD4hep::Simulation::Geant4HitCollection::CollectionFlags::value</a></div><div class="ttdeci">unsigned long value</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00229">Geant4HitCollection.h:229</a></div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_utilities_html_a4c0a9b81fbdf72442aa513ab684f4243"><div class="ttname"><a href="namespace_d_d4hep_1_1_utilities.html#a4c0a9b81fbdf72442aa513ab684f4243">DD4hep::Utilities::GetName</a></div><div class="ttdeci">const char * GetName(T *p)</div><div class="ttdef"><b>Definition:</b> <a href="_d_d_eve_2include_2_d_d_eve_2_utilities_8h_source.html#l00045">Utilities.h:45</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a7a4b540fa0c4983ebd755a049a2794b7"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a7a4b540fa0c4983ebd755a049a2794b7">DD4hep::Simulation::Geant4HitCollection::Manip</a></div><div class="ttdeci">Geant4HitWrapper::HitManipulator Manip</div><div class="ttdoc">Hit manipulator. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00207">Geant4HitCollection.h:207</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a2344f57f3d02ecd148c2b4893dffe660"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a2344f57f3d02ecd148c2b4893dffe660">DD4hep::Simulation::Geant4HitWrapper::m_data</a></div><div class="ttdeci">Wrapper m_data</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00109">Geant4HitCollection.h:109</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a0d4d87fb90cf83dceff0b43928426135"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a0d4d87fb90cf83dceff0b43928426135">DD4hep::Simulation::Geant4HitCollection::Keys</a></div><div class="ttdeci">std::map&lt; VolumeID, size_t &gt; Keys</div><div class="ttdoc">Hit key map for fast random lookup. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00209">Geant4HitCollection.h:209</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a8a2e237f209928a1598ccf0b72cd3d44"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a8a2e237f209928a1598ccf0b72cd3d44">DD4hep::Simulation::Geant4HitCollection::m_hits</a></div><div class="ttdeci">WrappedHits m_hits</div><div class="ttdoc">The collection of hit pointers in the wrapped format. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00238">Geant4HitCollection.h:238</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_compare_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_compare.html">DD4hep::Simulation::Geant4HitCollection::Compare</a></div><div class="ttdoc">Generic class template to compare/select hits in Geant4HitCollection objects. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00220">Geant4HitCollection.h:220</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_aeb5ededae3913d70a3aeecfa8ba0b853"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#aeb5ededae3913d70a3aeecfa8ba0b853">DD4hep::Simulation::Geant4HitCollection::add</a></div><div class="ttdeci">void add(TYPE *hit_pointer)</div><div class="ttdoc">Add a new hit with a check, that the hit is of the same type. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00329">Geant4HitCollection.h:329</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a3d45d2544cef7139ad425c2abc66c45a"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a3d45d2544cef7139ad425c2abc66c45a">DD4hep::Simulation::Geant4HitCollection::m_keys</a></div><div class="ttdeci">Keys m_keys</div><div class="ttdoc">Hit key map for fast random lookup. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00246">Geant4HitCollection.h:246</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_aaf3c4ccd370663a99af26333af3486e7"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#aaf3c4ccd370663a99af26333af3486e7">DD4hep::Simulation::Geant4HitCollection::m_detector</a></div><div class="ttdeci">Geant4Sensitive * m_detector</div><div class="ttdoc">Handle to the sensitive detector. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00240">Geant4HitCollection.h:240</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a4779e35eba7d553e0f2d497c49a42ec6"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a4779e35eba7d553e0f2d497c49a42ec6">DD4hep::Simulation::Geant4HitWrapper::Wrapper</a></div><div class="ttdeci">HitManipulator::Wrapper Wrapper</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00107">Geant4HitCollection.h:107</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_ae5a3a00858bb69ec71673f7286be2bab"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#ae5a3a00858bb69ec71673f7286be2bab">DD4hep::Simulation::Geant4HitWrapper::~Geant4HitWrapper</a></div><div class="ttdeci">virtual ~Geant4HitWrapper()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8cpp_source.html#l00041">Geant4HitCollection.cpp:41</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator_html_ab56e7a7a62be9eccd4695590159ce941"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#ab56e7a7a62be9eccd4695590159ce941">DD4hep::Simulation::Geant4HitWrapper::HitManipulator::instance</a></div><div class="ttdeci">static HitManipulator * instance()</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00101">Geant4HitCollection.h:101</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">DD4hep::Simulation::Geant4HitCollection</a></div><div class="ttdoc">Generic hit container class using Geant4HitWrapper objects. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00201">Geant4HitCollection.h:201</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_acf068dedd6941bee984bfd54fe17795f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#acf068dedd6941bee984bfd54fe17795f">DD4hep::Simulation::Geant4HitCollection::find</a></div><div class="ttdeci">TYPE * find(const Compare &amp;cmp)</div><div class="ttdoc">Find hits in a collection by comparison of attributes. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00346">Geant4HitCollection.h:346</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_component_cast_html"><div class="ttname"><a href="class_d_d4hep_1_1_component_cast.html">DD4hep::ComponentCast</a></div><div class="ttdoc">Class to perform dynamic casts using unknown pointers. </div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8h_source.html#l00168">Primitives.h:168</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_component_cast_html_a8046aba225c46b5e6eb7dedb49c27545"><div class="ttname"><a href="class_d_d4hep_1_1_component_cast.html#a8046aba225c46b5e6eb7dedb49c27545">DD4hep::ComponentCast::apply_dynCast</a></div><div class="ttdeci">void * apply_dynCast(const ComponentCast &amp;to, const void *ptr) const</div><div class="ttdoc">Apply cast using typeinfo instead of dynamic_cast. </div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8cpp_source.html#l00319">Primitives.cpp:319</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare_html_ad644f00808767564625f5ef98303bf0c"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html#ad644f00808767564625f5ef98303bf0c">DD4hep::Simulation::CellIDCompare::CellIDCompare</a></div><div class="ttdeci">CellIDCompare(long long int i)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00418">Geant4HitCollection.h:418</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator_html_ac5036ee6d5e3a50a861344b1ec9fbf96"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#ac5036ee6d5e3a50a861344b1ec9fbf96">DD4hep::Simulation::Geant4HitWrapper::HitManipulator::deleteHit</a></div><div class="ttdeci">static void deleteHit(Wrapper &amp;obj)</div><div class="ttdoc">Static function to delete contained hits. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00095">Geant4HitCollection.h:95</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a5d2a282043b247ee47e891a47637a006"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a5d2a282043b247ee47e891a47637a006">DD4hep::Simulation::Geant4HitCollection::GetHit</a></div><div class="ttdeci">virtual G4VHit * GetHit(size_t which) const</div><div class="ttdoc">Access individual hits. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00313">Geant4HitCollection.h:313</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a163e9842ded780e1f39dbe6701c132d8"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a163e9842ded780e1f39dbe6701c132d8">DD4hep::Simulation::Geant4HitCollection::setOptimize</a></div><div class="ttdeci">void setOptimize(int flag)</div><div class="ttdoc">Set optimization flags. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00301">Geant4HitCollection.h:301</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_adccefc2f8a73f693d2b87b146db87d44"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#adccefc2f8a73f693d2b87b146db87d44">DD4hep::Simulation::Geant4HitCollection::GetSize</a></div><div class="ttdeci">virtual size_t GetSize() const</div><div class="ttdoc">Access the collection size. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00317">Geant4HitCollection.h:317</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_component_cast_html_a006ce4ac1df92fed1bf93fbe95227262"><div class="ttname"><a href="class_d_d4hep_1_1_component_cast.html#a006ce4ac1df92fed1bf93fbe95227262">DD4hep::ComponentCast::instance</a></div><div class="ttdeci">static ComponentCast &amp; instance()</div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8h_source.html#l00197">Primitives.h:197</a></div></div>
<div class="ttc" id="_multi_view_8cpp_html_a8320ee13ac034dbf6d624fe8953dd337"><div class="ttname"><a href="_multi_view_8cpp.html#a8320ee13ac034dbf6d624fe8953dd337">v</a></div><div class="ttdeci">View * v</div><div class="ttdef"><b>Definition:</b> <a href="_multi_view_8cpp_source.html#l00030">MultiView.cpp:30</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator_html_a593e21925633b7b165bd78287de5e294"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a593e21925633b7b165bd78287de5e294">DD4hep::Simulation::Geant4HitWrapper::HitManipulator::castHit</a></div><div class="ttdeci">Wrapper castHit(TYPE *obj)</div><div class="ttdoc">Check pointer to be of proper type. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00081">Geant4HitCollection.h:81</a></div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_d_d_segmentation_html_a61a6833a18d1800bdef176595f83e3ba"><div class="ttname"><a href="namespace_d_d4hep_1_1_d_d_segmentation.html#a61a6833a18d1800bdef176595f83e3ba">DD4hep::DDSegmentation::VolumeID</a></div><div class="ttdeci">long long int VolumeID</div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8h_source.html#l00035">Primitives.h:35</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a0a47f87785a7cc9af60ab9a0f21dcf44"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a0a47f87785a7cc9af60ab9a0f21dcf44">DD4hep::Simulation::Geant4HitWrapper::manip</a></div><div class="ttdeci">HitManipulator * manip() const</div><div class="ttdoc">Access to cast grammar. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00139">Geant4HitCollection.h:139</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_position_compare_html_ad530acff563b1b5ca6951ebd6aa08e9a"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_position_compare.html#ad530acff563b1b5ca6951ebd6aa08e9a">DD4hep::Simulation::PositionCompare::operator()</a></div><div class="ttdeci">virtual void * operator()(const Geant4HitWrapper &amp;w) const</div><div class="ttdoc">Comparison function. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00401">Geant4HitCollection.h:401</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a9d048768dce3e8f79898e98ea90b0041"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a9d048768dce3e8f79898e98ea90b0041">DD4hep::Simulation::Geant4HitWrapper::data</a></div><div class="ttdeci">void * data() const</div><div class="ttdoc">Pointer/Object access (CONST) </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00147">Geant4HitCollection.h:147</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_ab65b438cada304dbfe15f9be6a329001"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#ab65b438cada304dbfe15f9be6a329001">DD4hep::Simulation::Geant4HitCollection::m_manipulator</a></div><div class="ttdeci">Manip * m_manipulator</div><div class="ttdoc">The type of the objects in this collection. Set by the constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00242">Geant4HitCollection.h:242</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_af7b7738a7307f1f9372dc37efc319dc6"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#af7b7738a7307f1f9372dc37efc319dc6">DD4hep::Simulation::Geant4HitWrapper::data</a></div><div class="ttdeci">void * data()</div><div class="ttdoc">Pointer/Object access. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00143">Geant4HitCollection.h:143</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_position_compare_html_a68fc69a87bb8ea3da749e17642c7b366"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_position_compare.html#a68fc69a87bb8ea3da749e17642c7b366">DD4hep::Simulation::PositionCompare::PositionCompare</a></div><div class="ttdeci">PositionCompare(const POS &amp;p)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00395">Geant4HitCollection.h:395</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare_html_aa652359210477d8353c5f5c530eb9f93"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_cell_i_d_compare.html#aa652359210477d8353c5f5c530eb9f93">DD4hep::Simulation::CellIDCompare::operator()</a></div><div class="ttdeci">virtual void * operator()(const Geant4HitWrapper &amp;w) const</div><div class="ttdoc">Comparison function. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00424">Geant4HitCollection.h:424</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator_html_a81d93c2f45fdb16c6b590401236f1ed5"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#a81d93c2f45fdb16c6b590401236f1ed5">DD4hep::Simulation::Geant4HitWrapper::HitManipulator::cast</a></div><div class="ttdeci">const ComponentCast &amp; cast</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00073">Geant4HitCollection.h:73</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_acec7d2a18d078071d5714dd4a0c45739"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#acec7d2a18d078071d5714dd4a0c45739">DD4hep::Simulation::Geant4HitWrapper::releaseData</a></div><div class="ttdeci">Wrapper releaseData()</div><div class="ttdoc">Release data for copy. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8cpp_source.html#l00070">Geant4HitCollection.cpp:70</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html">DD4hep::Simulation::Geant4HitWrapper::HitManipulator</a></div><div class="ttdoc">Generic type manipulation class for generic hit structures created in Geant4 sensitive detectors...</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00066">Geant4HitCollection.h:66</a></div></div>
<div class="ttc" id="struct_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags_1_1_bit_items_html"><div class="ttname"><a href="struct_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_1_1_collection_flags_1_1_bit_items.html">DD4hep::Simulation::Geant4HitCollection::CollectionFlags::BitItems</a></div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00230">Geant4HitCollection.h:230</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html_a993344637917118c758aeea4b42892b8"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html#a993344637917118c758aeea4b42892b8">DD4hep::Simulation::Geant4HitCollection::releaseHits</a></div><div class="ttdeci">std::vector&lt; TYPE * &gt; releaseHits()</div><div class="ttdoc">Release all hits from the Geant4 container and pass ownership to the caller. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00358">Geant4HitCollection.h:358</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a067b6f5a7e88d4f85d6554b563047916"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a067b6f5a7e88d4f85d6554b563047916">DD4hep::Simulation::Geant4HitWrapper::Geant4HitWrapper</a></div><div class="ttdeci">Geant4HitWrapper(const Geant4HitWrapper &amp;v)</div><div class="ttdoc">Copy constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00119">Geant4HitCollection.h:119</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_html_a57ccfb5f6f606751279a9c3222532250"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper.html#a57ccfb5f6f606751279a9c3222532250">DD4hep::Simulation::Geant4HitWrapper::Geant4HitWrapper</a></div><div class="ttdeci">Geant4HitWrapper()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00114">Geant4HitCollection.h:114</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator_html_abe16127974bebf369e7719b4e72c0647"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_wrapper_1_1_hit_manipulator.html#abe16127974bebf369e7719b4e72c0647">DD4hep::Simulation::Geant4HitWrapper::HitManipulator::vec_type</a></div><div class="ttdeci">const ComponentCast &amp; vec_type</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00074">Geant4HitCollection.h:74</a></div></div>
</div><!-- fragment --></div><!-- contents -->

<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 14 2016 16:16:55 for DD4hep by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
