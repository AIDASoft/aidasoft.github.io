<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DD4hep: /afs/cern.ch/user/m/mpetric/nightly_cppcheck/dd4hep/DDG4/src/Geant4SensDetAction.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="DD4hep.css" rel="stylesheet" type="text/css" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 100px;">
  <td id="projectlogo"><img alt="Logo" src="../doc/LaTex/CERN-logo.png" height="72"/></td>
  <td id="projectlogo"><img alt="Logo" src="DD4hep-AIDA-logo.png" height="72"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectbrief">DD4hep - The AIDA detector description toolkit for high energy physics experiments</div>
   <div id="projectname">DD4hep
   &#160;<span id="projectnumber">Rev:exported</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dd77d67ee2e5674e427bb81b037d3ccd.html">DDG4</a></li><li class="navelem"><a class="el" href="dir_ef4b2080ac7d0e36bbd21c102c4c465e.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Geant4SensDetAction.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_geant4_sens_det_action_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// $Id: $</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//==========================================================================</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//  AIDA Detector description implementation for LCD</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//--------------------------------------------------------------------------</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Copyright (C) Organisation europeenne pour la Recherche nucleaire (CERN)</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// All rights reserved.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// For the licensing terms see $DD4hepINSTALL/LICENSE.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// For the list of contributors see $DD4hepINSTALL/doc/CREDITS.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Author     : M.Frank</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//==========================================================================</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// Framework include files</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_printout_8h.html">DD4hep/Printout.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_primitives_8h.html">DD4hep/Primitives.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_instance_count_8h.html">DD4hep/InstanceCount.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_kernel_8h.html">DDG4/Geant4Kernel.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_mapping_8h.html">DDG4/Geant4Mapping.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_sens_det_action_8h.html">DDG4/Geant4SensDetAction.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_step_handler_8h.html">DDG4/Geant4StepHandler.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_volume_manager_8h.html">DDG4/Geant4VolumeManager.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_geant4_monte_carlo_truth_8h.html">DDG4/Geant4MonteCarloTruth.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// Geant4 include files</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;G4Step.hh&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;G4SDManager.hh&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;G4VSensitiveDetector.hh&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// C/C++ include files</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_d_d4hep.html">DD4hep</a>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_d_d4hep_1_1_simulation.html">DD4hep::Simulation</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html">Geant4ActionSD</a>* _getSensitiveDetector(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    G4SDManager* mgr = G4SDManager::GetSDMpointer();</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="class_g4_v_sensitive_detector.html">G4VSensitiveDetector</a>* sd = mgr-&gt;FindSensitiveDetector(name);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (0 == sd) {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      <span class="keywordflow">throw</span> runtime_error(<a class="code" href="namespace_d_d4hep.html#a643d67cdbd95090fbcc93cdd3e4a8ad8">format</a>(<span class="stringliteral">&quot;Geant4Sensitive&quot;</span>, <span class="stringliteral">&quot;DDG4: You requested to configure actions &quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                 <span class="stringliteral">&quot;for the sensitive detector %s,\nDDG4: which is not known to Geant4. &quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                 <span class="stringliteral">&quot;Are you sure you already converted the geometry?&quot;</span>, name.c_str()));</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html">Geant4ActionSD</a>* action_sd = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html">Geant4ActionSD</a>*<span class="keyword">&gt;</span>(sd);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (0 == action_sd) {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <span class="keywordflow">throw</span> runtime_error(</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                          <a class="code" href="namespace_d_d4hep.html#a643d67cdbd95090fbcc93cdd3e4a8ad8">format</a>(<span class="stringliteral">&quot;Geant4Sensitive&quot;</span>, <span class="stringliteral">&quot;DDG4: You may only configure actions &quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                 <span class="stringliteral">&quot;for sensitive detectors of type Geant4ActionSD.\n&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                 <span class="stringliteral">&quot;DDG4: The sensitive detector of %s is of type %s, which is incompatible.&quot;</span>, name.c_str(),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                 <a class="code" href="namespace_d_d4hep.html#aac3aec612736d0521670ca2e7b1305bd">typeName</a>(<span class="keyword">typeid</span>(*sd)).c_str()));</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span> action_sd;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#ad09cff29caa01d794981f342c0b1632e">   62</a></span>&#160;Geant4ActionSD::Geant4ActionSD(<span class="keyword">const</span> std::string&amp; nam)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  : <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">Geant4Action</a>(0, nam) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#aaaf8d46a477863acc69b65afbab96b22">InstanceCount::increment</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a535bbf839314d7cdaf37c42712ea96b6">   68</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a535bbf839314d7cdaf37c42712ea96b6">Geant4ActionSD::~Geant4ActionSD</a>() {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#a5053617b5c5083ea3b7d8f306c9a3933">InstanceCount::decrement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a9473fedf4d296dd044a9310a9da57bb4">   73</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a9473fedf4d296dd044a9310a9da57bb4">Geant4Filter::Geant4Filter</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <span class="keyword">const</span> std::string&amp; nam)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  : <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">Geant4Action</a>(ctxt, nam) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#aaaf8d46a477863acc69b65afbab96b22">InstanceCount::increment</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a2fdb09d7018165b25034b37fa8eb9930">   79</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a2fdb09d7018165b25034b37fa8eb9930">Geant4Filter::~Geant4Filter</a>() {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#a5053617b5c5083ea3b7d8f306c9a3933">InstanceCount::decrement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a373f84ddcbefe180daa058050b6cf753">   84</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a373f84ddcbefe180daa058050b6cf753">Geant4Filter::operator()</a>(<span class="keyword">const</span> G4Step*)<span class="keyword"> const </span>{</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a262aa19cea5ad71e75ff8250a55572f5">   89</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a262aa19cea5ad71e75ff8250a55572f5">Geant4Sensitive::Geant4Sensitive</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; nam, <a class="code" href="class_d_d4hep_1_1_geometry_1_1_det_element.html">DetElement</a> det, <a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html">LCDD</a>&amp; lcdd_ref)</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  : <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">Geant4Action</a>(ctxt, nam), m_sensitiveDetector(0), m_sequence(0),</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    m_lcdd(lcdd_ref), m_detector(det), m_sensitive(), m_readout(), m_segmentation()</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#aaaf8d46a477863acc69b65afbab96b22">InstanceCount::increment</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">if</span> (!det.<a class="code" href="class_d_d4hep_1_1_handle.html#a7e69d51e089a24a1773603dfa3fe5eac">isValid</a>()) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">throw</span> runtime_error(<a class="code" href="namespace_d_d4hep.html#a643d67cdbd95090fbcc93cdd3e4a8ad8">format</a>(<span class="stringliteral">&quot;Geant4Sensitive&quot;</span>, <span class="stringliteral">&quot;DDG4: Detector elemnt for %s is invalid.&quot;</span>, nam.c_str()));</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a51be57d542edbba2b5e4a53a7fea6315">declareProperty</a>(<span class="stringliteral">&quot;HitCreationMode&quot;</span>, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a0dca1438c83ccee54eb9458bf12220b1">m_hitCreationMode</a> = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750affa871d1db60d0783987ac12ad64663f">SIMPLE_MODE</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7c98977dbb602b8053f21ff8e36f925d">m_sequence</a>  = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#aa9d87f0ec2a72b7fc2591b18f98d75cf">context</a>()-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a4374827bf9949372b0e79fb952b186d7">kernel</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a9e52e2e6655f19963fc07b86cc483928">sensitiveAction</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a8b5b7e0dff9d8fcb154b646e1618821f">m_detector</a>.<a class="code" href="class_d_d4hep_1_1_handle.html#a27c7d467a609ab32c133e1f3c7d85ef5">name</a>());</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a02ba3b720aadf6e230b6c2c0cd258b2b">m_sensitive</a> = lcdd_ref.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#af476b8241b93e82350ec1e5cbf145941">sensitiveDetector</a>(det.<a class="code" href="class_d_d4hep_1_1_handle.html#a27c7d467a609ab32c133e1f3c7d85ef5">name</a>());</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a14b5d00feae681d434df04c0d9fc8f70">m_readout</a>   = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a02ba3b720aadf6e230b6c2c0cd258b2b">m_sensitive</a>.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ad79f39c5b360f7ecf2341de990131eb2">readout</a>();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ab7817460de763632e629982ca4c2c847">m_segmentation</a> = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a14b5d00feae681d434df04c0d9fc8f70">m_readout</a>.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_readout.html#ab6e80a6f84cef69b5b567fb46ece6fab">segmentation</a>();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ada2869ec6bcb9674eaa29f7e1c215729">  105</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ada2869ec6bcb9674eaa29f7e1c215729">Geant4Sensitive::~Geant4Sensitive</a>() {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7486440af0fb52c3ab233544262d2c95">m_filters</a>(&amp;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3afba3ee937fdbd25d27994e4e75c5ac">Geant4Filter::release</a>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7486440af0fb52c3ab233544262d2c95">m_filters</a>.clear();</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#a5053617b5c5083ea3b7d8f306c9a3933">InstanceCount::decrement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a54a242570db8df04bcf260d2e0ea3018">  112</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a54a242570db8df04bcf260d2e0ea3018">Geant4Sensitive::adoptFilter</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">Geant4Action</a>* action)   {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">Geant4Filter</a>* filter = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">Geant4Filter</a>*<span class="keyword">&gt;</span>(action);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac1a68f5a62579041a301c8f3b3389175">adopt</a>(filter);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac1a68f5a62579041a301c8f3b3389175">  118</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac1a68f5a62579041a301c8f3b3389175">Geant4Sensitive::adopt</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">Geant4Filter</a>* filter) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">if</span> (filter) {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    filter-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#abf90df73db256488940810101fd63a8a">addRef</a>();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7486440af0fb52c3ab233544262d2c95">m_filters</a>.add(filter);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Geant4Sensitive: Attempt to add invalid sensitive filter!&quot;</span>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a923ce4e474920fab8d2c7c6762e82ef4">  128</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a923ce4e474920fab8d2c7c6762e82ef4">Geant4Sensitive::adoptFilter_front</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">Geant4Action</a>* action)   {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">Geant4Filter</a>* filter = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">Geant4Filter</a>*<span class="keyword">&gt;</span>(action);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a38dc5d69581c1acf08eb7aed152cf3f6">adopt_front</a>(filter);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a38dc5d69581c1acf08eb7aed152cf3f6">  134</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a38dc5d69581c1acf08eb7aed152cf3f6">Geant4Sensitive::adopt_front</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">Geant4Filter</a>* filter) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span> (filter) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    filter-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#abf90df73db256488940810101fd63a8a">addRef</a>();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7486440af0fb52c3ab233544262d2c95">m_filters</a>.add_front(filter);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Geant4Sensitive: Attempt to add invalid sensitive filter!&quot;</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac39e0e8880a309942194e9f1b84af5a1">  144</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac39e0e8880a309942194e9f1b84af5a1">Geant4Sensitive::accept</a>(<span class="keyword">const</span> G4Step* step)<span class="keyword"> const </span>{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">bool</span> result = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7486440af0fb52c3ab233544262d2c95">m_filters</a>.filter(&amp;Geant4Filter::operator(), step);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aac4f3a911f3818516bfb54a5b2bbef39">  150</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aac4f3a911f3818516bfb54a5b2bbef39">Geant4Sensitive::setDetector</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html">Geant4ActionSD</a>* sens_det) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#afc56b9a8666f9fe594516436f7fdd4e0">m_sensitiveDetector</a> = sens_det;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aec1bfe9ac838d359d9e3948118b5c42d">  155</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html">Geant4ActionSD</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aec1bfe9ac838d359d9e3948118b5c42d">Geant4Sensitive::detector</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#afc56b9a8666f9fe594516436f7fdd4e0">m_sensitiveDetector</a>)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#afc56b9a8666f9fe594516436f7fdd4e0">m_sensitiveDetector</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">//m_sensitiveDetector = _getSensitiveDetector(m_detector.name());</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">//if (  m_sensitiveDetector ) return *m_sensitiveDetector;</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">throw</span> runtime_error(<a class="code" href="namespace_d_d4hep.html#a643d67cdbd95090fbcc93cdd3e4a8ad8">format</a>(<span class="stringliteral">&quot;Geant4Sensitive&quot;</span>, <span class="stringliteral">&quot;DDG4: The sensitive detector for action %s &quot;</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                             <span class="stringliteral">&quot;was not properly configured.&quot;</span>, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#af374e70b014d16afb81dd9d77cc3894b">name</a>().c_str()));</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a460ae8107334780c1c69982c7b054e41">  165</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html">Geant4SensDetActionSequence</a>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a460ae8107334780c1c69982c7b054e41">Geant4Sensitive::sequence</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7c98977dbb602b8053f21ff8e36f925d">m_sequence</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aafc865d1ca6e2120609997e96eb68440">  170</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aafc865d1ca6e2120609997e96eb68440">Geant4Sensitive::hitCollectionName</a>(<span class="keywordtype">size_t</span> which)<span class="keyword"> const </span>{</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a460ae8107334780c1c69982c7b054e41">sequence</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#adf93b5f5979f9d289aa09f0909a5bd7d">hitCollectionName</a>(which);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a49d2a794d7824475b7bac71d7342306b">  175</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a49d2a794d7824475b7bac71d7342306b">Geant4Sensitive::collection</a>(<span class="keywordtype">size_t</span> which) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a460ae8107334780c1c69982c7b054e41">sequence</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ae8f783b4958cb90097b5735e5351591e">collection</a>(which);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ad45d2c806dd89d1434ba8eec35b87843">  180</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ad45d2c806dd89d1434ba8eec35b87843">Geant4Sensitive::collectionByID</a>(<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a460ae8107334780c1c69982c7b054e41">sequence</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a51a324ce960e144da1f1a16a8c18f6f1">collectionByID</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a88c872b79e49e399c8ee282960c2d77d">  185</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a88c872b79e49e399c8ee282960c2d77d">Geant4Sensitive::defineCollections</a>() {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a2967b095e6c32ae82f68a8b25a086c86">  189</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a2967b095e6c32ae82f68a8b25a086c86">Geant4Sensitive::begin</a>(G4HCofThisEvent* <span class="comment">/* HCE */</span>) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#abcce05101539a9941c06aada4625a608">  193</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#abcce05101539a9941c06aada4625a608">Geant4Sensitive::end</a>(G4HCofThisEvent* <span class="comment">/* HCE */</span>) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a9a9463a6c29a66dad43a52ffc9f7838d">  197</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a9a9463a6c29a66dad43a52ffc9f7838d">Geant4Sensitive::process</a>(G4Step* <span class="comment">/* step */</span>, G4TouchableHistory* <span class="comment">/* history */</span>) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a3bb1c2f79261a98e83ec22102281d117">  202</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a3bb1c2f79261a98e83ec22102281d117">Geant4Sensitive::clear</a>(G4HCofThisEvent* <span class="comment">/* HCE */</span>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a5dd1e49bfcc1937ad6dc302f969ee544">  206</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a5dd1e49bfcc1937ad6dc302f969ee544">Geant4Sensitive::mark</a>(<span class="keyword">const</span> G4Track* track)<span class="keyword"> const  </span>{</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth.html">Geant4MonteCarloTruth</a>* truth = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#aa9d87f0ec2a72b7fc2591b18f98d75cf">context</a>()-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a47f2c31d7ddd7a9890c6a58e19a32b99">event</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_event.html#a9484d88af250ffabccc8d717b6055ef7">extension</a>&lt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth.html">Geant4MonteCarloTruth</a>&gt;(<span class="keyword">false</span>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">if</span> ( truth ) truth-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth.html#ad74253c38fb6e00003b591a07e5e748d">mark</a>(track);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a3a5b62f53f7a9c9a07910716cc85e3aa">  212</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a5dd1e49bfcc1937ad6dc302f969ee544">Geant4Sensitive::mark</a>(<span class="keyword">const</span> G4Step* step)<span class="keyword"> const  </span>{</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth.html">Geant4MonteCarloTruth</a>* truth = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#aa9d87f0ec2a72b7fc2591b18f98d75cf">context</a>()-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a47f2c31d7ddd7a9890c6a58e19a32b99">event</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_event.html#a9484d88af250ffabccc8d717b6055ef7">extension</a>&lt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth.html">Geant4MonteCarloTruth</a>&gt;(<span class="keyword">false</span>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> ( truth ) truth-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth.html#ad74253c38fb6e00003b591a07e5e748d">mark</a>(step);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a9aa1270e3fb490a4ebe511343903d72f">  218</a></span>&#160;<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a9aa1270e3fb490a4ebe511343903d72f">Geant4Sensitive::volumeID</a>(<span class="keyword">const</span> G4Step* <a class="code" href="_volumes_8cpp.html#a17ca6bfc8040d695d3cada22a4763d40">s</a>) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html">Geant4StepHandler</a> step(s);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_volume_manager.html">Geant4VolumeManager</a> volMgr = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_mapping.html#affbc609db47e67ea60b84e61a41c00b6">Geant4Mapping::instance</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_mapping.html#a1109a515d9cbac6d58760b647e3272d2">volumeManager</a>();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="namespace_d_d4hep_1_1_d_d_segmentation.html#a61a6833a18d1800bdef176595f83e3ba">VolumeID</a> <span class="keywordtype">id</span> = volMgr.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_volume_manager.html#aa23614d7ae201b1e9b9a2f39a3cc5026">volumeID</a>(step.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html#ad2ab7468011fc1d570e24345d458b7fc">preTouchable</a>());</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">return</span> id;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a1e79173455ccff4d70cd1325b26ad3e9">  226</a></span>&#160;<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a1e79173455ccff4d70cd1325b26ad3e9">Geant4Sensitive::cellID</a>(<span class="keyword">const</span> G4Step* <a class="code" href="_volumes_8cpp.html#a17ca6bfc8040d695d3cada22a4763d40">s</a>) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html">StepHandler</a> h(s);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_volume_manager.html">Geant4VolumeManager</a> volMgr = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_mapping.html#affbc609db47e67ea60b84e61a41c00b6">Geant4Mapping::instance</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_mapping.html#a1109a515d9cbac6d58760b647e3272d2">volumeManager</a>();</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="namespace_d_d4hep_1_1_d_d_segmentation.html#a61a6833a18d1800bdef176595f83e3ba">VolumeID</a> volID = volMgr.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_volume_manager.html#aa23614d7ae201b1e9b9a2f39a3cc5026">volumeID</a>(h.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html#ad2ab7468011fc1d570e24345d458b7fc">preTouchable</a>());</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ab7817460de763632e629982ca4c2c847">m_segmentation</a>.<a class="code" href="class_d_d4hep_1_1_handle.html#a7e69d51e089a24a1773603dfa3fe5eac">isValid</a>() )  {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    G4ThreeVector global = 0.5 * ( h.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html#a087079e78925eeaedf2e20c394c5c820">prePosG4</a>()+h.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html#a8724fb0d717e73716f12a30a851a6b3f">postPosG4</a>());</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    G4ThreeVector local  = h.<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html#ad2ab7468011fc1d570e24345d458b7fc">preTouchable</a>()-&gt;GetHistory()-&gt;GetTopTransform().TransformPoint(global);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a> loc(local.x()*<a class="code" href="_handle_8h.html#a08afad35cf0adf291d0975d6ea251bdf">MM_2_CM</a>, local.y()*<a class="code" href="_handle_8h.html#a08afad35cf0adf291d0975d6ea251bdf">MM_2_CM</a>, local.z()*<a class="code" href="_handle_8h.html#a08afad35cf0adf291d0975d6ea251bdf">MM_2_CM</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">Position</a> glob(global.x()*<a class="code" href="_handle_8h.html#a08afad35cf0adf291d0975d6ea251bdf">MM_2_CM</a>, global.y()*<a class="code" href="_handle_8h.html#a08afad35cf0adf291d0975d6ea251bdf">MM_2_CM</a>, global.z()*<a class="code" href="_handle_8h.html#a08afad35cf0adf291d0975d6ea251bdf">MM_2_CM</a>);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="namespace_d_d4hep_1_1_d_d_segmentation.html#a61a6833a18d1800bdef176595f83e3ba">VolumeID</a> cID = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ab7817460de763632e629982ca4c2c847">m_segmentation</a>.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_segmentation.html#a39785430e3bf6f2de6df12f94cdcafe1">cellID</a>(loc,glob,volID);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> cID;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">return</span> volID;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af8a5bb0d0ca25965a5cc7d6f9b34b469">  242</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af8a5bb0d0ca25965a5cc7d6f9b34b469">Geant4SensDetActionSequence::Geant4SensDetActionSequence</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; nam)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  : <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">Geant4Action</a>(ctxt, nam), m_hce(0)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;{</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a4d64f5159d58c4a43d74d0ddd0a695ba">m_needsControl</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#aa9d87f0ec2a72b7fc2591b18f98d75cf">context</a>()-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a6dc64861f400429806fd23845b9e6f97">sensitiveActions</a>().<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a94c88487954aa5877af76b61d5f5ed20">insert</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#af374e70b014d16afb81dd9d77cc3894b">name</a>(), <span class="keyword">this</span>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a480029ca979ac872688986da731930b8">m_sensitive</a> = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#aa9d87f0ec2a72b7fc2591b18f98d75cf">context</a>()-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a209ec3ce0935cf5ac3734626c2eca1d3">lcdd</a>().<a class="code" href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#af476b8241b93e82350ec1e5cbf145941">sensitiveDetector</a>(nam);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a51bf2c5186ea7905ae655b44d6aea06f">m_sensitiveType</a> = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a480029ca979ac872688986da731930b8">m_sensitive</a>.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ab4ae71a64aeb6736d325a38469f7bcb8">type</a>();</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a480029ca979ac872688986da731930b8">m_sensitive</a>.<a class="code" href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#afe67bf4bb87340757c66a68fb410bf94">setType</a>(<span class="stringliteral">&quot;Geant4SensDet&quot;</span>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#aaaf8d46a477863acc69b65afbab96b22">InstanceCount::increment</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a0e8473bdb136ab4eae734fd3305b4f05">  255</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a0e8473bdb136ab4eae734fd3305b4f05">Geant4SensDetActionSequence::~Geant4SensDetActionSequence</a>() {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a67b12a0e51d5249be593f874182155ab">m_filters</a>(&amp;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3afba3ee937fdbd25d27994e4e75c5ac">Geant4Filter::release</a>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>(&amp;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3afba3ee937fdbd25d27994e4e75c5ac">Geant4Sensitive::release</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a67b12a0e51d5249be593f874182155ab">m_filters</a>.clear();</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>.clear();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="struct_d_d4hep_1_1_instance_count.html#a5053617b5c5083ea3b7d8f306c9a3933">InstanceCount::decrement</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5878271f8da03d02bf4b3b8145246775">  264</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5878271f8da03d02bf4b3b8145246775">Geant4SensDetActionSequence::updateContext</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">Geant4Context</a>* ctxt)    {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a5cdb706a8dea3dea288b5b9f65398c1d">m_context</a> = ctxt;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>.updateContext(ctxt);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a67b12a0e51d5249be593f874182155ab">m_filters</a>.updateContext(ctxt);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ae387c8632412ef9eec6ed9767d3ea01b">  271</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ae387c8632412ef9eec6ed9767d3ea01b">Geant4SensDetActionSequence::adoptFilter</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">Geant4Action</a>* action)   {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">Geant4Filter</a>* filter = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">Geant4Filter</a>*<span class="keyword">&gt;</span>(action);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a01437840682e0edbee69d11c99f73b5f">adopt</a>(filter);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a01437840682e0edbee69d11c99f73b5f">  277</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a01437840682e0edbee69d11c99f73b5f">Geant4SensDetActionSequence::adopt</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">Geant4Sensitive</a>* sensitive) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span> (sensitive) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    sensitive-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#abf90df73db256488940810101fd63a8a">addRef</a>();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>.add(sensitive);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Geant4SensDetActionSequence: Attempt to add invalid sensitive actor!&quot;</span>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a89fcbc8c65a95890ea349087ac4834ec">  287</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a01437840682e0edbee69d11c99f73b5f">Geant4SensDetActionSequence::adopt</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">Geant4Filter</a>* filter) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span> (filter) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    filter-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#abf90df73db256488940810101fd63a8a">addRef</a>();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a67b12a0e51d5249be593f874182155ab">m_filters</a>.add(filter);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Geant4SensDetActionSequence: Attempt to add invalid sensitive filter!&quot;</span>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af610d10bd4b9a699b7d8b4179b0de946">  297</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af610d10bd4b9a699b7d8b4179b0de946">Geant4SensDetActionSequence::defineCollection</a>(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">Geant4Sensitive</a>* owner, <span class="keyword">const</span> std::string&amp; collection_name, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a449bfc3938d1e870ce8af2e80c16f25f">create_t</a> func) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">m_collections</a>.push_back(make_pair(collection_name, make_pair(owner,func)));</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">m_collections</a>.size() - 1;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="keywordtype">size_t</span> Geant4SensDetActionSequence::Geant4SensDetActionSequence::defineCollections(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html">Geant4ActionSD</a>* sens_det) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordtype">size_t</span> count = 0;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a4c35959bba4b7d3f05a8aa48970be68a">m_detector</a> = sens_det;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>(&amp;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aac4f3a911f3818516bfb54a5b2bbef39">Geant4Sensitive::setDetector</a>, sens_det);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>(&amp;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a88c872b79e49e399c8ee282960c2d77d">Geant4Sensitive::defineCollections</a>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">for</span> (HitCollections::const_iterator i = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">m_collections</a>.begin(); i != <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">m_collections</a>.end(); ++i) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    sens_det-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#acb227bd17a6f30d5df564a4d19f3f8a2">defineCollection</a>((*i).first);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    ++count;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">return</span> count;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#adf93b5f5979f9d289aa09f0909a5bd7d">  316</a></span>&#160;<span class="keyword">const</span> std::string&amp; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#adf93b5f5979f9d289aa09f0909a5bd7d">Geant4SensDetActionSequence::hitCollectionName</a>(<span class="keywordtype">size_t</span> which)<span class="keyword"> const </span>{</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">if</span> (which &lt; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">m_collections</a>.size()) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">m_collections</a>[which].first;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">string</span> blank = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a9817394f45f311d2fb19f544e9a72e23">except</a>(<span class="stringliteral">&quot;The collection name index for subdetector %s is out of range!&quot;</span>, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a7e0ce5a638e716e0e607536a73a85cbf">c_name</a>());</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">return</span> blank;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ae8f783b4958cb90097b5735e5351591e">  326</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ae8f783b4958cb90097b5735e5351591e">Geant4SensDetActionSequence::collection</a>(<span class="keywordtype">size_t</span> which)<span class="keyword"> const </span>{</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span> (which &lt; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">m_collections</a>.size()) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">int</span> hc_id = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a4c35959bba4b7d3f05a8aa48970be68a">m_detector</a>-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#ac0539610b17b20d10592201b1eb0755d">GetCollectionID</a>(which);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>* c = (<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>*) <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">m_hce</a>-&gt;GetHC(hc_id);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (c)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span> c;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a9817394f45f311d2fb19f544e9a72e23">except</a>(<span class="stringliteral">&quot;The collection index for subdetector %s is wrong!&quot;</span>, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a7e0ce5a638e716e0e607536a73a85cbf">c_name</a>());</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a9817394f45f311d2fb19f544e9a72e23">except</a>(<span class="stringliteral">&quot;The collection name index for subdetector %s is out of range!&quot;</span>, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a7e0ce5a638e716e0e607536a73a85cbf">c_name</a>());</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a51a324ce960e144da1f1a16a8c18f6f1">  339</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a51a324ce960e144da1f1a16a8c18f6f1">Geant4SensDetActionSequence::collectionByID</a>(<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>* c = (<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>*) <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">m_hce</a>-&gt;GetHC(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">if</span> (c)</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> c;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a9817394f45f311d2fb19f544e9a72e23">except</a>(<span class="stringliteral">&quot;The collection index for subdetector %s is wrong!&quot;</span>, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a7e0ce5a638e716e0e607536a73a85cbf">c_name</a>());</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa3af85c443979428311f932af57473fd">  348</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa3af85c443979428311f932af57473fd">Geant4SensDetActionSequence::accept</a>(<span class="keyword">const</span> G4Step* step)<span class="keyword"> const </span>{</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordtype">bool</span> result = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a67b12a0e51d5249be593f874182155ab">m_filters</a>.filter(&amp;Geant4Filter::operator(), step);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a452bc5bf7c03c8b546d3459ba7bf7e36">  354</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a452bc5bf7c03c8b546d3459ba7bf7e36">Geant4SensDetActionSequence::process</a>(G4Step* step, G4TouchableHistory* hist) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">for</span> (vector&lt;Geant4Sensitive*&gt;::iterator i = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>-&gt;begin(); i != <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>-&gt;end(); ++i) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">Geant4Sensitive</a>* <a class="code" href="_volumes_8cpp.html#a17ca6bfc8040d695d3cada22a4763d40">s</a> = *i;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac39e0e8880a309942194e9f1b84af5a1">accept</a>(step))</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      result |= s-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a9a9463a6c29a66dad43a52ffc9f7838d">process</a>(step, hist);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a2ebfed15148432bab44c58ce3c7a0a95">m_process</a>(step, hist);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a59c1e52c811f9385da294c0b18704ab1">  369</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a59c1e52c811f9385da294c0b18704ab1">Geant4SensDetActionSequence::begin</a>(G4HCofThisEvent* hce) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">m_hce</a> = hce;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> count = 0; count &lt; <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">m_collections</a>.size(); ++count) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keyword">const</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ac2b994581eab7aad3b5473ac416f65fd">HitCollection</a>&amp; cr = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">m_collections</a>[count];</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">Geant4HitCollection</a>* c = (*cr.second.second)(<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#af374e70b014d16afb81dd9d77cc3894b">name</a>(), cr.first, cr.second.first);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a4c35959bba4b7d3f05a8aa48970be68a">m_detector</a>-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#ac0539610b17b20d10592201b1eb0755d">GetCollectionID</a>(count);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">m_hce</a>-&gt;AddHitsCollection(<span class="keywordtype">id</span>, c);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>(&amp;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a2967b095e6c32ae82f68a8b25a086c86">Geant4Sensitive::begin</a>, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">m_hce</a>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a8feceb005db2ea028c4a778dd600b00b">m_begin</a> (<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">m_hce</a>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a2b7944c785413b2a479f4ba4ad2e1515">  382</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a2b7944c785413b2a479f4ba4ad2e1515">Geant4SensDetActionSequence::end</a>(G4HCofThisEvent* hce) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a15a09899c6ec50b8d14f4543362d9c91">m_end</a>(hce);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>(&amp;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#abcce05101539a9941c06aada4625a608">Geant4Sensitive::end</a>, hce);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="comment">// G4HCofThisEvent must be availible until end-event. m_hce = 0;</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ab2bab9282950af33d3e14e3f0d5864fd">  394</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ab2bab9282950af33d3e14e3f0d5864fd">Geant4SensDetActionSequence::clear</a>() {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5d720697074ed4775143ebdae2073a16">m_clear</a> (<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">m_hce</a>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">m_actors</a>(&amp;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a3bb1c2f79261a98e83ec22102281d117">Geant4Sensitive::clear</a>, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">m_hce</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a5a78304dcb1472bf7a7de1b4305a264f">  400</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a5a78304dcb1472bf7a7de1b4305a264f">Geant4SensDetSequences::Geant4SensDetSequences</a>() {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a6f27557827175da8f038b84959cb109d">  404</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a6f27557827175da8f038b84959cb109d">Geant4SensDetSequences::~Geant4SensDetSequences</a>() {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="namespace_d_d4hep.html#af72014aac51cad36a418913e989a34fe">releaseObjects</a>(m_sequences);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  m_sequences.clear();</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#ad3d42dda04a3f8ae499fcb098d818098">  410</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html">Geant4SensDetActionSequence</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#ad3d42dda04a3f8ae499fcb098d818098">Geant4SensDetSequences::operator[]</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name)<span class="keyword"> const </span>{</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordtype">string</span> nam = <span class="stringliteral">&quot;SD_Seq_&quot;</span> + <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#af374e70b014d16afb81dd9d77cc3894b">name</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  Members::const_iterator i = m_sequences.find(nam);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (i != m_sequences.end())</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">return</span> (*i).second;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;Attempt to access undefined SensDetActionSequence!&quot;</span>);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#adee9e588585b3a8079dc40b1fd171b3c">  419</a></span>&#160;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html">Geant4SensDetActionSequence</a>* <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#adee9e588585b3a8079dc40b1fd171b3c">Geant4SensDetSequences::find</a>(<span class="keyword">const</span> std::string&amp; name)<span class="keyword"> const </span>{</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordtype">string</span> nam = <span class="stringliteral">&quot;SD_Seq_&quot;</span> + <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#af374e70b014d16afb81dd9d77cc3894b">name</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  Members::const_iterator i = m_sequences.find(nam);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">if</span> (i != m_sequences.end())</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">return</span> (*i).second;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a94c88487954aa5877af76b61d5f5ed20">  428</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a94c88487954aa5877af76b61d5f5ed20">Geant4SensDetSequences::insert</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name, <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html">Geant4SensDetActionSequence</a>* seq) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (seq) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordtype">string</span> nam = <span class="stringliteral">&quot;SD_Seq_&quot;</span> + <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#af374e70b014d16afb81dd9d77cc3894b">name</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    seq-&gt;<a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#abf90df73db256488940810101fd63a8a">addRef</a>();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    m_sequences[nam] = seq;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">throw</span> runtime_error(<a class="code" href="namespace_d_d4hep.html#a643d67cdbd95090fbcc93cdd3e4a8ad8">format</a>(<span class="stringliteral">&quot;Geant4SensDetSequences&quot;</span>, <span class="stringliteral">&quot;Attempt to add invalid sensitive &quot;</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                             <span class="stringliteral">&quot;sequence with name:%s&quot;</span>, name.c_str()));</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#ad30860ebb23e7fbbaf18c8a7194ae6cc">  440</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#ad30860ebb23e7fbbaf18c8a7194ae6cc">Geant4SensDetSequences::clear</a>()   {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  m_sequences.clear();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div><div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth_html_ad74253c38fb6e00003b591a07e5e748d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth.html#ad74253c38fb6e00003b591a07e5e748d">DD4hep::Simulation::Geant4MonteCarloTruth::mark</a></div><div class="ttdeci">virtual void mark(const G4Track *track)=0</div><div class="ttdoc">Mark a Geant4 track to be kept for later MC truth analysis. </div></div>
<div class="ttc" id="_geant4_kernel_8h_html"><div class="ttname"><a href="_geant4_kernel_8h.html">Geant4Kernel.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_a7e0ce5a638e716e0e607536a73a85cbf"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a7e0ce5a638e716e0e607536a73a85cbf">DD4hep::Simulation::Geant4Action::c_name</a></div><div class="ttdeci">const char * c_name() const</div><div class="ttdoc">Access name of the action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8h_source.html#l00281">Geant4Action.h:281</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_handle_html_a27c7d467a609ab32c133e1f3c7d85ef5"><div class="ttname"><a href="class_d_d4hep_1_1_handle.html#a27c7d467a609ab32c133e1f3c7d85ef5">DD4hep::Handle::name</a></div><div class="ttdeci">const char * name() const</div><div class="ttdoc">Access the object name (or &quot;&quot; if not supported by the object) </div><div class="ttdef"><b>Definition:</b> <a href="_handle_8inl_source.html#l00036">Handle.inl:36</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_af374e70b014d16afb81dd9d77cc3894b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#af374e70b014d16afb81dd9d77cc3894b">DD4hep::Simulation::Geant4Action::name</a></div><div class="ttdeci">const std::string &amp; name() const</div><div class="ttdoc">Access name of the action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8h_source.html#l00277">Geant4Action.h:277</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_a9817394f45f311d2fb19f544e9a72e23"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a9817394f45f311d2fb19f544e9a72e23">DD4hep::Simulation::Geant4Action::except</a></div><div class="ttdeci">void except(const char *fmt,...) const</div><div class="ttdoc">Support of exceptions: Print fatal message and throw runtime_error. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8cpp_source.html#l00258">Geant4Action.cpp:258</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_a3afba3ee937fdbd25d27994e4e75c5ac"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a3afba3ee937fdbd25d27994e4e75c5ac">DD4hep::Simulation::Geant4Action::release</a></div><div class="ttdeci">long release()</div><div class="ttdoc">Decrease reference count. Implicit destruction. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8cpp_source.html#l00080">Geant4Action.cpp:80</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_abcce05101539a9941c06aada4625a608"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#abcce05101539a9941c06aada4625a608">DD4hep::Simulation::Geant4Sensitive::end</a></div><div class="ttdeci">virtual void end(G4HCofThisEvent *hce)</div><div class="ttdoc">G4VSensitiveDetector interface: Method invoked at the end of each event. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00193">Geant4SensDetAction.cpp:193</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a51bf2c5186ea7905ae655b44d6aea06f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a51bf2c5186ea7905ae655b44d6aea06f">DD4hep::Simulation::Geant4SensDetActionSequence::m_sensitiveType</a></div><div class="ttdeci">std::string m_sensitiveType</div><div class="ttdoc">The true sensitive type of the detector. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00313">Geant4SensDetAction.h:313</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a262aa19cea5ad71e75ff8250a55572f5"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a262aa19cea5ad71e75ff8250a55572f5">DD4hep::Simulation::Geant4Sensitive::Geant4Sensitive</a></div><div class="ttdeci">Geant4Sensitive(Geant4Context *context, const std::string &amp;name, DetElement det, LCDD &amp;lcdd)</div><div class="ttdoc">Constructor. The sensitive detector element is identified by the detector name. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00089">Geant4SensDetAction.cpp:89</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a51a324ce960e144da1f1a16a8c18f6f1"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a51a324ce960e144da1f1a16a8c18f6f1">DD4hep::Simulation::Geant4SensDetActionSequence::collectionByID</a></div><div class="ttdeci">Geant4HitCollection * collectionByID(size_t id) const</div><div class="ttdoc">Retrieve the hits collection associated with this detector by its collection identifier. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00339">Geant4SensDetAction.cpp:339</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a449bfc3938d1e870ce8af2e80c16f25f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a449bfc3938d1e870ce8af2e80c16f25f">DD4hep::Simulation::Geant4SensDetActionSequence::create_t</a></div><div class="ttdeci">Geant4HitCollection *(* create_t)(const std::string &amp;, const std::string &amp;, Geant4Sensitive *)</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00286">Geant4SensDetAction.h:286</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_sensitive_detector_html_ab4ae71a64aeb6736d325a38469f7bcb8"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ab4ae71a64aeb6736d325a38469f7bcb8">DD4hep::Geometry::SensitiveDetector::type</a></div><div class="ttdeci">std::string type() const</div><div class="ttdoc">Access the type of the sensitive detector. </div><div class="ttdef"><b>Definition:</b> <a href="_detector_8cpp_source.html#l00432">Detector.cpp:432</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a9a9463a6c29a66dad43a52ffc9f7838d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a9a9463a6c29a66dad43a52ffc9f7838d">DD4hep::Simulation::Geant4Sensitive::process</a></div><div class="ttdeci">virtual bool process(G4Step *step, G4TouchableHistory *history)</div><div class="ttdoc">G4VSensitiveDetector interface: Method for generating hit(s) using the information of G4Step object...</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00197">Geant4SensDetAction.cpp:197</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a14b5d00feae681d434df04c0d9fc8f70"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a14b5d00feae681d434df04c0d9fc8f70">DD4hep::Simulation::Geant4Sensitive::m_readout</a></div><div class="ttdeci">Readout m_readout</div><div class="ttdoc">Reference to the readout structure. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00144">Geant4SensDetAction.h:144</a></div></div>
<div class="ttc" id="_geant4_step_handler_8h_html"><div class="ttname"><a href="_geant4_step_handler_8h.html">Geant4StepHandler.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_volume_manager_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_volume_manager.html">DD4hep::Simulation::Geant4VolumeManager</a></div><div class="ttdoc">The Geant4VolumeManager to facilitate optimized lookups of cell IDs from touchables. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_volume_manager_8h_source.html#l00042">Geant4VolumeManager.h:42</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a2ebfed15148432bab44c58ce3c7a0a95"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a2ebfed15148432bab44c58ce3c7a0a95">DD4hep::Simulation::Geant4SensDetActionSequence::m_process</a></div><div class="ttdeci">CallbackSequence m_process</div><div class="ttdoc">Callback sequence for step processing. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00298">Geant4SensDetAction.h:298</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a59c1e52c811f9385da294c0b18704ab1"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a59c1e52c811f9385da294c0b18704ab1">DD4hep::Simulation::Geant4SensDetActionSequence::begin</a></div><div class="ttdeci">virtual void begin(G4HCofThisEvent *hce)</div><div class="ttdoc">G4VSensitiveDetector interface: Method invoked at the begining of each event. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00369">Geant4SensDetAction.cpp:369</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a54a242570db8df04bcf260d2e0ea3018"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a54a242570db8df04bcf260d2e0ea3018">DD4hep::Simulation::Geant4Sensitive::adoptFilter</a></div><div class="ttdeci">void adoptFilter(Geant4Action *filter)</div><div class="ttdoc">Add an actor responding to all callbacks. Sequence takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00112">Geant4SensDetAction.cpp:112</a></div></div>
<div class="ttc" id="class_g4_v_sensitive_detector_html"><div class="ttname"><a href="class_g4_v_sensitive_detector.html">G4VSensitiveDetector</a></div><div class="ttdoc">Class of the Geant4 toolkit. See http://www-geant4.kek.jp/Reference. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_classes_8h_source.html#l00048">Geant4Classes.h:48</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_monte_carlo_truth.html">DD4hep::Simulation::Geant4MonteCarloTruth</a></div><div class="ttdoc">Default Interface class to handle monte carlo truth records. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_monte_carlo_truth_8h_source.html#l00044">Geant4MonteCarloTruth.h:44</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a49d2a794d7824475b7bac71d7342306b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a49d2a794d7824475b7bac71d7342306b">DD4hep::Simulation::Geant4Sensitive::collection</a></div><div class="ttdeci">HitCollection * collection(size_t which)</div><div class="ttdoc">Retrieve the hits collection associated with this detector by its serial number. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00175">Geant4SensDetAction.cpp:175</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_ab2bab9282950af33d3e14e3f0d5864fd"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ab2bab9282950af33d3e14e3f0d5864fd">DD4hep::Simulation::Geant4SensDetActionSequence::clear</a></div><div class="ttdeci">virtual void clear()</div><div class="ttdoc">G4VSensitiveDetector interface: Method invoked if the event was aborted. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00394">Geant4SensDetAction.cpp:394</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences_html_a6f27557827175da8f038b84959cb109d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a6f27557827175da8f038b84959cb109d">DD4hep::Simulation::Geant4SensDetSequences::~Geant4SensDetSequences</a></div><div class="ttdeci">virtual ~Geant4SensDetSequences()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00404">Geant4SensDetAction.cpp:404</a></div></div>
<div class="ttc" id="struct_d_d4hep_1_1_instance_count_html_a5053617b5c5083ea3b7d8f306c9a3933"><div class="ttname"><a href="struct_d_d4hep_1_1_instance_count.html#a5053617b5c5083ea3b7d8f306c9a3933">DD4hep::InstanceCount::decrement</a></div><div class="ttdeci">static void decrement(T *)</div><div class="ttdoc">Decrement count according to type information. </div><div class="ttdef"><b>Definition:</b> <a href="_instance_count_8h_source.html#l00104">InstanceCount.h:104</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a0e8473bdb136ab4eae734fd3305b4f05"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a0e8473bdb136ab4eae734fd3305b4f05">DD4hep::Simulation::Geant4SensDetActionSequence::~Geant4SensDetActionSequence</a></div><div class="ttdeci">virtual ~Geant4SensDetActionSequence()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00255">Geant4SensDetAction.cpp:255</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences_html_a5a78304dcb1472bf7a7de1b4305a264f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a5a78304dcb1472bf7a7de1b4305a264f">DD4hep::Simulation::Geant4SensDetSequences::Geant4SensDetSequences</a></div><div class="ttdeci">Geant4SensDetSequences()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00400">Geant4SensDetAction.cpp:400</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html">DD4hep::Simulation::Geant4ActionSD</a></div><div class="ttdoc">Interface class to access properties of the underlying Geant4 sensitive detector structure. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00060">Geant4SensDetAction.h:60</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a452bc5bf7c03c8b546d3459ba7bf7e36"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a452bc5bf7c03c8b546d3459ba7bf7e36">DD4hep::Simulation::Geant4SensDetActionSequence::process</a></div><div class="ttdeci">virtual bool process(G4Step *step, G4TouchableHistory *hist)</div><div class="ttdoc">Function to process hits. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00354">Geant4SensDetAction.cpp:354</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_aac3aec612736d0521670ca2e7b1305bd"><div class="ttname"><a href="namespace_d_d4hep.html#aac3aec612736d0521670ca2e7b1305bd">DD4hep::typeName</a></div><div class="ttdeci">std::string typeName(const std::type_info &amp;type)</div><div class="ttdoc">ABI information about type names. </div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8cpp_source.html#l00187">Primitives.cpp:187</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a88c872b79e49e399c8ee282960c2d77d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a88c872b79e49e399c8ee282960c2d77d">DD4hep::Simulation::Geant4Sensitive::defineCollections</a></div><div class="ttdeci">virtual void defineCollections()</div><div class="ttdoc">Define collections created by this sensitivie action object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00185">Geant4SensDetAction.cpp:185</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a5878271f8da03d02bf4b3b8145246775"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5878271f8da03d02bf4b3b8145246775">DD4hep::Simulation::Geant4SensDetActionSequence::updateContext</a></div><div class="ttdeci">virtual void updateContext(Geant4Context *ctxt)</div><div class="ttdoc">Set or update client context. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00264">Geant4SensDetAction.cpp:264</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_filter_html_a9473fedf4d296dd044a9310a9da57bb4"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a9473fedf4d296dd044a9310a9da57bb4">DD4hep::Simulation::Geant4Filter::Geant4Filter</a></div><div class="ttdeci">Geant4Filter(Geant4Context *context, const std::string &amp;name)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00073">Geant4SensDetAction.cpp:73</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_container_html_a9e52e2e6655f19963fc07b86cc483928"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_container.html#a9e52e2e6655f19963fc07b86cc483928">DD4hep::Simulation::Geant4ActionContainer::sensitiveAction</a></div><div class="ttdeci">Geant4SensDetActionSequence * sensitiveAction(const std::string &amp;name)</div><div class="ttdoc">Access to the sensitive detector action from the actioncontainer object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_container_8cpp_source.html#l00145">Geant4ActionContainer.cpp:145</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_ac2b994581eab7aad3b5473ac416f65fd"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ac2b994581eab7aad3b5473ac416f65fd">DD4hep::Simulation::Geant4SensDetActionSequence::HitCollection</a></div><div class="ttdeci">std::pair&lt; std::string, std::pair&lt; Geant4Sensitive *, create_t &gt; &gt; HitCollection</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00287">Geant4SensDetAction.h:287</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_aa9d87f0ec2a72b7fc2591b18f98d75cf"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#aa9d87f0ec2a72b7fc2591b18f98d75cf">DD4hep::Simulation::Geant4Action::context</a></div><div class="ttdeci">Geant4Context * context() const</div><div class="ttdoc">Access the context. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8h_source.html#l00267">Geant4Action.h:267</a></div></div>
<div class="ttc" id="_volumes_8cpp_html_a17ca6bfc8040d695d3cada22a4763d40"><div class="ttname"><a href="_volumes_8cpp.html#a17ca6bfc8040d695d3cada22a4763d40">s</a></div><div class="ttdeci">TGeoShape * s</div><div class="ttdef"><b>Definition:</b> <a href="_volumes_8cpp_source.html#l00295">Volumes.cpp:295</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html">DD4hep::Simulation::Geant4StepHandler</a></div><div class="ttdoc">Helper class to ease the extraction of information from a G4Step object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_step_handler_8h_source.html#l00047">Geant4StepHandler.h:47</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_l_c_d_d_html_af476b8241b93e82350ec1e5cbf145941"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html#af476b8241b93e82350ec1e5cbf145941">DD4hep::Geometry::LCDD::sensitiveDetector</a></div><div class="ttdeci">virtual SensitiveDetector sensitiveDetector(const std::string &amp;name) const =0</div><div class="ttdoc">Retrieve a sensitive detector by it&amp;#39;s name from the detector description. </div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler_html_a087079e78925eeaedf2e20c394c5c820"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html#a087079e78925eeaedf2e20c394c5c820">DD4hep::Simulation::Geant4StepHandler::prePosG4</a></div><div class="ttdeci">const G4ThreeVector &amp; prePosG4() const</div><div class="ttdoc">Returns the pre-step position as a G4ThreeVector. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_step_handler_8h_source.html#l00086">Geant4StepHandler.h:86</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_sensitive_detector_html_afe67bf4bb87340757c66a68fb410bf94"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#afe67bf4bb87340757c66a68fb410bf94">DD4hep::Geometry::SensitiveDetector::setType</a></div><div class="ttdeci">SensitiveDetector &amp; setType(const std::string &amp;typ)</div><div class="ttdoc">Set detector type (structure, tracker, calorimeter, etc.). </div><div class="ttdef"><b>Definition:</b> <a href="_detector_8cpp_source.html#l00426">Detector.cpp:426</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_sensitive_detector_html_ad79f39c5b360f7ecf2341de990131eb2"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_sensitive_detector.html#ad79f39c5b360f7ecf2341de990131eb2">DD4hep::Geometry::SensitiveDetector::readout</a></div><div class="ttdeci">Readout readout() const</div><div class="ttdoc">Access readout structure of the sensitive detector. </div><div class="ttdef"><b>Definition:</b> <a href="_detector_8cpp_source.html#l00443">Detector.cpp:443</a></div></div>
<div class="ttc" id="_geant4_volume_manager_8h_html"><div class="ttname"><a href="_geant4_volume_manager_8h.html">Geant4VolumeManager.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html_a4374827bf9949372b0e79fb952b186d7"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a4374827bf9949372b0e79fb952b186d7">DD4hep::Simulation::Geant4Context::kernel</a></div><div class="ttdeci">Geant4Kernel &amp; kernel() const</div><div class="ttdoc">Access to the kernel object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8h_source.html#l00198">Geant4Context.h:198</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_ab7817460de763632e629982ca4c2c847"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ab7817460de763632e629982ca4c2c847">DD4hep::Simulation::Geant4Sensitive::m_segmentation</a></div><div class="ttdeci">Segmentation m_segmentation</div><div class="ttdoc">Reference to segmentation. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00146">Geant4SensDetAction.h:146</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_aafc865d1ca6e2120609997e96eb68440"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aafc865d1ca6e2120609997e96eb68440">DD4hep::Simulation::Geant4Sensitive::hitCollectionName</a></div><div class="ttdeci">const std::string &amp; hitCollectionName(size_t which) const</div><div class="ttdoc">Access HitCollection container names. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00170">Geant4SensDetAction.cpp:170</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_ada2869ec6bcb9674eaa29f7e1c215729"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ada2869ec6bcb9674eaa29f7e1c215729">DD4hep::Simulation::Geant4Sensitive::~Geant4Sensitive</a></div><div class="ttdeci">virtual ~Geant4Sensitive()</div><div class="ttdoc">Standard destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00105">Geant4SensDetAction.cpp:105</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a4c35959bba4b7d3f05a8aa48970be68a"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a4c35959bba4b7d3f05a8aa48970be68a">DD4hep::Simulation::Geant4SensDetActionSequence::m_detector</a></div><div class="ttdeci">Geant4ActionSD * m_detector</div><div class="ttdoc">Reference to G4 sensitive detector. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00311">Geant4SensDetAction.h:311</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_afc56b9a8666f9fe594516436f7fdd4e0"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#afc56b9a8666f9fe594516436f7fdd4e0">DD4hep::Simulation::Geant4Sensitive::m_sensitiveDetector</a></div><div class="ttdeci">Geant4ActionSD * m_sensitiveDetector</div><div class="ttdoc">Reference to G4 sensitive detector. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00130">Geant4SensDetAction.h:130</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_a5cdb706a8dea3dea288b5b9f65398c1d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a5cdb706a8dea3dea288b5b9f65398c1d">DD4hep::Simulation::Geant4Action::m_context</a></div><div class="ttdeci">Geant4Context * m_context</div><div class="ttdoc">Reference to the Geant4 context. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8h_source.html#l00092">Geant4Action.h:92</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_aa3af85c443979428311f932af57473fd"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa3af85c443979428311f932af57473fd">DD4hep::Simulation::Geant4SensDetActionSequence::accept</a></div><div class="ttdeci">bool accept(const G4Step *step) const</div><div class="ttdoc">Callback before hit processing starts. Invoke all filters. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00348">Geant4SensDetAction.cpp:348</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a480029ca979ac872688986da731930b8"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a480029ca979ac872688986da731930b8">DD4hep::Simulation::Geant4SensDetActionSequence::m_sensitive</a></div><div class="ttdeci">SensitiveDetector m_sensitive</div><div class="ttdoc">Reference to the sensitive detector element. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00309">Geant4SensDetAction.h:309</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_readout_html_ab6e80a6f84cef69b5b567fb46ece6fab"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_readout.html#ab6e80a6f84cef69b5b567fb46ece6fab">DD4hep::Geometry::Readout::segmentation</a></div><div class="ttdeci">Segmentation segmentation() const</div><div class="ttdoc">Access segmentation structure. </div><div class="ttdef"><b>Definition:</b> <a href="_readout_8cpp_source.html#l00131">Readout.cpp:131</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_a643d67cdbd95090fbcc93cdd3e4a8ad8"><div class="ttname"><a href="namespace_d_d4hep.html#a643d67cdbd95090fbcc93cdd3e4a8ad8">DD4hep::format</a></div><div class="ttdeci">std::string format(const std::string &amp;src, const std::string &amp;fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="_printout_8cpp_source.html#l00247">Printout.cpp:247</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html"><div class="ttname"><a href="namespace_d_d4hep.html">DD4hep</a></div><div class="ttdoc">Namespace for the AIDA detector description toolkit. </div><div class="ttdef"><b>Definition:</b> <a href="_alignments_8cpp_source.html#l00027">Alignments.cpp:27</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_ad45d2c806dd89d1434ba8eec35b87843"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ad45d2c806dd89d1434ba8eec35b87843">DD4hep::Simulation::Geant4Sensitive::collectionByID</a></div><div class="ttdeci">HitCollection * collectionByID(size_t id)</div><div class="ttdoc">Retrieve the hits collection associated with this detector by its collection identifier. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00180">Geant4SensDetAction.cpp:180</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html">DD4hep::Simulation::Geant4Sensitive</a></div><div class="ttdoc">The base class for Geant4 sensitive detector actions implemented by users. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00110">Geant4SensDetAction.h:110</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a7c98977dbb602b8053f21ff8e36f925d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7c98977dbb602b8053f21ff8e36f925d">DD4hep::Simulation::Geant4Sensitive::m_sequence</a></div><div class="ttdeci">Geant4SensDetActionSequence * m_sequence</div><div class="ttdoc">Reference to the containing action sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00132">Geant4SensDetAction.h:132</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a5d720697074ed4775143ebdae2073a16"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a5d720697074ed4775143ebdae2073a16">DD4hep::Simulation::Geant4SensDetActionSequence::m_clear</a></div><div class="ttdeci">CallbackSequence m_clear</div><div class="ttdoc">Callback sequence to invoke the event deletion. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00300">Geant4SensDetAction.h:300</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a38dc5d69581c1acf08eb7aed152cf3f6"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a38dc5d69581c1acf08eb7aed152cf3f6">DD4hep::Simulation::Geant4Sensitive::adopt_front</a></div><div class="ttdeci">void adopt_front(Geant4Filter *filter)</div><div class="ttdoc">Add an actor responding to all callbacks to the sequence front. Sequence takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00134">Geant4SensDetAction.cpp:134</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a2967b095e6c32ae82f68a8b25a086c86"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a2967b095e6c32ae82f68a8b25a086c86">DD4hep::Simulation::Geant4Sensitive::begin</a></div><div class="ttdeci">virtual void begin(G4HCofThisEvent *hce)</div><div class="ttdoc">G4VSensitiveDetector interface: Method invoked at the begining of each event. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00189">Geant4SensDetAction.cpp:189</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_filter_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html">DD4hep::Simulation::Geant4Filter</a></div><div class="ttdoc">Base class to construct filters for Geant4 sensitive detectors. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00094">Geant4SensDetAction.h:94</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_aec1bfe9ac838d359d9e3948118b5c42d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aec1bfe9ac838d359d9e3948118b5c42d">DD4hep::Simulation::Geant4Sensitive::detector</a></div><div class="ttdeci">Geant4ActionSD &amp; detector() const</div><div class="ttdoc">Access to the sensitive detector object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00155">Geant4SensDetAction.cpp:155</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a9aa1270e3fb490a4ebe511343903d72f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a9aa1270e3fb490a4ebe511343903d72f">DD4hep::Simulation::Geant4Sensitive::volumeID</a></div><div class="ttdeci">long long int volumeID(const G4Step *step)</div><div class="ttdoc">Returns the volumeID of the sensitive volume corresponding to the step. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00218">Geant4SensDetAction.cpp:218</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a7a64aa4c2cd4c410962f951bd47d2116"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a7a64aa4c2cd4c410962f951bd47d2116">DD4hep::Simulation::Geant4SensDetActionSequence::m_hce</a></div><div class="ttdeci">G4HCofThisEvent * m_hce</div><div class="ttdoc">Geant4 hit collection context. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00292">Geant4SensDetAction.h:292</a></div></div>
<div class="ttc" id="_printout_8h_html"><div class="ttname"><a href="_printout_8h.html">Printout.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a2b7944c785413b2a479f4ba4ad2e1515"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a2b7944c785413b2a479f4ba4ad2e1515">DD4hep::Simulation::Geant4SensDetActionSequence::end</a></div><div class="ttdeci">virtual void end(G4HCofThisEvent *hce)</div><div class="ttdoc">G4VSensitiveDetector interface: Method invoked at the end of each event. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00382">Geant4SensDetAction.cpp:382</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_abf90df73db256488940810101fd63a8a"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#abf90df73db256488940810101fd63a8a">DD4hep::Simulation::Geant4Action::addRef</a></div><div class="ttdeci">long addRef()</div><div class="ttdoc">Increase reference count. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8cpp_source.html#l00075">Geant4Action.cpp:75</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a1e79173455ccff4d70cd1325b26ad3e9"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a1e79173455ccff4d70cd1325b26ad3e9">DD4hep::Simulation::Geant4Sensitive::cellID</a></div><div class="ttdeci">long long int cellID(const G4Step *step)</div><div class="ttdoc">Returns the cellID of the sensitive volume corresponding to the step. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00226">Geant4SensDetAction.cpp:226</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_ae8f783b4958cb90097b5735e5351591e"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ae8f783b4958cb90097b5735e5351591e">DD4hep::Simulation::Geant4SensDetActionSequence::collection</a></div><div class="ttdeci">Geant4HitCollection * collection(size_t which) const</div><div class="ttdoc">Retrieve the hits collection associated with this detector by its serial number. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00326">Geant4SensDetAction.cpp:326</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html_a6dc64861f400429806fd23845b9e6f97"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a6dc64861f400429806fd23845b9e6f97">DD4hep::Simulation::Geant4Context::sensitiveActions</a></div><div class="ttdeci">Geant4SensDetSequences &amp; sensitiveActions() const</div><div class="ttdoc">Access to the sensitive detector sequences from the kernel object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8cpp_source.html#l00136">Geant4Context.cpp:136</a></div></div>
<div class="ttc" id="_geant4_sens_det_action_8h_html"><div class="ttname"><a href="_geant4_sens_det_action_8h.html">Geant4SensDetAction.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a8b5b7e0dff9d8fcb154b646e1618821f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a8b5b7e0dff9d8fcb154b646e1618821f">DD4hep::Simulation::Geant4Sensitive::m_detector</a></div><div class="ttdeci">DetElement m_detector</div><div class="ttdoc">Reference to the detector element describing this sensitive element. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00140">Geant4SensDetAction.h:140</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler_html_a8724fb0d717e73716f12a30a851a6b3f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html#a8724fb0d717e73716f12a30a851a6b3f">DD4hep::Simulation::Geant4StepHandler::postPosG4</a></div><div class="ttdeci">const G4ThreeVector &amp; postPosG4() const</div><div class="ttdoc">Returns the post-step position as a G4ThreeVector. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_step_handler_8h_source.html#l00095">Geant4StepHandler.h:95</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_af8a5bb0d0ca25965a5cc7d6f9b34b469"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af8a5bb0d0ca25965a5cc7d6f9b34b469">DD4hep::Simulation::Geant4SensDetActionSequence::Geant4SensDetActionSequence</a></div><div class="ttdeci">Geant4SensDetActionSequence(Geant4Context *context, const std::string &amp;name)</div><div class="ttdoc">Standard constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00242">Geant4SensDetAction.cpp:242</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_aac4f3a911f3818516bfb54a5b2bbef39"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#aac4f3a911f3818516bfb54a5b2bbef39">DD4hep::Simulation::Geant4Sensitive::setDetector</a></div><div class="ttdeci">void setDetector(Geant4ActionSD *sens_det)</div><div class="ttdoc">Access to the sensitive detector object. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00150">Geant4SensDetAction.cpp:150</a></div></div>
<div class="ttc" id="_handle_8h_html_a08afad35cf0adf291d0975d6ea251bdf"><div class="ttname"><a href="_handle_8h.html#a08afad35cf0adf291d0975d6ea251bdf">MM_2_CM</a></div><div class="ttdeci">#define MM_2_CM</div><div class="ttdef"><b>Definition:</b> <a href="_handle_8h_source.html#l00035">Handle.h:35</a></div></div>
<div class="ttc" id="_geant4_monte_carlo_truth_8h_html"><div class="ttname"><a href="_geant4_monte_carlo_truth_8h.html">Geant4MonteCarloTruth.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_event_html_a9484d88af250ffabccc8d717b6055ef7"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_event.html#a9484d88af250ffabccc8d717b6055ef7">DD4hep::Simulation::Geant4Event::extension</a></div><div class="ttdeci">T * extension(bool alert=true)</div><div class="ttdoc">Access to type safe extension object. Exception is thrown if the object is invalid. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8h_source.html#l00157">Geant4Context.h:157</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a8feceb005db2ea028c4a778dd600b00b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a8feceb005db2ea028c4a778dd600b00b">DD4hep::Simulation::Geant4SensDetActionSequence::m_begin</a></div><div class="ttdeci">CallbackSequence m_begin</div><div class="ttdoc">Callback sequence for event initialization action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00294">Geant4SensDetAction.h:294</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_volume_manager_html_aa23614d7ae201b1e9b9a2f39a3cc5026"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_volume_manager.html#aa23614d7ae201b1e9b9a2f39a3cc5026">DD4hep::Simulation::Geant4VolumeManager::volumeID</a></div><div class="ttdeci">VolumeID volumeID(const PlacementPath &amp;path) const</div><div class="ttdoc">Access CELLID by placement path. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_volume_manager_8cpp_source.html#l00223">Geant4VolumeManager.cpp:223</a></div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_simulation_html"><div class="ttname"><a href="namespace_d_d4hep_1_1_simulation.html">DD4hep::Simulation</a></div><div class="ttdoc">Namespace for the Geant4 based simulation part of the AIDA detector description toolkit. </div><div class="ttdef"><b>Definition:</b> <a href="_d_d_g4_dict_8h_source.html#l00034">DDG4Dict.h:34</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html_a47f2c31d7ddd7a9890c6a58e19a32b99"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a47f2c31d7ddd7a9890c6a58e19a32b99">DD4hep::Simulation::Geant4Context::event</a></div><div class="ttdeci">Geant4Event &amp; event() const</div><div class="ttdoc">Access the geant4 event – valid only between BeginEvent() and EndEvent()! </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8cpp_source.html#l00082">Geant4Context.cpp:82</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d_html_ac0539610b17b20d10592201b1eb0755d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#ac0539610b17b20d10592201b1eb0755d">DD4hep::Simulation::Geant4ActionSD::GetCollectionID</a></div><div class="ttdeci">virtual G4int GetCollectionID(G4int i)=0</div><div class="ttdoc">This is a utility method which returns the hits collection ID. </div></div>
<div class="ttc" id="_instance_count_8h_html"><div class="ttname"><a href="_instance_count_8h.html">InstanceCount.h</a></div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_geometry_html_a55083902099d03506c6db01b80404900"><div class="ttname"><a href="namespace_d_d4hep_1_1_geometry.html#a55083902099d03506c6db01b80404900">DD4hep::Geometry::Position</a></div><div class="ttdeci">ROOT::Math::XYZVector Position</div><div class="ttdef"><b>Definition:</b> <a href="_objects_8h_source.html#l00075">Objects.h:75</a></div></div>
<div class="ttc" id="namespace_d_d4hep_html_af72014aac51cad36a418913e989a34fe"><div class="ttname"><a href="namespace_d_d4hep.html#af72014aac51cad36a418913e989a34fe">DD4hep::releaseObjects</a></div><div class="ttdeci">void releaseObjects(M &amp;m)</div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8h_source.html#l00344">Primitives.h:344</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a02ba3b720aadf6e230b6c2c0cd258b2b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a02ba3b720aadf6e230b6c2c0cd258b2b">DD4hep::Simulation::Geant4Sensitive::m_sensitive</a></div><div class="ttdeci">SensitiveDetector m_sensitive</div><div class="ttdoc">Reference to the sensitive detector element. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00142">Geant4SensDetAction.h:142</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a496cf61e393c9c2f096f60a4ee20c750affa871d1db60d0783987ac12ad64663f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a496cf61e393c9c2f096f60a4ee20c750affa871d1db60d0783987ac12ad64663f">DD4hep::Simulation::Geant4Sensitive::SIMPLE_MODE</a></div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00123">Geant4SensDetAction.h:123</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_adf93b5f5979f9d289aa09f0909a5bd7d"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#adf93b5f5979f9d289aa09f0909a5bd7d">DD4hep::Simulation::Geant4SensDetActionSequence::hitCollectionName</a></div><div class="ttdeci">const std::string &amp; hitCollectionName(size_t which) const</div><div class="ttdoc">Access HitCollection container names. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00316">Geant4SensDetAction.cpp:316</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_hit_collection.html">DD4hep::Simulation::Geant4HitCollection</a></div><div class="ttdoc">Generic hit container class using Geant4HitWrapper objects. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_hit_collection_8h_source.html#l00201">Geant4HitCollection.h:201</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences_html_ad30860ebb23e7fbbaf18c8a7194ae6cc"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#ad30860ebb23e7fbbaf18c8a7194ae6cc">DD4hep::Simulation::Geant4SensDetSequences::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Clear the sequence list. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00440">Geant4SensDetAction.cpp:440</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a460ae8107334780c1c69982c7b054e41"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a460ae8107334780c1c69982c7b054e41">DD4hep::Simulation::Geant4Sensitive::sequence</a></div><div class="ttdeci">Geant4SensDetActionSequence &amp; sequence() const</div><div class="ttdoc">Access to the hosting sequence. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00165">Geant4SensDetAction.cpp:165</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_a4d64f5159d58c4a43d74d0ddd0a695ba"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a4d64f5159d58c4a43d74d0ddd0a695ba">DD4hep::Simulation::Geant4Action::m_needsControl</a></div><div class="ttdeci">bool m_needsControl</div><div class="ttdoc">Default property: Flag to create control instance. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8h_source.html#l00099">Geant4Action.h:99</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html">DD4hep::Simulation::Geant4SensDetActionSequence</a></div><div class="ttdoc">The sequencer to host Geant4 sensitive actions called if particles interact with sensitive elements...</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00282">Geant4SensDetAction.h:282</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_filter_html_a2fdb09d7018165b25034b37fa8eb9930"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a2fdb09d7018165b25034b37fa8eb9930">DD4hep::Simulation::Geant4Filter::~Geant4Filter</a></div><div class="ttdeci">virtual ~Geant4Filter()</div><div class="ttdoc">Standard destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00079">Geant4SensDetAction.cpp:79</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a58c74511f9bef97e83b5a7e54b4917ca"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a58c74511f9bef97e83b5a7e54b4917ca">DD4hep::Simulation::Geant4SensDetActionSequence::m_collections</a></div><div class="ttdeci">HitCollections m_collections</div><div class="ttdoc">Hit collection creators. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00307">Geant4SensDetAction.h:307</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_mapping_html_a1109a515d9cbac6d58760b647e3272d2"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_mapping.html#a1109a515d9cbac6d58760b647e3272d2">DD4hep::Simulation::Geant4Mapping::volumeManager</a></div><div class="ttdeci">Geant4VolumeManager volumeManager() const</div><div class="ttdoc">Access the volume manager. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_mapping_8cpp_source.html#l00072">Geant4Mapping.cpp:72</a></div></div>
<div class="ttc" id="struct_d_d4hep_1_1_instance_count_html_aaaf8d46a477863acc69b65afbab96b22"><div class="ttname"><a href="struct_d_d4hep_1_1_instance_count.html#aaaf8d46a477863acc69b65afbab96b22">DD4hep::InstanceCount::increment</a></div><div class="ttdeci">static void increment(T *)</div><div class="ttdoc">Increment count according to type information. </div><div class="ttdef"><b>Definition:</b> <a href="_instance_count_8h_source.html#l00100">InstanceCount.h:100</a></div></div>
<div class="ttc" id="_primitives_8h_html"><div class="ttname"><a href="_primitives_8h.html">Primitives.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_af610d10bd4b9a699b7d8b4179b0de946"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#af610d10bd4b9a699b7d8b4179b0de946">DD4hep::Simulation::Geant4SensDetActionSequence::defineCollection</a></div><div class="ttdeci">size_t defineCollection(Geant4Sensitive *owner, const std::string &amp;name, create_t func)</div><div class="ttdoc">Initialize the usage of a hit collection. Returns the collection identifier. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00297">Geant4SensDetAction.cpp:297</a></div></div>
<div class="ttc" id="_geant4_mapping_8h_html"><div class="ttname"><a href="_geant4_mapping_8h.html">Geant4Mapping.h</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a15a09899c6ec50b8d14f4543362d9c91"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a15a09899c6ec50b8d14f4543362d9c91">DD4hep::Simulation::Geant4SensDetActionSequence::m_end</a></div><div class="ttdeci">CallbackSequence m_end</div><div class="ttdoc">Callback sequence for event finalization action. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00296">Geant4SensDetAction.h:296</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a923ce4e474920fab8d2c7c6762e82ef4"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a923ce4e474920fab8d2c7c6762e82ef4">DD4hep::Simulation::Geant4Sensitive::adoptFilter_front</a></div><div class="ttdeci">void adoptFilter_front(Geant4Action *filter)</div><div class="ttdoc">Add an actor responding to all callbacks to the sequence front. Sequence takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00128">Geant4SensDetAction.cpp:128</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_det_element_html"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_det_element.html">DD4hep::Geometry::DetElement</a></div><div class="ttdoc">Handle class describing a detector element. </div><div class="ttdef"><b>Definition:</b> <a href="_detector_8h_source.html#l00172">Detector.h:172</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_segmentation_html_a39785430e3bf6f2de6df12f94cdcafe1"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_segmentation.html#a39785430e3bf6f2de6df12f94cdcafe1">DD4hep::Geometry::Segmentation::cellID</a></div><div class="ttdeci">long64 cellID(const Position &amp;localPosition, const Position &amp;globalPosition, const long64 &amp;volumeID) const</div><div class="ttdoc">determine the cell ID based on the local position </div><div class="ttdef"><b>Definition:</b> <a href="_segmentations_8cpp_source.html#l00071">Segmentations.cpp:71</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a5dd1e49bfcc1937ad6dc302f969ee544"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a5dd1e49bfcc1937ad6dc302f969ee544">DD4hep::Simulation::Geant4Sensitive::mark</a></div><div class="ttdeci">void mark(const G4Track *track) const</div><div class="ttdoc">Mark the track to be kept for MC truth propagation during hit processing. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00206">Geant4SensDetAction.cpp:206</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences_html_adee9e588585b3a8079dc40b1fd171b3c"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#adee9e588585b3a8079dc40b1fd171b3c">DD4hep::Simulation::Geant4SensDetSequences::find</a></div><div class="ttdeci">Geant4SensDetActionSequence * find(const std::string &amp;name) const</div><div class="ttdoc">Access sequence member by name. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00419">Geant4SensDetAction.cpp:419</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html_a209ec3ce0935cf5ac3734626c2eca1d3"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html#a209ec3ce0935cf5ac3734626c2eca1d3">DD4hep::Simulation::Geant4Context::lcdd</a></div><div class="ttdeci">Geometry::LCDD &amp; lcdd() const</div><div class="ttdoc">Access to detector description. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8cpp_source.html#l00089">Geant4Context.cpp:89</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d_html_a535bbf839314d7cdaf37c42712ea96b6"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#a535bbf839314d7cdaf37c42712ea96b6">DD4hep::Simulation::Geant4ActionSD::~Geant4ActionSD</a></div><div class="ttdeci">virtual ~Geant4ActionSD()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00068">Geant4SensDetAction.cpp:68</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a67b12a0e51d5249be593f874182155ab"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a67b12a0e51d5249be593f874182155ab">DD4hep::Simulation::Geant4SensDetActionSequence::m_filters</a></div><div class="ttdeci">Actors&lt; Geant4Filter &gt; m_filters</div><div class="ttdoc">The list of sensitive detector filter objects. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00304">Geant4SensDetAction.h:304</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_context_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_context.html">DD4hep::Simulation::Geant4Context</a></div><div class="ttdoc">Generic context to extend user, run and event information. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_context_8h_source.html#l00168">Geant4Context.h:168</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_ac39e0e8880a309942194e9f1b84af5a1"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac39e0e8880a309942194e9f1b84af5a1">DD4hep::Simulation::Geant4Sensitive::accept</a></div><div class="ttdeci">bool accept(const G4Step *step) const</div><div class="ttdoc">Callback before hit processing starts. Invoke all filters. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00144">Geant4SensDetAction.cpp:144</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_a01437840682e0edbee69d11c99f73b5f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#a01437840682e0edbee69d11c99f73b5f">DD4hep::Simulation::Geant4SensDetActionSequence::adopt</a></div><div class="ttdeci">void adopt(Geant4Sensitive *sensitive)</div><div class="ttdoc">Add an actor responding to all callbacks. Sequence takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00277">Geant4SensDetAction.cpp:277</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a3bb1c2f79261a98e83ec22102281d117"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a3bb1c2f79261a98e83ec22102281d117">DD4hep::Simulation::Geant4Sensitive::clear</a></div><div class="ttdeci">virtual void clear(G4HCofThisEvent *hce)</div><div class="ttdoc">G4VSensitiveDetector interface: Method invoked if the event was aborted. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00202">Geant4SensDetAction.cpp:202</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a0dca1438c83ccee54eb9458bf12220b1"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a0dca1438c83ccee54eb9458bf12220b1">DD4hep::Simulation::Geant4Sensitive::m_hitCreationMode</a></div><div class="ttdeci">int m_hitCreationMode</div><div class="ttdoc">Property: Hit creation mode. Maybe one of the enum HitCreationFlags. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00136">Geant4SensDetAction.h:136</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_ac1a68f5a62579041a301c8f3b3389175"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#ac1a68f5a62579041a301c8f3b3389175">DD4hep::Simulation::Geant4Sensitive::adopt</a></div><div class="ttdeci">void adopt(Geant4Filter *filter)</div><div class="ttdoc">Add an actor responding to all callbacks. Sequence takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00118">Geant4SensDetAction.cpp:118</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences_html_a94c88487954aa5877af76b61d5f5ed20"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#a94c88487954aa5877af76b61d5f5ed20">DD4hep::Simulation::Geant4SensDetSequences::insert</a></div><div class="ttdeci">void insert(const std::string &amp;name, Geant4SensDetActionSequence *seq)</div><div class="ttdoc">Insert sequence member. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00428">Geant4SensDetAction.cpp:428</a></div></div>
<div class="ttc" id="namespace_d_d4hep_1_1_d_d_segmentation_html_a61a6833a18d1800bdef176595f83e3ba"><div class="ttname"><a href="namespace_d_d4hep_1_1_d_d_segmentation.html#a61a6833a18d1800bdef176595f83e3ba">DD4hep::DDSegmentation::VolumeID</a></div><div class="ttdeci">long long int VolumeID</div><div class="ttdef"><b>Definition:</b> <a href="_primitives_8h_source.html#l00035">Primitives.h:35</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_geometry_1_1_l_c_d_d_html"><div class="ttname"><a href="class_d_d4hep_1_1_geometry_1_1_l_c_d_d.html">DD4hep::Geometry::LCDD</a></div><div class="ttdoc">The main interface to the DD4hep detector description package. </div><div class="ttdef"><b>Definition:</b> <a href="_l_c_d_d_8h_source.html#l00091">LCDD.h:91</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_aa383f58ddce351dc9df9451bee3feb0f"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#aa383f58ddce351dc9df9451bee3feb0f">DD4hep::Simulation::Geant4SensDetActionSequence::m_actors</a></div><div class="ttdeci">Actors&lt; Geant4Sensitive &gt; m_actors</div><div class="ttdoc">The list of sensitive detector objects. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00302">Geant4SensDetAction.h:302</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence_html_ae387c8632412ef9eec6ed9767d3ea01b"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_action_sequence.html#ae387c8632412ef9eec6ed9767d3ea01b">DD4hep::Simulation::Geant4SensDetActionSequence::adoptFilter</a></div><div class="ttdeci">void adoptFilter(Geant4Action *filter)</div><div class="ttdoc">Add an actor responding to all callbacks. Sequence takes ownership. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00271">Geant4SensDetAction.cpp:271</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler_html_ad2ab7468011fc1d570e24345d458b7fc"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_step_handler.html#ad2ab7468011fc1d570e24345d458b7fc">DD4hep::Simulation::Geant4StepHandler::preTouchable</a></div><div class="ttdeci">const G4VTouchable * preTouchable() const</div><div class="ttdef"><b>Definition:</b> <a href="_geant4_step_handler_8h_source.html#l00159">Geant4StepHandler.h:159</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences_html_ad3d42dda04a3f8ae499fcb098d818098"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sens_det_sequences.html#ad3d42dda04a3f8ae499fcb098d818098">DD4hep::Simulation::Geant4SensDetSequences::operator[]</a></div><div class="ttdeci">Geant4SensDetActionSequence * operator[](const std::string &amp;name) const</div><div class="ttdoc">Access sequence member by name. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00410">Geant4SensDetAction.cpp:410</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_handle_html_a7e69d51e089a24a1773603dfa3fe5eac"><div class="ttname"><a href="class_d_d4hep_1_1_handle.html#a7e69d51e089a24a1773603dfa3fe5eac">DD4hep::Handle::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Check the validity of the object held by the handle. </div><div class="ttdef"><b>Definition:</b> <a href="_handle_8h_source.html#l00124">Handle.h:124</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive_html_a7486440af0fb52c3ab233544262d2c95"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_sensitive.html#a7486440af0fb52c3ab233544262d2c95">DD4hep::Simulation::Geant4Sensitive::m_filters</a></div><div class="ttdeci">Actors&lt; Geant4Filter &gt; m_filters</div><div class="ttdoc">The list of sensitive detector filter objects. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8h_source.html#l00148">Geant4SensDetAction.h:148</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_mapping_html_affbc609db47e67ea60b84e61a41c00b6"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_mapping.html#affbc609db47e67ea60b84e61a41c00b6">DD4hep::Simulation::Geant4Mapping::instance</a></div><div class="ttdeci">static Geant4Mapping &amp; instance()</div><div class="ttdoc">Possibility to define a singleton instance. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_mapping_8cpp_source.html#l00038">Geant4Mapping.cpp:38</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html_a51be57d542edbba2b5e4a53a7fea6315"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html#a51be57d542edbba2b5e4a53a7fea6315">DD4hep::Simulation::Geant4Action::declareProperty</a></div><div class="ttdeci">Geant4Action &amp; declareProperty(const std::string &amp;nam, T &amp;val)</div><div class="ttdoc">Declare property. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8h_source.html#l00364">Geant4Action.h:364</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_html"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action.html">DD4hep::Simulation::Geant4Action</a></div><div class="ttdoc">Default base class for all Geant 4 actions and derivates thereof. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_action_8h_source.html#l00089">Geant4Action.h:89</a></div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d_html_acb227bd17a6f30d5df564a4d19f3f8a2"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_action_s_d.html#acb227bd17a6f30d5df564a4d19f3f8a2">DD4hep::Simulation::Geant4ActionSD::defineCollection</a></div><div class="ttdeci">virtual size_t defineCollection(const std::string &amp;name)=0</div><div class="ttdoc">Initialize the usage of a hit collection. Returns the collection identifier. </div></div>
<div class="ttc" id="class_d_d4hep_1_1_simulation_1_1_geant4_filter_html_a373f84ddcbefe180daa058050b6cf753"><div class="ttname"><a href="class_d_d4hep_1_1_simulation_1_1_geant4_filter.html#a373f84ddcbefe180daa058050b6cf753">DD4hep::Simulation::Geant4Filter::operator()</a></div><div class="ttdeci">virtual bool operator()(const G4Step *step) const</div><div class="ttdoc">Filter action. Return true if hits should be processed. </div><div class="ttdef"><b>Definition:</b> <a href="_geant4_sens_det_action_8cpp_source.html#l00084">Geant4SensDetAction.cpp:84</a></div></div>
</div><!-- fragment --></div><!-- contents -->

<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 14 2016 16:16:56 for DD4hep by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
