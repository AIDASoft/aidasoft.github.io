\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action}{
\section{DD4hep::Simulation::Geant4InputAction Class Reference}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action}\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
}


Generic input action capable of using the \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_event_reader}{Geant4EventReader} class.  


{\ttfamily \#include $<$Geant4InputAction.h$>$}Inheritance diagram for DD4hep::Simulation::Geant4InputAction::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3cm]{class_d_d4hep_1_1_simulation_1_1_geant4_input_action}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_vertex}{Geant4Vertex} \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a0bcc23935dc55574b02d9ee4514eabc8}{Vertex}
\item 
typedef \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle}{Geant4Particle} \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ab8d227297b50dec5cb769635da56deec}{Particle}
\item 
typedef std::vector$<$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle}{Particle} $\ast$ $>$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ae62b1f5e1be390991dd228e7bb7bcc04}{Particles}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ad49c027669964d9a522eb60a6cffe4c4}{readParticles} (int event\_\-number, \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_vertex}{Vertex} \&primary\_\-vertex, \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ae62b1f5e1be390991dd228e7bb7bcc04}{Particles} \&particles)
\begin{DoxyCompactList}\small\item\em Read an event and return a LCCollectionVec of MCParticles. \item\end{DoxyCompactList}\item 
std::string \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a8a9e4f7130f7c4fe504a8124e3b461df}{issue} (int i) const 
\begin{DoxyCompactList}\small\item\em helper to report Geant4 exceptions \item\end{DoxyCompactList}\item 
\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a01a47921dd4a3a2d2c56fb108cbb7d6f}{Geant4InputAction} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4Context} $\ast$context, const std::string \&name)
\begin{DoxyCompactList}\small\item\em Standard constructor. \item\end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a82b07efc96d11b7dfacb36c718d41c26}{$\sim$Geant4InputAction} ()
\begin{DoxyCompactList}\small\item\em Default destructor. \item\end{DoxyCompactList}\item 
\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ae62b1f5e1be390991dd228e7bb7bcc04}{Particles} $\ast$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a02f251581f79344e42e1298ecb2812bb}{new\_\-particles} () const 
\begin{DoxyCompactList}\small\item\em Create particle vector. \item\end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_abda8423a68e04eec20eb52c01883c0ba}{operator()} (G4Event $\ast$event)
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} to generate primary particles. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std::string \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ac104781f934d0a6737dba78a2dfa6931}{m\_\-input}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_property}{Property}: input file. \item\end{DoxyCompactList}\item 
int \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a461a33c7eb46401092940394d40d99d7}{m\_\-firstEvent}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_property}{Property}: SYNCEVT. \item\end{DoxyCompactList}\item 
int \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a850fdde95d63db4a76929fbda7ccf35e}{m\_\-mask}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_property}{Property}; interaction mask. \item\end{DoxyCompactList}\item 
double \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a1227cac9486e4a389da69f7078b93637}{m\_\-momScale}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_property}{Property}: Momentum downscaler for debugging. \item\end{DoxyCompactList}\item 
\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_event_reader}{Geant4EventReader} $\ast$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a68fd56256e10008e15de70d07797456c}{m\_\-reader}
\begin{DoxyCompactList}\small\item\em Event reader object. \item\end{DoxyCompactList}\item 
int \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a4b4cae1c79483e6f32ad70671984e422}{m\_\-currentEventNumber}
\begin{DoxyCompactList}\small\item\em current event number without initially skipped events \item\end{DoxyCompactList}\item 
bool \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a87b795b22ac455154122b4f210abf133}{m\_\-abort}
\begin{DoxyCompactList}\small\item\em Flag to call abortEvent in case of failure (default: true). \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Generic input action capable of using the \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_event_reader}{Geant4EventReader} class. Concrete implementation of the Geant4 generator action base class populating Geant4 primaries from Geant4 and HepStd files.

\begin{DoxyAuthor}{Author}
P.Kostka (main author) 

M.Frank (code reshuffeling into new DDG4 scheme) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.0 
\end{DoxyVersion}


Definition at line 107 of file Geant4InputAction.h.

\subsection{Member Typedef Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ab8d227297b50dec5cb769635da56deec}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!Particle@{Particle}}
\index{Particle@{Particle}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{Particle}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Geant4Particle} {\bf DD4hep::Simulation::Geant4InputAction::Particle}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ab8d227297b50dec5cb769635da56deec}


Definition at line 111 of file Geant4InputAction.h.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ae62b1f5e1be390991dd228e7bb7bcc04}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!Particles@{Particles}}
\index{Particles@{Particles}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{Particles}]{\setlength{\rightskip}{0pt plus 5cm}typedef std::vector$<${\bf Particle}$\ast$$>$ {\bf DD4hep::Simulation::Geant4InputAction::Particles}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ae62b1f5e1be390991dd228e7bb7bcc04}


Definition at line 112 of file Geant4InputAction.h.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a0bcc23935dc55574b02d9ee4514eabc8}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!Vertex@{Vertex}}
\index{Vertex@{Vertex}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{Vertex}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Geant4Vertex} {\bf DD4hep::Simulation::Geant4InputAction::Vertex}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a0bcc23935dc55574b02d9ee4514eabc8}


Definition at line 110 of file Geant4InputAction.h.

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a01a47921dd4a3a2d2c56fb108cbb7d6f}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!Geant4InputAction@{Geant4InputAction}}
\index{Geant4InputAction@{Geant4InputAction}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{Geant4InputAction}]{\setlength{\rightskip}{0pt plus 5cm}DD4hep::Simulation::Geant4InputAction::Geant4InputAction ({\bf Geant4Context} $\ast$ {\em context}, \/  const std::string \& {\em name})}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a01a47921dd4a3a2d2c56fb108cbb7d6f}


Standard constructor. \hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a82b07efc96d11b7dfacb36c718d41c26}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!$\sim$Geant4InputAction@{$\sim$Geant4InputAction}}
\index{$\sim$Geant4InputAction@{$\sim$Geant4InputAction}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{$\sim$Geant4InputAction}]{\setlength{\rightskip}{0pt plus 5cm}Geant4InputAction::$\sim$Geant4InputAction ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a82b07efc96d11b7dfacb36c718d41c26}


Default destructor. 

Definition at line 92 of file Geant4InputAction.cpp.

\subsection{Member Function Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a8a9e4f7130f7c4fe504a8124e3b461df}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!issue@{issue}}
\index{issue@{issue}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{issue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf string} Geant4InputAction::issue (int {\em i}) const}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a8a9e4f7130f7c4fe504a8124e3b461df}


helper to report Geant4 exceptions 

Definition at line 96 of file Geant4InputAction.cpp.

References DD4hep::Simulation::Geant4Action::name().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a02f251581f79344e42e1298ecb2812bb}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!new\_\-particles@{new\_\-particles}}
\index{new\_\-particles@{new\_\-particles}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{new\_\-particles}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Particles}$\ast$ DD4hep::Simulation::Geant4InputAction::new\_\-particles () const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a02f251581f79344e42e1298ecb2812bb}


Create particle vector. 

Definition at line 140 of file Geant4InputAction.h.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_abda8423a68e04eec20eb52c01883c0ba}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!operator()@{operator()}}
\index{operator()@{operator()}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{operator()}]{\setlength{\rightskip}{0pt plus 5cm}void Geant4InputAction::operator() (G4Event $\ast$ {\em event})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_abda8423a68e04eec20eb52c01883c0ba}


\hyperlink{class_d_d4hep_1_1_callback}{Callback} to generate primary particles. 

Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_ac5a1d2335a19e3f9d555081199e01801}{DD4hep::Simulation::Geant4GeneratorAction}.

Definition at line 158 of file Geant4InputAction.cpp.

References DD4hep::Simulation::Geant4PrimaryEvent::add(), DD4hep::Simulation::Geant4Action::context(), DD4hep::Simulation::Geant4ParticleHandle::dumpWithMomentumAndVertex(), DD4hep::Simulation::Geant4Context::event(), DD4hep::Simulation::Geant4EventReader::EVENT\_\-READER\_\-OK, DD4hep::Simulation::Geant4Event::extension(), DD4hep::Simulation::G4PARTICLE\_\-GEN\_\-DOCUMENTATION, DD4hep::Simulation::G4PARTICLE\_\-GEN\_\-EMPTY, DD4hep::Simulation::Geant4Vertex::in, DD4hep::ReferenceBitMask$<$ T $>$::isSet(), m\_\-currentEventNumber, m\_\-mask, m\_\-momScale, DD4hep::Simulation::Geant4Action::name(), DD4hep::Simulation::Geant4Vertex::out, DD4hep::Simulation::Geant4Action::outputLevel(), DD4hep::Simulation::Geant4PrimaryInteraction::particles, DD4hep::Simulation::Geant4Action::print(), readParticles(), DD4hep::Simulation::HepMC::vertex(), and DD4hep::Simulation::Geant4PrimaryInteraction::vertices.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ad49c027669964d9a522eb60a6cffe4c4}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!readParticles@{readParticles}}
\index{readParticles@{readParticles}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{readParticles}]{\setlength{\rightskip}{0pt plus 5cm}int DD4hep::Simulation::Geant4InputAction::readParticles (int {\em event\_\-number}, \/  {\bf Vertex} \& {\em primary\_\-vertex}, \/  {\bf Particles} \& {\em particles})}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ad49c027669964d9a522eb60a6cffe4c4}


Read an event and return a LCCollectionVec of MCParticles. 

Referenced by operator()().

\subsection{Member Data Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a87b795b22ac455154122b4f210abf133}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!m\_\-abort@{m\_\-abort}}
\index{m\_\-abort@{m\_\-abort}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{m\_\-abort}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf DD4hep::Simulation::Geant4InputAction::m\_\-abort}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a87b795b22ac455154122b4f210abf133}


Flag to call abortEvent in case of failure (default: true). 

Definition at line 127 of file Geant4InputAction.h.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a4b4cae1c79483e6f32ad70671984e422}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!m\_\-currentEventNumber@{m\_\-currentEventNumber}}
\index{m\_\-currentEventNumber@{m\_\-currentEventNumber}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{m\_\-currentEventNumber}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf DD4hep::Simulation::Geant4InputAction::m\_\-currentEventNumber}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a4b4cae1c79483e6f32ad70671984e422}


current event number without initially skipped events 

Definition at line 125 of file Geant4InputAction.h.

Referenced by operator()().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a461a33c7eb46401092940394d40d99d7}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!m\_\-firstEvent@{m\_\-firstEvent}}
\index{m\_\-firstEvent@{m\_\-firstEvent}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{m\_\-firstEvent}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf DD4hep::Simulation::Geant4InputAction::m\_\-firstEvent}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a461a33c7eb46401092940394d40d99d7}


\hyperlink{class_d_d4hep_1_1_property}{Property}: SYNCEVT. 

Definition at line 117 of file Geant4InputAction.h.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ac104781f934d0a6737dba78a2dfa6931}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!m\_\-input@{m\_\-input}}
\index{m\_\-input@{m\_\-input}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{m\_\-input}]{\setlength{\rightskip}{0pt plus 5cm}std::string {\bf DD4hep::Simulation::Geant4InputAction::m\_\-input}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_ac104781f934d0a6737dba78a2dfa6931}


\hyperlink{class_d_d4hep_1_1_property}{Property}: input file. 

Definition at line 115 of file Geant4InputAction.h.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a850fdde95d63db4a76929fbda7ccf35e}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!m\_\-mask@{m\_\-mask}}
\index{m\_\-mask@{m\_\-mask}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{m\_\-mask}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf DD4hep::Simulation::Geant4InputAction::m\_\-mask}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a850fdde95d63db4a76929fbda7ccf35e}


\hyperlink{class_d_d4hep_1_1_property}{Property}; interaction mask. 

Definition at line 119 of file Geant4InputAction.h.

Referenced by operator()().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a1227cac9486e4a389da69f7078b93637}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!m\_\-momScale@{m\_\-momScale}}
\index{m\_\-momScale@{m\_\-momScale}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{m\_\-momScale}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf DD4hep::Simulation::Geant4InputAction::m\_\-momScale}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a1227cac9486e4a389da69f7078b93637}


\hyperlink{class_d_d4hep_1_1_property}{Property}: Momentum downscaler for debugging. 

Definition at line 121 of file Geant4InputAction.h.

Referenced by operator()().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a68fd56256e10008e15de70d07797456c}{
\index{DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}!m\_\-reader@{m\_\-reader}}
\index{m\_\-reader@{m\_\-reader}!DD4hep::Simulation::Geant4InputAction@{DD4hep::Simulation::Geant4InputAction}}
\subsubsection[{m\_\-reader}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Geant4EventReader}$\ast$ {\bf DD4hep::Simulation::Geant4InputAction::m\_\-reader}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_input_action_a68fd56256e10008e15de70d07797456c}


Event reader object. 

Definition at line 123 of file Geant4InputAction.h.

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDG4/include/DDG4/\hyperlink{_geant4_input_action_8h}{Geant4InputAction.h}\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDG4/src/\hyperlink{_geant4_input_action_8cpp}{Geant4InputAction.cpp}\end{DoxyCompactItemize}
