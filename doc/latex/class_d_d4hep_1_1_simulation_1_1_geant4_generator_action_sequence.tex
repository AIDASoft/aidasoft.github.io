\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence}{}\section{D\+D4hep\+:\+:Simulation\+:\+:Geant4\+Generator\+Action\+Sequence Class Reference}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence}\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}


Concrete implementation of the Geant4 generator action sequence.  




{\ttfamily \#include $<$Geant4\+Generator\+Action.\+h$>$}

Inheritance diagram for D\+D4hep\+:\+:Simulation\+:\+:Geant4\+Generator\+Action\+Sequence\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a6a4cf73b83a5ad8f5fb5d2101511dc89}{Geant4\+Generator\+Action\+Sequence} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_aa9d87f0ec2a72b7fc2591b18f98d75cf}{context}, const std\+::string \&\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_af374e70b014d16afb81dd9d77cc3894b}{name})
\begin{DoxyCompactList}\small\item\em Standard constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a69d6b2986aeafa1e9951700f4d023455}{$\sim$\+Geant4\+Generator\+Action\+Sequence} ()
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a52b0d18dd3c29e1b1e133d9e1c73284b}{update\+Context} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$ctxt)
\begin{DoxyCompactList}\small\item\em Set or update client context. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a0ba4324a4f977eb12057e789eaf44f07}{configure\+Fiber} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$thread\+\_\+context)
\begin{DoxyCompactList}\small\item\em Set or update client for the use in a new thread fiber. \end{DoxyCompactList}\item 
\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action}{Geant4\+Generator\+Action} $\ast$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_ae304cfc52197b4c0c95e38ffe072a801}{get} (const std\+::string \&\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_af374e70b014d16afb81dd9d77cc3894b}{name}) const
\begin{DoxyCompactList}\small\item\em Get an action by name. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Q , typename T $>$ }\\void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_acec7af6b593bd3e1105abea622ea7127}{call} (Q $\ast$p, void(T\+::$\ast$f)(G4\+Event $\ast$))
\begin{DoxyCompactList}\small\item\em Register primary particle generation callback. Types Q and \hyperlink{class_t}{T} must be polymorph! \end{DoxyCompactList}\item 
void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_ac6d847bdeeaa2b6bd46f1ae89fc15277}{adopt} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action}{Geant4\+Generator\+Action} $\ast$action)
\begin{DoxyCompactList}\small\item\em Add an actor responding to all callbacks. Sequence takes ownership. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a60e6a124a4d378fbf6a980137f5290cf}{operator()} (G4\+Event $\ast$event)
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} to generate primary particles. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_d_d4hep_1_1_callback_sequence}{Callback\+Sequence} \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a3861258f355c58bb19602e7d099c1c9e}{m\+\_\+calls}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} sequence to generate primary particles. \end{DoxyCompactList}\item 
Actors$<$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action}{Geant4\+Generator\+Action} $>$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a89614165b2d4cf32bbed637abca203d1}{m\+\_\+actors}
\begin{DoxyCompactList}\small\item\em The list of action objects to be called. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Concrete implementation of the Geant4 generator action sequence. 

The sequence dispatches the callbacks at the beginning of an event to all registered \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action}{Geant4\+Generator\+Action} members and all registered callbacks.

The callback signature is\+: void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a60e6a124a4d378fbf6a980137f5290cf}{operator()(\+G4\+Event$\ast$ event)}

Note Multi-\/\+Threading issue\+: Neither callbacks not the action list is protected against multiple threads calling the Geant4 callbacks! These must be protected in the user actions themselves.

\begin{DoxyAuthor}{Author}
M.\+Frank 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


Definition at line 110 of file Geant4\+Generator\+Action.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a6a4cf73b83a5ad8f5fb5d2101511dc89}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a6a4cf73b83a5ad8f5fb5d2101511dc89} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!Geant4\+Generator\+Action\+Sequence@{Geant4\+Generator\+Action\+Sequence}}
\index{Geant4\+Generator\+Action\+Sequence@{Geant4\+Generator\+Action\+Sequence}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{Geant4\+Generator\+Action\+Sequence()}{Geant4GeneratorActionSequence()}}
{\footnotesize\ttfamily Geant4\+Generator\+Action\+Sequence\+::\+Geant4\+Generator\+Action\+Sequence (\begin{DoxyParamCaption}\item[{\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$}]{context,  }\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})}



Standard constructor. 



Definition at line 81 of file Geant4\+Generator\+Action.\+cpp.



References D\+D4hep\+::\+Instance\+Count\+::increment(), and D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::m\+\_\+needs\+Control.

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a69d6b2986aeafa1e9951700f4d023455}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a69d6b2986aeafa1e9951700f4d023455} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!````~Geant4\+Generator\+Action\+Sequence@{$\sim$\+Geant4\+Generator\+Action\+Sequence}}
\index{````~Geant4\+Generator\+Action\+Sequence@{$\sim$\+Geant4\+Generator\+Action\+Sequence}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{$\sim$\+Geant4\+Generator\+Action\+Sequence()}{~Geant4GeneratorActionSequence()}}
{\footnotesize\ttfamily Geant4\+Generator\+Action\+Sequence\+::$\sim$\+Geant4\+Generator\+Action\+Sequence (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Default destructor. 



Definition at line 88 of file Geant4\+Generator\+Action.\+cpp.



References D\+D4hep\+::\+Callback\+Sequence\+::clear(), D\+D4hep\+::\+Instance\+Count\+::decrement(), m\+\_\+actors, m\+\_\+calls, and D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::release().



\subsection{Member Function Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_ac6d847bdeeaa2b6bd46f1ae89fc15277}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_ac6d847bdeeaa2b6bd46f1ae89fc15277} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!adopt@{adopt}}
\index{adopt@{adopt}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{adopt()}{adopt()}}
{\footnotesize\ttfamily void Geant4\+Generator\+Action\+Sequence\+::adopt (\begin{DoxyParamCaption}\item[{\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action}{Geant4\+Generator\+Action} $\ast$}]{action }\end{DoxyParamCaption})}



Add an actor responding to all callbacks. Sequence takes ownership. 



Definition at line 112 of file Geant4\+Generator\+Action.\+cpp.



References D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::add\+Ref(), and m\+\_\+actors.



Referenced by D\+D4hep\+::\+Converter$<$ T, A\+R\+G $>$\+::operator()().

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_acec7af6b593bd3e1105abea622ea7127}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_acec7af6b593bd3e1105abea622ea7127} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!call@{call}}
\index{call@{call}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{call()}{call()}}
{\footnotesize\ttfamily template$<$typename Q , typename T $>$ \\
void D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence\+::call (\begin{DoxyParamCaption}\item[{Q $\ast$}]{p,  }\item[{void(T\+::$\ast$)(G4\+Event $\ast$)}]{f }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Register primary particle generation callback. Types Q and \hyperlink{class_t}{T} must be polymorph! 



Definition at line 129 of file Geant4\+Generator\+Action.\+h.



References D\+D4hep\+::\+Callback\+Sequence\+::add(), and D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+::operator()().



Referenced by D\+D4hep\+::\+Converter$<$ T, A\+R\+G $>$\+::operator()().

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a0ba4324a4f977eb12057e789eaf44f07}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a0ba4324a4f977eb12057e789eaf44f07} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!configure\+Fiber@{configure\+Fiber}}
\index{configure\+Fiber@{configure\+Fiber}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{configure\+Fiber()}{configureFiber()}}
{\footnotesize\ttfamily void Geant4\+Generator\+Action\+Sequence\+::configure\+Fiber (\begin{DoxyParamCaption}\item[{\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$}]{thread\+\_\+context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Set or update client for the use in a new thread fiber. 



Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_a6adc7138508303e4e417cb48a737ab19}{D\+D4hep\+::\+Simulation\+::\+Geant4\+Action}.



Definition at line 102 of file Geant4\+Generator\+Action.\+cpp.



References D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::configure\+Fiber(), and m\+\_\+actors.

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_ae304cfc52197b4c0c95e38ffe072a801}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_ae304cfc52197b4c0c95e38ffe072a801} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!get@{get}}
\index{get@{get}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action}{Geant4\+Generator\+Action} $\ast$ Geant4\+Generator\+Action\+Sequence\+::get (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption}) const}



Get an action by name. 



Definition at line 107 of file Geant4\+Generator\+Action.\+cpp.



References m\+\_\+actors, dd4hep\+::second, and D\+D4hep\+::\+Simulation\+::\+Type\+Name\+::split().

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a60e6a124a4d378fbf6a980137f5290cf}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a60e6a124a4d378fbf6a980137f5290cf} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!operator()@{operator()}}
\index{operator()@{operator()}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily void Geant4\+Generator\+Action\+Sequence\+::operator() (\begin{DoxyParamCaption}\item[{G4\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



\hyperlink{class_d_d4hep_1_1_callback}{Callback} to generate primary particles. 

Generator callback. 

Definition at line 123 of file Geant4\+Generator\+Action.\+cpp.



References m\+\_\+actors, and m\+\_\+calls.

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a52b0d18dd3c29e1b1e133d9e1c73284b}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a52b0d18dd3c29e1b1e133d9e1c73284b} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!update\+Context@{update\+Context}}
\index{update\+Context@{update\+Context}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{update\+Context()}{updateContext()}}
{\footnotesize\ttfamily void Geant4\+Generator\+Action\+Sequence\+::update\+Context (\begin{DoxyParamCaption}\item[{\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$}]{ctxt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Set or update client context. 



Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_ae3b9daf2af881df956c46568c0743313}{D\+D4hep\+::\+Simulation\+::\+Geant4\+Action}.



Definition at line 96 of file Geant4\+Generator\+Action.\+cpp.



References m\+\_\+actors, and D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::m\+\_\+context.



\subsection{Member Data Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a89614165b2d4cf32bbed637abca203d1}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a89614165b2d4cf32bbed637abca203d1} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!m\+\_\+actors@{m\+\_\+actors}}
\index{m\+\_\+actors@{m\+\_\+actors}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{m\+\_\+actors}{m\_actors}}
{\footnotesize\ttfamily Actors$<$\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action}{Geant4\+Generator\+Action}$>$ D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence\+::m\+\_\+actors\hspace{0.3cm}{\ttfamily [protected]}}



The list of action objects to be called. 



Definition at line 115 of file Geant4\+Generator\+Action.\+h.



Referenced by adopt(), configure\+Fiber(), get(), operator()(), update\+Context(), and $\sim$\+Geant4\+Generator\+Action\+Sequence().

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a3861258f355c58bb19602e7d099c1c9e}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_generator_action_sequence_a3861258f355c58bb19602e7d099c1c9e} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}!m\+\_\+calls@{m\+\_\+calls}}
\index{m\+\_\+calls@{m\+\_\+calls}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence}}
\subsubsection{\texorpdfstring{m\+\_\+calls}{m\_calls}}
{\footnotesize\ttfamily \hyperlink{struct_d_d4hep_1_1_callback_sequence}{Callback\+Sequence} D\+D4hep\+::\+Simulation\+::\+Geant4\+Generator\+Action\+Sequence\+::m\+\_\+calls\hspace{0.3cm}{\ttfamily [protected]}}



\hyperlink{class_d_d4hep_1_1_callback}{Callback} sequence to generate primary particles. 



Definition at line 113 of file Geant4\+Generator\+Action.\+h.



Referenced by operator()(), and $\sim$\+Geant4\+Generator\+Action\+Sequence().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/afs/cern.\+ch/user/m/mpetric/nightly\+\_\+cppcheck/dd4hep/\+D\+D\+G4/include/\+D\+D\+G4/\hyperlink{_geant4_generator_action_8h}{Geant4\+Generator\+Action.\+h}\item 
/afs/cern.\+ch/user/m/mpetric/nightly\+\_\+cppcheck/dd4hep/\+D\+D\+G4/src/\hyperlink{_geant4_generator_action_8cpp}{Geant4\+Generator\+Action.\+cpp}\end{DoxyCompactItemize}
