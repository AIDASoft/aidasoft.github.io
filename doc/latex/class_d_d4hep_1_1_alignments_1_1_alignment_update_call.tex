\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call}{
\section{DD4hep::Alignments::AlignmentUpdateCall Class Reference}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call}\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
}


Specialized conditions update callback for alignment condition objects.  


{\ttfamily \#include $<$AlignmentUpdateCall.h$>$}Inheritance diagram for DD4hep::Alignments::AlignmentUpdateCall::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{class_d_d4hep_1_1_alignments_1_1_alignment_update_call}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition}{Conditions::Condition} \hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_ac41c367dd7b7027a76d7b691223927fd}{Condition}
\item 
typedef \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition_key}{Conditions::ConditionKey} \hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a3c759edb169218bd8bc3b1c15d8af2e0}{ConditionKey}
\item 
typedef \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition_update_context}{Conditions::ConditionUpdateContext} \hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a648c995a6ab187911c79a687c8df0fa9}{UpdateContext}
\item 
typedef \hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_data}{Alignments::AlignmentData} \hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_af07241d13f0759c3a94c4589463cfb1b}{Data}
\item 
typedef \hyperlink{class_d_d4hep_1_1_alignments_1_1_delta}{Alignments::AlignmentData::Delta} \hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a06a6522dece2daba45cdc69c079e144c}{Delta}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_ad19c943603062f89569a8341b139025f}{AlignmentUpdateCall} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \item\end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a63a0be9ac654016954dcb1405954ac95}{$\sim$AlignmentUpdateCall} ()
\begin{DoxyCompactList}\small\item\em Default destructor. \item\end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition}{Condition} \hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a1180d2f8d62c0607b86c87853c7eeeb5}{operator()} (const \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition_key}{ConditionKey} \&key, const \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition_update_context}{UpdateContext} \&context)=0
\begin{DoxyCompactList}\small\item\em Interface to client \hyperlink{class_d_d4hep_1_1_callback}{Callback} in order to update the condition. To be overloaded by sub-\/class. \item\end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition}{Condition} \hyperlink{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a5f99eaf1be2d8307eb53f54d570a5ab6}{handle} (const \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition_key}{ConditionKey} \&key, const \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition_update_context}{UpdateContext} \&context, const \hyperlink{class_d_d4hep_1_1_alignments_1_1_delta}{Delta} \&delta)
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} to build the alignment conditions object and assign the delta. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Specialized conditions update callback for alignment condition objects. Used by clients to update an alignment condition. The input data, a condition with an AbstractMap data structure containing the alignment delta data.

The condition must be fully computed in two steps:
\begin{DoxyItemize}
\item firstly it is created here and the alignment delta copied.
\item secondly, once all updates are processed, the world-\/transformations for the alignment object(s) are computed by the AlignmentManager objects. The AlignmentManager also keeps track of newly created alignment conditions and is informed in the callback.
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
M.Frank 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.0 
\end{DoxyVersion}


Definition at line 46 of file AlignmentUpdateCall.h.

\subsection{Member Typedef Documentation}
\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_ac41c367dd7b7027a76d7b691223927fd}{
\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}!Condition@{Condition}}
\index{Condition@{Condition}!DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
\subsubsection[{Condition}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Conditions::Condition} {\bf DD4hep::Alignments::AlignmentUpdateCall::Condition}}}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_ac41c367dd7b7027a76d7b691223927fd}


Definition at line 48 of file AlignmentUpdateCall.h.\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a3c759edb169218bd8bc3b1c15d8af2e0}{
\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}!ConditionKey@{ConditionKey}}
\index{ConditionKey@{ConditionKey}!DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
\subsubsection[{ConditionKey}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Conditions::ConditionKey} {\bf DD4hep::Alignments::AlignmentUpdateCall::ConditionKey}}}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a3c759edb169218bd8bc3b1c15d8af2e0}


Definition at line 49 of file AlignmentUpdateCall.h.\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_af07241d13f0759c3a94c4589463cfb1b}{
\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}!Data@{Data}}
\index{Data@{Data}!DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
\subsubsection[{Data}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Alignments::AlignmentData} {\bf DD4hep::Alignments::AlignmentUpdateCall::Data}}}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_af07241d13f0759c3a94c4589463cfb1b}


Definition at line 51 of file AlignmentUpdateCall.h.\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a06a6522dece2daba45cdc69c079e144c}{
\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}!Delta@{Delta}}
\index{Delta@{Delta}!DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
\subsubsection[{Delta}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Alignments::AlignmentData::Delta} {\bf DD4hep::Alignments::AlignmentUpdateCall::Delta}}}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a06a6522dece2daba45cdc69c079e144c}


Definition at line 52 of file AlignmentUpdateCall.h.\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a648c995a6ab187911c79a687c8df0fa9}{
\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}!UpdateContext@{UpdateContext}}
\index{UpdateContext@{UpdateContext}!DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
\subsubsection[{UpdateContext}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Conditions::ConditionUpdateContext} {\bf DD4hep::Alignments::AlignmentUpdateCall::UpdateContext}}}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a648c995a6ab187911c79a687c8df0fa9}


Definition at line 50 of file AlignmentUpdateCall.h.

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_ad19c943603062f89569a8341b139025f}{
\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}!AlignmentUpdateCall@{AlignmentUpdateCall}}
\index{AlignmentUpdateCall@{AlignmentUpdateCall}!DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
\subsubsection[{AlignmentUpdateCall}]{\setlength{\rightskip}{0pt plus 5cm}AlignmentUpdateCall::AlignmentUpdateCall ()}}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_ad19c943603062f89569a8341b139025f}


Default constructor. 

Definition at line 23 of file AlignmentUpdateCall.cpp.\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a63a0be9ac654016954dcb1405954ac95}{
\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}!$\sim$AlignmentUpdateCall@{$\sim$AlignmentUpdateCall}}
\index{$\sim$AlignmentUpdateCall@{$\sim$AlignmentUpdateCall}!DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
\subsubsection[{$\sim$AlignmentUpdateCall}]{\setlength{\rightskip}{0pt plus 5cm}AlignmentUpdateCall::$\sim$AlignmentUpdateCall ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a63a0be9ac654016954dcb1405954ac95}


Default destructor. 

Definition at line 28 of file AlignmentUpdateCall.cpp.

\subsection{Member Function Documentation}
\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a5f99eaf1be2d8307eb53f54d570a5ab6}{
\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}!handle@{handle}}
\index{handle@{handle}!DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
\subsubsection[{handle}]{\setlength{\rightskip}{0pt plus 5cm}{\bf AlignmentUpdateCall::Condition} AlignmentUpdateCall::handle (const {\bf ConditionKey} \& {\em key}, \/  const {\bf UpdateContext} \& {\em context}, \/  const {\bf Delta} \& {\em delta})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a5f99eaf1be2d8307eb53f54d570a5ab6}


\hyperlink{class_d_d4hep_1_1_callback}{Callback} to build the alignment conditions object and assign the delta. Please Note: We MUST register the undigested condition to the alignment manager in order to later be able to compute the derived transformations. The derived transfomrations can only be computed 'later' once ALL delta stubs of a given consisten set of alignment transactions are present. The trafo computation must take place in a second pass. This is necessary, because the parent information may actually be supplied also 'later'.

We also cannot do this is some 'generic' way, because the delta is provided outside and may very well depend on the extrnal database technology used to save conditions. 

Definition at line 32 of file AlignmentUpdateCall.cpp.

References DD4hep::Alignments::AlignmentCondition::data(), DD4hep::Alignments::AlignmentData::delta, DD4hep::Conditions::ConditionUpdateContext::dependency, DD4hep::Alignments::AlignmentData::detector, DD4hep::Alignments::AlignmentData::flag, DD4hep::Alignments::AlignmentData::HAVE\_\-NONE, DD4hep::Conditions::ConditionKey::name, and DD4hep::Alignments::AlignmentsManager::newEntry().\hypertarget{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a1180d2f8d62c0607b86c87853c7eeeb5}{
\index{DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}!operator()@{operator()}}
\index{operator()@{operator()}!DD4hep::Alignments::AlignmentUpdateCall@{DD4hep::Alignments::AlignmentUpdateCall}}
\subsubsection[{operator()}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Condition} DD4hep::Alignments::AlignmentUpdateCall::operator() (const {\bf ConditionKey} \& {\em key}, \/  const {\bf UpdateContext} \& {\em context})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_alignments_1_1_alignment_update_call_a1180d2f8d62c0607b86c87853c7eeeb5}


Interface to client \hyperlink{class_d_d4hep_1_1_callback}{Callback} in order to update the condition. To be overloaded by sub-\/class. 

Implements \hyperlink{class_d_d4hep_1_1_conditions_1_1_condition_update_call_adc561aca8c6bf851e0ee53f719b26a44}{DD4hep::Conditions::ConditionUpdateCall}.

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDAlign/include/DDAlign/\hyperlink{_alignment_update_call_8h}{AlignmentUpdateCall.h}\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDAlign/src/\hyperlink{_alignment_update_call_8cpp}{AlignmentUpdateCall.cpp}\end{DoxyCompactItemize}
