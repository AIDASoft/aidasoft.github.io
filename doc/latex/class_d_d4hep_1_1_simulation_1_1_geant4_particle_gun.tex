\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun}{
\section{DD4hep::Simulation::Geant4ParticleGun Class Reference}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun}\index{DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}}
}


Implementation of a particle gun using Geant4Particles.  


{\ttfamily \#include $<$Geant4ParticleGun.h$>$}Inheritance diagram for DD4hep::Simulation::Geant4ParticleGun::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5cm]{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a294f495235fd5fa6f6a949f0657f0e0e}{Geant4ParticleGun} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4Context} $\ast$context, const std::string \&name)
\begin{DoxyCompactList}\small\item\em Standard constructor. \item\end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a96f52fd8078d74c591d410facb13fe21}{$\sim$Geant4ParticleGun} ()
\begin{DoxyCompactList}\small\item\em Default destructor. \item\end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a4e68905424d21f2386d24d3cbaf795f1}{operator()} (G4Event $\ast$event)
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} to generate primary particles. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a38c98b33bbe2f7064bce8c9f4345f262}{getParticleDirection} (int, ROOT::Math::XYZVector \&direction, double \&momentum) const 
\begin{DoxyCompactList}\small\item\em Particle modification. Caller presets defaults to: ( direction = m\_\-direction, momentum = m\_\-energy). \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_aba05dc63eaf9a7f7d06932d9f66eb154}{m\_\-isotrop}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_property}{Property}: Isotrope particles? \item\end{DoxyCompactList}\item 
bool \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_af845ef9f13542031af0bf41b53a9f462}{m\_\-standalone}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_property}{Property}: Standalone mode: includes interaction merging and primary generation. \item\end{DoxyCompactList}\item 
bool \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_ac7ffd1d0ae00fc56978aef5cf7ec6b83}{m\_\-print}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_property}{Property}: Enable printout. \item\end{DoxyCompactList}\item 
int \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a385166af11357b6ec06b835b4ee8cca6}{m\_\-shotNo}
\begin{DoxyCompactList}\small\item\em Shot number in sequence. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implementation of a particle gun using Geant4Particles. The \{\{\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun}{Geant4ParticleGun}\}\} is a tool to shoot a number of particles with identical properties into a given region of the detector to be simulated.

The particle gun is a input source like any other and participates in the general input stage merging process like any other input e.g. from file. Hence, there may be several particle guns present each generating it's own primary vertex. Use the mask property to ensure each gun generates it's own, well identified primary vertex.

There is one 'user lazyness' support though: If there is only one particle gun in use, the property 'Standalone', which by default is set to true invokes the interaction merging and he Geant4 primary generation directly.

\begin{DoxyAuthor}{Author}
M.Frank 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.0 
\end{DoxyVersion}


Definition at line 48 of file Geant4ParticleGun.h.

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a294f495235fd5fa6f6a949f0657f0e0e}{
\index{DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}!Geant4ParticleGun@{Geant4ParticleGun}}
\index{Geant4ParticleGun@{Geant4ParticleGun}!DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}}
\subsubsection[{Geant4ParticleGun}]{\setlength{\rightskip}{0pt plus 5cm}DD4hep::Simulation::Geant4ParticleGun::Geant4ParticleGun ({\bf Geant4Context} $\ast$ {\em context}, \/  const std::string \& {\em name})}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a294f495235fd5fa6f6a949f0657f0e0e}


Standard constructor. \hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a96f52fd8078d74c591d410facb13fe21}{
\index{DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}!$\sim$Geant4ParticleGun@{$\sim$Geant4ParticleGun}}
\index{$\sim$Geant4ParticleGun@{$\sim$Geant4ParticleGun}!DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}}
\subsubsection[{$\sim$Geant4ParticleGun}]{\setlength{\rightskip}{0pt plus 5cm}Geant4ParticleGun::$\sim$Geant4ParticleGun ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a96f52fd8078d74c591d410facb13fe21}


Default destructor. 

Definition at line 48 of file Geant4ParticleGun.cpp.

References DD4hep::InstanceCount::decrement().

\subsection{Member Function Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a38c98b33bbe2f7064bce8c9f4345f262}{
\index{DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}!getParticleDirection@{getParticleDirection}}
\index{getParticleDirection@{getParticleDirection}!DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}}
\subsubsection[{getParticleDirection}]{\setlength{\rightskip}{0pt plus 5cm}virtual void DD4hep::Simulation::Geant4ParticleGun::getParticleDirection (int, \/  ROOT::Math::XYZVector \& {\em direction}, \/  double \& {\em momentum}) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline, protected, virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a38c98b33bbe2f7064bce8c9f4345f262}


Particle modification. Caller presets defaults to: ( direction = m\_\-direction, momentum = m\_\-energy). 

Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_isotrope_generator_af4fcebcc7a5e4c13a458200d03b07f33}{DD4hep::Simulation::Geant4IsotropeGenerator}.

Definition at line 59 of file Geant4ParticleGun.h.

References DD4hep::Simulation::Geant4ParticleGenerator::m\_\-direction, and DD4hep::Simulation::Geant4ParticleGenerator::m\_\-energy.

Referenced by operator()().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a4e68905424d21f2386d24d3cbaf795f1}{
\index{DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}!operator()@{operator()}}
\index{operator()@{operator()}!DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}}
\subsubsection[{operator()}]{\setlength{\rightskip}{0pt plus 5cm}void Geant4ParticleGun::operator() (G4Event $\ast$ {\em event})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a4e68905424d21f2386d24d3cbaf795f1}


\hyperlink{class_d_d4hep_1_1_callback}{Callback} to generate primary particles. 

Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_particle_generator_a4b7c8fdbc6fdc0c79efdf112c8ede315}{DD4hep::Simulation::Geant4ParticleGenerator}.

Definition at line 53 of file Geant4ParticleGun.cpp.

References DD4hep::Simulation::Geant4Action::context(), DD4hep::Simulation::generatePrimaries(), DD4hep::Simulation::generationInitialization(), getParticleDirection(), dd4hep::GeV, DD4hep::Simulation::Geant4ParticleGenerator::m\_\-direction, DD4hep::Simulation::Geant4ParticleGenerator::m\_\-energy, m\_\-isotrop, DD4hep::Simulation::Geant4ParticleGenerator::m\_\-mask, DD4hep::Simulation::Geant4ParticleGenerator::m\_\-particleName, DD4hep::Simulation::Geant4ParticleGenerator::m\_\-position, m\_\-print, m\_\-shotNo, m\_\-standalone, DD4hep::Simulation::mergeInteractions(), dd4hep::mm, DD4hep::Simulation::Geant4Action::print(), and DD4hep::Simulation::Geant4ParticleGenerator::printInteraction().

\subsection{Member Data Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_aba05dc63eaf9a7f7d06932d9f66eb154}{
\index{DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}!m\_\-isotrop@{m\_\-isotrop}}
\index{m\_\-isotrop@{m\_\-isotrop}!DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}}
\subsubsection[{m\_\-isotrop}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf DD4hep::Simulation::Geant4ParticleGun::m\_\-isotrop}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_aba05dc63eaf9a7f7d06932d9f66eb154}


\hyperlink{class_d_d4hep_1_1_property}{Property}: Isotrope particles? 

Definition at line 51 of file Geant4ParticleGun.h.

Referenced by operator()().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_ac7ffd1d0ae00fc56978aef5cf7ec6b83}{
\index{DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}!m\_\-print@{m\_\-print}}
\index{m\_\-print@{m\_\-print}!DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}}
\subsubsection[{m\_\-print}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf DD4hep::Simulation::Geant4ParticleGun::m\_\-print}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_ac7ffd1d0ae00fc56978aef5cf7ec6b83}


\hyperlink{class_d_d4hep_1_1_property}{Property}: Enable printout. 

Definition at line 55 of file Geant4ParticleGun.h.

Referenced by operator()().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a385166af11357b6ec06b835b4ee8cca6}{
\index{DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}!m\_\-shotNo@{m\_\-shotNo}}
\index{m\_\-shotNo@{m\_\-shotNo}!DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}}
\subsubsection[{m\_\-shotNo}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf DD4hep::Simulation::Geant4ParticleGun::m\_\-shotNo}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_a385166af11357b6ec06b835b4ee8cca6}


Shot number in sequence. 

Definition at line 57 of file Geant4ParticleGun.h.

Referenced by operator()().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_af845ef9f13542031af0bf41b53a9f462}{
\index{DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}!m\_\-standalone@{m\_\-standalone}}
\index{m\_\-standalone@{m\_\-standalone}!DD4hep::Simulation::Geant4ParticleGun@{DD4hep::Simulation::Geant4ParticleGun}}
\subsubsection[{m\_\-standalone}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf DD4hep::Simulation::Geant4ParticleGun::m\_\-standalone}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_particle_gun_af845ef9f13542031af0bf41b53a9f462}


\hyperlink{class_d_d4hep_1_1_property}{Property}: Standalone mode: includes interaction merging and primary generation. 

Definition at line 53 of file Geant4ParticleGun.h.

Referenced by operator()().

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDG4/include/DDG4/\hyperlink{_geant4_particle_gun_8h}{Geant4ParticleGun.h}\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDG4/src/\hyperlink{_geant4_particle_gun_8cpp}{Geant4ParticleGun.cpp}\end{DoxyCompactItemize}
