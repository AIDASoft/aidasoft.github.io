\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence}{}\section{D\+D4hep\+:\+:Simulation\+:\+:Geant4\+Stepping\+Action\+Sequence Class Reference}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence}\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}


Concrete implementation of the Geant4 stepping action sequence.  




{\ttfamily \#include $<$Geant4\+Stepping\+Action.\+h$>$}

Inheritance diagram for D\+D4hep\+:\+:Simulation\+:\+:Geant4\+Stepping\+Action\+Sequence\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_aa4a60d2c258df480a31085e49ebb2832}{Geant4\+Stepping\+Action\+Sequence} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_aa9d87f0ec2a72b7fc2591b18f98d75cf}{context}, const std\+::string \&\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_af374e70b014d16afb81dd9d77cc3894b}{name})
\begin{DoxyCompactList}\small\item\em Standard constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a7b7b346f45f9194e6aec6eafdde18448}{$\sim$\+Geant4\+Stepping\+Action\+Sequence} ()
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_aababd8e6f650101a6ade162f82a29f61}{update\+Context} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$ctxt)
\begin{DoxyCompactList}\small\item\em Set or update client context. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_ad5680d2d225421b9cf2cd6b530d3ab5f}{configure\+Fiber} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$thread\+\_\+context)
\begin{DoxyCompactList}\small\item\em Set or update client for the use in a new thread fiber. \end{DoxyCompactList}\item 
\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action}{Geant4\+Stepping\+Action} $\ast$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a6f059c3e7a305ce172737a4d4003b043}{get} (const std\+::string \&\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_af374e70b014d16afb81dd9d77cc3894b}{name}) const
\begin{DoxyCompactList}\small\item\em Get an action by name. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Q , typename T $>$ }\\void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a7f5c29121e2d8bb99bf2a894690c70ad}{call} (Q $\ast$p, void(T\+::$\ast$f)(const G4\+Step $\ast$, G4\+Stepping\+Manager $\ast$))
\begin{DoxyCompactList}\small\item\em Register stepping action callback. Types Q and \hyperlink{class_t}{T} must be polymorph! \end{DoxyCompactList}\item 
void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a39d7f26d436a3f512c2b467bad9d4beb}{adopt} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action}{Geant4\+Stepping\+Action} $\ast$action)
\begin{DoxyCompactList}\small\item\em Add an actor responding to all callbacks. Sequence takes ownership. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a51e1c2c59da560ac9bc6fc0d249e06dc}{operator()} (const G4\+Step $\ast$step, G4\+Stepping\+Manager $\ast$mgr)
\begin{DoxyCompactList}\small\item\em User stepping callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_d_d4hep_1_1_callback_sequence}{Callback\+Sequence} \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a336da2773a5c1c830f1b338a32a0aa7e}{m\+\_\+calls}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} sequence for user stepping action calls. \end{DoxyCompactList}\item 
Actors$<$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action}{Geant4\+Stepping\+Action} $>$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a09eb0634934bffe70733ba62589456c2}{m\+\_\+actors}
\begin{DoxyCompactList}\small\item\em The list of action objects to be called. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Concrete implementation of the Geant4 stepping action sequence. 

The sequence dispatches the callbacks for each stepping action to all registered \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action}{Geant4\+Stepping\+Action} members and all registered callbacks.

Note Multi-\/\+Threading issue\+: Neither callbacks not the action list is protected against multiple threads calling the Geant4 callbacks! These must be protected in the user actions themselves.

\begin{DoxyAuthor}{Author}
M.\+Frank 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


Definition at line 98 of file Geant4\+Stepping\+Action.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_aa4a60d2c258df480a31085e49ebb2832}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_aa4a60d2c258df480a31085e49ebb2832} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!Geant4\+Stepping\+Action\+Sequence@{Geant4\+Stepping\+Action\+Sequence}}
\index{Geant4\+Stepping\+Action\+Sequence@{Geant4\+Stepping\+Action\+Sequence}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{Geant4\+Stepping\+Action\+Sequence()}{Geant4SteppingActionSequence()}}
{\footnotesize\ttfamily Geant4\+Stepping\+Action\+Sequence\+::\+Geant4\+Stepping\+Action\+Sequence (\begin{DoxyParamCaption}\item[{\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$}]{context,  }\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})}



Standard constructor. 



Definition at line 85 of file Geant4\+Stepping\+Action.\+cpp.



References D\+D4hep\+::\+Instance\+Count\+::increment(), and D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::m\+\_\+needs\+Control.

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a7b7b346f45f9194e6aec6eafdde18448}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a7b7b346f45f9194e6aec6eafdde18448} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!````~Geant4\+Stepping\+Action\+Sequence@{$\sim$\+Geant4\+Stepping\+Action\+Sequence}}
\index{````~Geant4\+Stepping\+Action\+Sequence@{$\sim$\+Geant4\+Stepping\+Action\+Sequence}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{$\sim$\+Geant4\+Stepping\+Action\+Sequence()}{~Geant4SteppingActionSequence()}}
{\footnotesize\ttfamily Geant4\+Stepping\+Action\+Sequence\+::$\sim$\+Geant4\+Stepping\+Action\+Sequence (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Default destructor. 



Definition at line 92 of file Geant4\+Stepping\+Action.\+cpp.



References D\+D4hep\+::\+Callback\+Sequence\+::clear(), D\+D4hep\+::\+Instance\+Count\+::decrement(), m\+\_\+actors, m\+\_\+calls, and D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::release().



\subsection{Member Function Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a39d7f26d436a3f512c2b467bad9d4beb}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a39d7f26d436a3f512c2b467bad9d4beb} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!adopt@{adopt}}
\index{adopt@{adopt}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{adopt()}{adopt()}}
{\footnotesize\ttfamily void Geant4\+Stepping\+Action\+Sequence\+::adopt (\begin{DoxyParamCaption}\item[{\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action}{Geant4\+Stepping\+Action} $\ast$}]{action }\end{DoxyParamCaption})}



Add an actor responding to all callbacks. Sequence takes ownership. 



Definition at line 122 of file Geant4\+Stepping\+Action.\+cpp.



References D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::add\+Ref(), and m\+\_\+actors.



Referenced by D\+D4hep\+::\+Converter$<$ T, A\+R\+G $>$\+::operator()().

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a7f5c29121e2d8bb99bf2a894690c70ad}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a7f5c29121e2d8bb99bf2a894690c70ad} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!call@{call}}
\index{call@{call}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{call()}{call()}}
{\footnotesize\ttfamily template$<$typename Q , typename T $>$ \\
void D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence\+::call (\begin{DoxyParamCaption}\item[{Q $\ast$}]{p,  }\item[{void(T\+::$\ast$)(const G4\+Step $\ast$, G4\+Stepping\+Manager $\ast$)}]{f }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Register stepping action callback. Types Q and \hyperlink{class_t}{T} must be polymorph! 



Definition at line 118 of file Geant4\+Stepping\+Action.\+h.



References D\+D4hep\+::\+Callback\+Sequence\+::add(), and D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+::operator()().



Referenced by D\+D4hep\+::\+Simulation\+::\+Geant4\+Particle\+Handler\+::\+Geant4\+Particle\+Handler(), and D\+D4hep\+::\+Converter$<$ T, A\+R\+G $>$\+::operator()().

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_ad5680d2d225421b9cf2cd6b530d3ab5f}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_ad5680d2d225421b9cf2cd6b530d3ab5f} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!configure\+Fiber@{configure\+Fiber}}
\index{configure\+Fiber@{configure\+Fiber}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{configure\+Fiber()}{configureFiber()}}
{\footnotesize\ttfamily void Geant4\+Stepping\+Action\+Sequence\+::configure\+Fiber (\begin{DoxyParamCaption}\item[{\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$}]{thread\+\_\+context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Set or update client for the use in a new thread fiber. 



Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_a6adc7138508303e4e417cb48a737ab19}{D\+D4hep\+::\+Simulation\+::\+Geant4\+Action}.



Definition at line 100 of file Geant4\+Stepping\+Action.\+cpp.



References D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::configure\+Fiber(), and m\+\_\+actors.

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a6f059c3e7a305ce172737a4d4003b043}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a6f059c3e7a305ce172737a4d4003b043} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!get@{get}}
\index{get@{get}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action}{Geant4\+Stepping\+Action} $\ast$ Geant4\+Stepping\+Action\+Sequence\+::get (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption}) const}



Get an action by name. 



Definition at line 111 of file Geant4\+Stepping\+Action.\+cpp.



References m\+\_\+actors, dd4hep\+::second, and D\+D4hep\+::\+Simulation\+::\+Type\+Name\+::split().

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a51e1c2c59da560ac9bc6fc0d249e06dc}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a51e1c2c59da560ac9bc6fc0d249e06dc} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!operator()@{operator()}}
\index{operator()@{operator()}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily void Geant4\+Stepping\+Action\+Sequence\+::operator() (\begin{DoxyParamCaption}\item[{const G4\+Step $\ast$}]{step,  }\item[{G4\+Stepping\+Manager $\ast$}]{mgr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



User stepping callback. 

Pre-\/track action callback. 

Definition at line 116 of file Geant4\+Stepping\+Action.\+cpp.



References m\+\_\+actors, and m\+\_\+calls.

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_aababd8e6f650101a6ade162f82a29f61}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_aababd8e6f650101a6ade162f82a29f61} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!update\+Context@{update\+Context}}
\index{update\+Context@{update\+Context}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{update\+Context()}{updateContext()}}
{\footnotesize\ttfamily void Geant4\+Stepping\+Action\+Sequence\+::update\+Context (\begin{DoxyParamCaption}\item[{\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4\+Context} $\ast$}]{ctxt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Set or update client context. 



Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_ae3b9daf2af881df956c46568c0743313}{D\+D4hep\+::\+Simulation\+::\+Geant4\+Action}.



Definition at line 105 of file Geant4\+Stepping\+Action.\+cpp.



References m\+\_\+actors, and D\+D4hep\+::\+Simulation\+::\+Geant4\+Action\+::m\+\_\+context.



\subsection{Member Data Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a09eb0634934bffe70733ba62589456c2}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a09eb0634934bffe70733ba62589456c2} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!m\+\_\+actors@{m\+\_\+actors}}
\index{m\+\_\+actors@{m\+\_\+actors}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{m\+\_\+actors}{m\_actors}}
{\footnotesize\ttfamily Actors$<$\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action}{Geant4\+Stepping\+Action}$>$ D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence\+::m\+\_\+actors\hspace{0.3cm}{\ttfamily [protected]}}



The list of action objects to be called. 



Definition at line 103 of file Geant4\+Stepping\+Action.\+h.



Referenced by adopt(), configure\+Fiber(), get(), operator()(), update\+Context(), and $\sim$\+Geant4\+Stepping\+Action\+Sequence().

\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a336da2773a5c1c830f1b338a32a0aa7e}{}\label{class_d_d4hep_1_1_simulation_1_1_geant4_stepping_action_sequence_a336da2773a5c1c830f1b338a32a0aa7e} 
\index{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}!m\+\_\+calls@{m\+\_\+calls}}
\index{m\+\_\+calls@{m\+\_\+calls}!D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence@{D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence}}
\subsubsection{\texorpdfstring{m\+\_\+calls}{m\_calls}}
{\footnotesize\ttfamily \hyperlink{struct_d_d4hep_1_1_callback_sequence}{Callback\+Sequence} D\+D4hep\+::\+Simulation\+::\+Geant4\+Stepping\+Action\+Sequence\+::m\+\_\+calls\hspace{0.3cm}{\ttfamily [protected]}}



\hyperlink{class_d_d4hep_1_1_callback}{Callback} sequence for user stepping action calls. 



Definition at line 101 of file Geant4\+Stepping\+Action.\+h.



Referenced by operator()(), and $\sim$\+Geant4\+Stepping\+Action\+Sequence().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/afs/cern.\+ch/user/m/mpetric/nightly\+\_\+cppcheck/dd4hep/\+D\+D\+G4/include/\+D\+D\+G4/\hyperlink{_geant4_stepping_action_8h}{Geant4\+Stepping\+Action.\+h}\item 
/afs/cern.\+ch/user/m/mpetric/nightly\+\_\+cppcheck/dd4hep/\+D\+D\+G4/src/\hyperlink{_geant4_stepping_action_8cpp}{Geant4\+Stepping\+Action.\+cpp}\end{DoxyCompactItemize}
