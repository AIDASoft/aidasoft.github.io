\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence}{
\section{DD4hep::Simulation::Geant4UserInitializationSequence Class Reference}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence}\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
}


Class to orchestrate a modular initializion of a multi-\/ or single threaded Geant4 application.  


{\ttfamily \#include $<$Geant4UserInitialization.h$>$}Inheritance diagram for DD4hep::Simulation::Geant4UserInitializationSequence::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3cm]{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a98a41e1dc518fea9eb882df8b2f62e0d}{Geant4UserInitializationSequence} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4Context} $\ast$c, const std::string \&nam)
\begin{DoxyCompactList}\small\item\em Standard constructor. \item\end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_aa593a6ec771aea3c621f4da1cb2beaf6}{$\sim$Geant4UserInitializationSequence} ()
\begin{DoxyCompactList}\small\item\em Default destructor. \item\end{DoxyCompactList}\item 
{\footnotesize template$<$typename Q , typename T $>$ }\\void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_aa65113bb4e4f4b3d775dcdc9cc30b4b8}{build} (Q $\ast$p, void(T::$\ast$f)())
\begin{DoxyCompactList}\small\item\em Register callback to setup worker. Types Q and \hyperlink{class_t}{T} must be polymorph! \item\end{DoxyCompactList}\item 
{\footnotesize template$<$typename Q , typename T $>$ }\\void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a7dfd58583e86652aaf675c6db82ff39c}{buildMaster} (Q $\ast$p, void(T::$\ast$f)())
\begin{DoxyCompactList}\small\item\em Register callback to setup master. Types Q and \hyperlink{class_t}{T} must be polymorph! \item\end{DoxyCompactList}\item 
void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a00f01d23b874b3c99c6877ce01b6b702}{adopt} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization}{Geant4UserInitialization} $\ast$action)
\begin{DoxyCompactList}\small\item\em Add an actor responding to all callbacks. Sequence takes ownership. \item\end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_ae73630ce8b3759e3793dc58f585a291b}{updateContext} (\hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_context}{Geant4Context} $\ast$ctxt)
\begin{DoxyCompactList}\small\item\em Set client context. \item\end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a2c9eb901f2697c8f9ba428b49b7252ac}{build} () const 
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} function to build setup for the MT worker thread. \item\end{DoxyCompactList}\item 
virtual void \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_aec8d9a6016af25e06531351ba0f49418}{buildMaster} () const 
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} function to build setup for the MT master thread. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_d_d4hep_1_1_callback_sequence}{CallbackSequence} \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a3a7aa9cf5219734877b0ab71da54bb29}{m\_\-masterCalls}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} sequence to initialize the thread master. \item\end{DoxyCompactList}\item 
\hyperlink{struct_d_d4hep_1_1_callback_sequence}{CallbackSequence} \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a85de09bfc3a69485391fb549a457cf7e}{m\_\-workerCalls}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_callback}{Callback} sequence to initialize worker elements. \item\end{DoxyCompactList}\item 
Actors$<$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization}{Geant4UserInitialization} $>$ \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a9239c0d702fcde97c6bc6387af30c09e}{m\_\-actors}
\begin{DoxyCompactList}\small\item\em The list of action objects to be called. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class to orchestrate a modular initializion of a multi-\/ or single threaded Geant4 application. \begin{DoxyAuthor}{Author}
M.Frank 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.0 
\end{DoxyVersion}


Definition at line 53 of file Geant4UserInitialization.h.

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a98a41e1dc518fea9eb882df8b2f62e0d}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!Geant4UserInitializationSequence@{Geant4UserInitializationSequence}}
\index{Geant4UserInitializationSequence@{Geant4UserInitializationSequence}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{Geant4UserInitializationSequence}]{\setlength{\rightskip}{0pt plus 5cm}DD4hep::Simulation::Geant4UserInitializationSequence::Geant4UserInitializationSequence ({\bf Geant4Context} $\ast$ {\em c}, \/  const std::string \& {\em nam})}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a98a41e1dc518fea9eb882df8b2f62e0d}


Standard constructor. \hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_aa593a6ec771aea3c621f4da1cb2beaf6}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!$\sim$Geant4UserInitializationSequence@{$\sim$Geant4UserInitializationSequence}}
\index{$\sim$Geant4UserInitializationSequence@{$\sim$Geant4UserInitializationSequence}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{$\sim$Geant4UserInitializationSequence}]{\setlength{\rightskip}{0pt plus 5cm}Geant4UserInitializationSequence::$\sim$Geant4UserInitializationSequence ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_aa593a6ec771aea3c621f4da1cb2beaf6}


Default destructor. 

Definition at line 53 of file Geant4UserInitialization.cpp.

References DD4hep::CallbackSequence::clear(), DD4hep::InstanceCount::decrement(), m\_\-actors, m\_\-masterCalls, m\_\-workerCalls, and DD4hep::Simulation::Geant4Action::release().

\subsection{Member Function Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a00f01d23b874b3c99c6877ce01b6b702}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!adopt@{adopt}}
\index{adopt@{adopt}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{adopt}]{\setlength{\rightskip}{0pt plus 5cm}void Geant4UserInitializationSequence::adopt ({\bf Geant4UserInitialization} $\ast$ {\em action})}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a00f01d23b874b3c99c6877ce01b6b702}


Add an actor responding to all callbacks. Sequence takes ownership. 

Definition at line 62 of file Geant4UserInitialization.cpp.

References DD4hep::Simulation::Geant4Action::addRef(), and m\_\-actors.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a2c9eb901f2697c8f9ba428b49b7252ac}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!build@{build}}
\index{build@{build}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{build}]{\setlength{\rightskip}{0pt plus 5cm}void Geant4UserInitializationSequence::build () const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a2c9eb901f2697c8f9ba428b49b7252ac}


\hyperlink{class_d_d4hep_1_1_callback}{Callback} function to build setup for the MT worker thread. 

Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_a6313dbf2fcee89a5a9cb60d3cef4ba45}{DD4hep::Simulation::Geant4UserInitialization}.

Definition at line 72 of file Geant4UserInitialization.cpp.

References DD4hep::Simulation::Geant4UserInitialization::build(), m\_\-actors, and m\_\-workerCalls.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_aa65113bb4e4f4b3d775dcdc9cc30b4b8}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!build@{build}}
\index{build@{build}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{build}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Q , typename T $>$ void DD4hep::Simulation::Geant4UserInitializationSequence::build (Q $\ast$ {\em p}, \/  void(T::$\ast$)() {\em f})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_aa65113bb4e4f4b3d775dcdc9cc30b4b8}


Register callback to setup worker. Types Q and \hyperlink{class_t}{T} must be polymorph! 

Definition at line 68 of file Geant4UserInitialization.h.

References DD4hep::CallbackSequence::add(), and m\_\-workerCalls.

Referenced by DD4hep::Simulation::Geant4UserActionInitialization::Build().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_aec8d9a6016af25e06531351ba0f49418}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!buildMaster@{buildMaster}}
\index{buildMaster@{buildMaster}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{buildMaster}]{\setlength{\rightskip}{0pt plus 5cm}void Geant4UserInitializationSequence::buildMaster () const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_aec8d9a6016af25e06531351ba0f49418}


\hyperlink{class_d_d4hep_1_1_callback}{Callback} function to build setup for the MT master thread. 

Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_a382bfc9f7dd55d3c0c91f4bfbfefe1d0}{DD4hep::Simulation::Geant4UserInitialization}.

Definition at line 78 of file Geant4UserInitialization.cpp.

References DD4hep::Simulation::Geant4UserInitialization::buildMaster(), m\_\-actors, and m\_\-masterCalls.\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a7dfd58583e86652aaf675c6db82ff39c}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!buildMaster@{buildMaster}}
\index{buildMaster@{buildMaster}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{buildMaster}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Q , typename T $>$ void DD4hep::Simulation::Geant4UserInitializationSequence::buildMaster (Q $\ast$ {\em p}, \/  void(T::$\ast$)() {\em f})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a7dfd58583e86652aaf675c6db82ff39c}


Register callback to setup master. Types Q and \hyperlink{class_t}{T} must be polymorph! 

Definition at line 72 of file Geant4UserInitialization.h.

References DD4hep::CallbackSequence::add(), and m\_\-masterCalls.

Referenced by DD4hep::Simulation::Geant4UserActionInitialization::BuildForMaster().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_ae73630ce8b3759e3793dc58f585a291b}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!updateContext@{updateContext}}
\index{updateContext@{updateContext}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{updateContext}]{\setlength{\rightskip}{0pt plus 5cm}void Geant4UserInitializationSequence::updateContext ({\bf Geant4Context} $\ast$ {\em ctxt})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_ae73630ce8b3759e3793dc58f585a291b}


Set client context. 

Reimplemented from \hyperlink{class_d_d4hep_1_1_simulation_1_1_geant4_action_ae3b9daf2af881df956c46568c0743313}{DD4hep::Simulation::Geant4Action}.

Definition at line 84 of file Geant4UserInitialization.cpp.

References m\_\-actors, and DD4hep::Simulation::Geant4Action::m\_\-context.

Referenced by DD4hep::Simulation::Geant4UserActionInitialization::Build().

\subsection{Member Data Documentation}
\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a9239c0d702fcde97c6bc6387af30c09e}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!m\_\-actors@{m\_\-actors}}
\index{m\_\-actors@{m\_\-actors}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{m\_\-actors}]{\setlength{\rightskip}{0pt plus 5cm}Actors$<${\bf Geant4UserInitialization}$>$ {\bf DD4hep::Simulation::Geant4UserInitializationSequence::m\_\-actors}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a9239c0d702fcde97c6bc6387af30c09e}


The list of action objects to be called. 

Definition at line 60 of file Geant4UserInitialization.h.

Referenced by adopt(), build(), buildMaster(), updateContext(), and $\sim$Geant4UserInitializationSequence().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a3a7aa9cf5219734877b0ab71da54bb29}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!m\_\-masterCalls@{m\_\-masterCalls}}
\index{m\_\-masterCalls@{m\_\-masterCalls}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{m\_\-masterCalls}]{\setlength{\rightskip}{0pt plus 5cm}{\bf CallbackSequence} {\bf DD4hep::Simulation::Geant4UserInitializationSequence::m\_\-masterCalls}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a3a7aa9cf5219734877b0ab71da54bb29}


\hyperlink{class_d_d4hep_1_1_callback}{Callback} sequence to initialize the thread master. 

Definition at line 56 of file Geant4UserInitialization.h.

Referenced by buildMaster(), and $\sim$Geant4UserInitializationSequence().\hypertarget{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a85de09bfc3a69485391fb549a457cf7e}{
\index{DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}!m\_\-workerCalls@{m\_\-workerCalls}}
\index{m\_\-workerCalls@{m\_\-workerCalls}!DD4hep::Simulation::Geant4UserInitializationSequence@{DD4hep::Simulation::Geant4UserInitializationSequence}}
\subsubsection[{m\_\-workerCalls}]{\setlength{\rightskip}{0pt plus 5cm}{\bf CallbackSequence} {\bf DD4hep::Simulation::Geant4UserInitializationSequence::m\_\-workerCalls}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_simulation_1_1_geant4_user_initialization_sequence_a85de09bfc3a69485391fb549a457cf7e}


\hyperlink{class_d_d4hep_1_1_callback}{Callback} sequence to initialize worker elements. 

Definition at line 58 of file Geant4UserInitialization.h.

Referenced by build(), and $\sim$Geant4UserInitializationSequence().

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDG4/include/DDG4/\hyperlink{_geant4_user_initialization_8h}{Geant4UserInitialization.h}\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDG4/src/\hyperlink{_geant4_user_initialization_8cpp}{Geant4UserInitialization.cpp}\end{DoxyCompactItemize}
