\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool}{
\section{DD4hep::Conditions::ConditionsIOVPool Class Reference}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool}\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
}


Pool of conditions satisfying one \hyperlink{class_d_d4hep_1_1_i_o_v}{IOV} type (epoch, run, fill, etc).  


{\ttfamily \#include $<$ConditionsIOVPool.h$>$}\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_pool}{ConditionsPool} $\ast$ \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a41146867e220b8f23ef69afe5f724914}{Element}
\item 
typedef std::map$<$ \hyperlink{class_d_d4hep_1_1_i_o_v_a07cb46dc875296dc9cccf4ff370104ae}{IOV::Key}, \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_pool}{Element} $>$ \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_aa011c5cc19bfb761be62adf9a88b5ee9}{Elements}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a8ccf22020bacb07028aea997d172c7d0}{ConditionsIOVPool} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \item\end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a58a9a1f3f6d282fa24c00010193da303}{$\sim$ConditionsIOVPool} ()
\begin{DoxyCompactList}\small\item\em Default destructor. \item\end{DoxyCompactList}\item 
void \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a75f43e7cd7cbc5c07afb0aca2b241a41}{select} (\hyperlink{class_d_d4hep_1_1_conditions_1_1_condition_a7528efa762e8cc072ef80ea67c3531f9}{Condition::key\_\-type} key, const \hyperlink{class_d_d4hep_1_1_i_o_v}{Condition::iov\_\-type} \&req\_\-validity, \hyperlink{namespace_d_d4hep_1_1_conditions_ae765f0140a33973a430280f02b6062f4}{RangeConditions} \&result)
\begin{DoxyCompactList}\small\item\em Retrieve a condition set given the key according to their validity. \item\end{DoxyCompactList}\item 
void \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a09fb206aaa3c86d249598b7eaa58b322}{selectRange} (\hyperlink{class_d_d4hep_1_1_conditions_1_1_condition_a7528efa762e8cc072ef80ea67c3531f9}{Condition::key\_\-type} key, const \hyperlink{class_d_d4hep_1_1_i_o_v}{Condition::iov\_\-type} \&req\_\-validity, \hyperlink{namespace_d_d4hep_1_1_conditions_ae765f0140a33973a430280f02b6062f4}{RangeConditions} \&result)
\begin{DoxyCompactList}\small\item\em Retrieve a condition set given the key according to their validity. \item\end{DoxyCompactList}\item 
void \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_ae7ff2198bcdc12e8be275d1aacc5cd0b}{select} (const \hyperlink{class_d_d4hep_1_1_i_o_v}{Condition::iov\_\-type} \&required\_\-validity, \hyperlink{namespace_d_d4hep_1_1_conditions_ae765f0140a33973a430280f02b6062f4}{RangeConditions} \&valid, \hyperlink{namespace_d_d4hep_1_1_conditions_ae765f0140a33973a430280f02b6062f4}{RangeConditions} \&expired, \hyperlink{class_d_d4hep_1_1_i_o_v}{Condition::iov\_\-type} \&conditions\_\-validity)
\begin{DoxyCompactList}\small\item\em Select all ACTIVE conditions, which do no longer match the \hyperlink{class_d_d4hep_1_1_i_o_v}{IOV} requirement. \item\end{DoxyCompactList}\item 
int \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a3adc9fa6a89d3195b91b5fb11236f360}{clean} (int max\_\-age)
\begin{DoxyCompactList}\small\item\em Remove all key based pools with an age beyon the minimum age. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_aa011c5cc19bfb761be62adf9a88b5ee9}{Elements} \hyperlink{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_adf0b418e513769d438a8c91d766e86f4}{elements}
\begin{DoxyCompactList}\small\item\em \hyperlink{class_d_d4hep_1_1_conditions_1_1_container}{Container} of \hyperlink{class_d_d4hep_1_1_i_o_v}{IOV} dependent conditions pools. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Pool of conditions satisfying one \hyperlink{class_d_d4hep_1_1_i_o_v}{IOV} type (epoch, run, fill, etc). Purely internal class to the conditions manager implementation. Not at all to be accessed by clients!

\begin{DoxyAuthor}{Author}
M.Frank 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.0 
\end{DoxyVersion}


Definition at line 41 of file ConditionsIOVPool.h.

\subsection{Member Typedef Documentation}
\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a41146867e220b8f23ef69afe5f724914}{
\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}!Element@{Element}}
\index{Element@{Element}!DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
\subsubsection[{Element}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf ConditionsPool}$\ast$ {\bf DD4hep::Conditions::ConditionsIOVPool::Element}}}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a41146867e220b8f23ef69afe5f724914}


Definition at line 43 of file ConditionsIOVPool.h.\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_aa011c5cc19bfb761be62adf9a88b5ee9}{
\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}!Elements@{Elements}}
\index{Elements@{Elements}!DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
\subsubsection[{Elements}]{\setlength{\rightskip}{0pt plus 5cm}typedef std::map$<${\bf IOV::Key}, {\bf Element} $>$ {\bf DD4hep::Conditions::ConditionsIOVPool::Elements}}}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_aa011c5cc19bfb761be62adf9a88b5ee9}


Definition at line 44 of file ConditionsIOVPool.h.

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a8ccf22020bacb07028aea997d172c7d0}{
\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}!ConditionsIOVPool@{ConditionsIOVPool}}
\index{ConditionsIOVPool@{ConditionsIOVPool}!DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
\subsubsection[{ConditionsIOVPool}]{\setlength{\rightskip}{0pt plus 5cm}ConditionsIOVPool::ConditionsIOVPool ()}}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a8ccf22020bacb07028aea997d172c7d0}


Default constructor. 

Definition at line 26 of file ConditionsIOVPool.cpp.

References DD4hep::InstanceCount::increment().\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a58a9a1f3f6d282fa24c00010193da303}{
\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}!$\sim$ConditionsIOVPool@{$\sim$ConditionsIOVPool}}
\index{$\sim$ConditionsIOVPool@{$\sim$ConditionsIOVPool}!DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
\subsubsection[{$\sim$ConditionsIOVPool}]{\setlength{\rightskip}{0pt plus 5cm}ConditionsIOVPool::$\sim$ConditionsIOVPool ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a58a9a1f3f6d282fa24c00010193da303}


Default destructor. 

Definition at line 31 of file ConditionsIOVPool.cpp.

References clean(), and DD4hep::InstanceCount::decrement().

\subsection{Member Function Documentation}
\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a3adc9fa6a89d3195b91b5fb11236f360}{
\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}!clean@{clean}}
\index{clean@{clean}!DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
\subsubsection[{clean}]{\setlength{\rightskip}{0pt plus 5cm}int ConditionsIOVPool::clean (int {\em max\_\-age})}}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a3adc9fa6a89d3195b91b5fb11236f360}


Remove all key based pools with an age beyon the minimum age. \begin{DoxyReturn}{Returns}
Number of conditions cleaned up and removed. 
\end{DoxyReturn}


Definition at line 66 of file ConditionsIOVPool.cpp.

References DD4hep::Conditions::ConditionsPool::age\_\-value, DD4hep::Conditions::ConditionsPool::count(), elements, DD4hep::Conditions::ConditionsPool::insert(), DD4hep::Conditions::ConditionsPool::iov, DD4hep::IOV::keyData, and DD4hep::Conditions::ConditionsPool::print().

Referenced by DD4hep::Conditions::ConditionsManagerObject::clean(), DD4hep::Conditions::ConditionsManagerObject::clear(), and $\sim$ConditionsIOVPool().\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_ae7ff2198bcdc12e8be275d1aacc5cd0b}{
\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}!select@{select}}
\index{select@{select}!DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}void ConditionsIOVPool::select (const {\bf Condition::iov\_\-type} \& {\em required\_\-validity}, \/  {\bf RangeConditions} \& {\em valid}, \/  {\bf RangeConditions} \& {\em expired}, \/  {\bf Condition::iov\_\-type} \& {\em conditions\_\-validity})}}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_ae7ff2198bcdc12e8be275d1aacc5cd0b}


Select all ACTIVE conditions, which do no longer match the \hyperlink{class_d_d4hep_1_1_i_o_v}{IOV} requirement. 

Definition at line 84 of file ConditionsIOVPool.cpp.

References DD4hep::Conditions::ConditionsPool::AGE\_\-NONE, DD4hep::Conditions::ConditionsPool::age\_\-value, elements, DD4hep::IOV::iov\_\-intersection(), DD4hep::IOV::key(), DD4hep::IOV::key\_\-contains\_\-range(), and DD4hep::Conditions::ConditionsPool::select\_\-used().\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a75f43e7cd7cbc5c07afb0aca2b241a41}{
\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}!select@{select}}
\index{select@{select}!DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}void ConditionsIOVPool::select ({\bf Condition::key\_\-type} {\em key}, \/  const {\bf Condition::iov\_\-type} \& {\em req\_\-validity}, \/  {\bf RangeConditions} \& {\em result})}}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a75f43e7cd7cbc5c07afb0aca2b241a41}


Retrieve a condition set given the key according to their validity. 

Definition at line 36 of file ConditionsIOVPool.cpp.

References elements, DD4hep::IOV::key(), and DD4hep::IOV::key\_\-contains\_\-range().\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a09fb206aaa3c86d249598b7eaa58b322}{
\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}!selectRange@{selectRange}}
\index{selectRange@{selectRange}!DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
\subsubsection[{selectRange}]{\setlength{\rightskip}{0pt plus 5cm}void ConditionsIOVPool::selectRange ({\bf Condition::key\_\-type} {\em key}, \/  const {\bf Condition::iov\_\-type} \& {\em req\_\-validity}, \/  {\bf RangeConditions} \& {\em result})}}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_a09fb206aaa3c86d249598b7eaa58b322}


Retrieve a condition set given the key according to their validity. 

Definition at line 48 of file ConditionsIOVPool.cpp.

References elements, DD4hep::IOV::key(), DD4hep::IOV::key\_\-is\_\-contained(), DD4hep::IOV::key\_\-overlaps\_\-higher\_\-end(), and DD4hep::IOV::key\_\-overlaps\_\-lower\_\-end().

\subsection{Member Data Documentation}
\hypertarget{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_adf0b418e513769d438a8c91d766e86f4}{
\index{DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}!elements@{elements}}
\index{elements@{elements}!DD4hep::Conditions::ConditionsIOVPool@{DD4hep::Conditions::ConditionsIOVPool}}
\subsubsection[{elements}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Elements} {\bf DD4hep::Conditions::ConditionsIOVPool::elements}}}
\label{class_d_d4hep_1_1_conditions_1_1_conditions_i_o_v_pool_adf0b418e513769d438a8c91d766e86f4}


\hyperlink{class_d_d4hep_1_1_conditions_1_1_container}{Container} of \hyperlink{class_d_d4hep_1_1_i_o_v}{IOV} dependent conditions pools. 

Definition at line 47 of file ConditionsIOVPool.h.

Referenced by clean(), DD4hep::Conditions::Operators::collectAllConditions(), DD4hep::Conditions::Test::TestEnv::dump\_\-conditions\_\-pools(), DD4hep::Conditions::ConditionsManagerObject::registerIOV(), select(), and selectRange().

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDCond/include/DDCond/\hyperlink{_conditions_i_o_v_pool_8h}{ConditionsIOVPool.h}\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDCond/src/\hyperlink{_conditions_i_o_v_pool_8cpp}{ConditionsIOVPool.cpp}\end{DoxyCompactItemize}
