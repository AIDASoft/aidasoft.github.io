\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer}{
\section{DD4hep::Alignments::GlobalAlignmentWriter Class Reference}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer}\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
}


Write aligment data to \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} data file.  


{\ttfamily \#include $<$GlobalAlignmentWriter.h$>$}\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a11a20b65cc5391ee6b6f77cb38fb5703}{GlobalAlignmentWriter} (LCDD \&lcdd)
\begin{DoxyCompactList}\small\item\em Initializing Constructor. \item\end{DoxyCompactList}\item 
virtual \hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_ac88d52ba1f9f66cd93b65b9464c9fd92}{$\sim$GlobalAlignmentWriter} ()
\begin{DoxyCompactList}\small\item\em Standard destructor. \item\end{DoxyCompactList}\item 
\hyperlink{class_d_d4hep_1_1_x_m_l_1_1_document}{XML::Document} \hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a5e57677f6c3ff8a881a1eb52bf296958}{dump} (\hyperlink{namespace_d_d4hep_a21dd977310ff183f61ca6ae14b59a989}{DetElement} element, bool enable\_\-transactions=false) const 
\begin{DoxyCompactList}\small\item\em Dump one full DetElement subtree into a newly created document. \item\end{DoxyCompactList}\item 
\hyperlink{class_d_d4hep_1_1_x_m_l_1_1_element}{XML::Element} \hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a1cd63b0381fcc67b4550630f61529ceb}{scan} (\hyperlink{class_d_d4hep_1_1_x_m_l_1_1_document}{XML::Document} doc, \hyperlink{namespace_d_d4hep_a21dd977310ff183f61ca6ae14b59a989}{DetElement} element) const 
\begin{DoxyCompactList}\small\item\em Scan one DetElement structure and return an \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} element containing the alignment in this subtree. \item\end{DoxyCompactList}\item 
\hyperlink{class_d_d4hep_1_1_x_m_l_1_1_element}{XML::Element} \hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_adbbbaaf880f8527c01332e7c50a304d3}{createElement} (\hyperlink{class_d_d4hep_1_1_x_m_l_1_1_document}{XML::Document} doc, \hyperlink{namespace_d_d4hep_a21dd977310ff183f61ca6ae14b59a989}{DetElement} element) const 
\begin{DoxyCompactList}\small\item\em Create the element corresponding to one single detector element without children. \item\end{DoxyCompactList}\item 
long \hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a77a80a0fe5b34402eccd45e9d1fdd420}{write} (\hyperlink{class_d_d4hep_1_1_x_m_l_1_1_document}{XML::Document} doc, const std::string \&output) const 
\begin{DoxyCompactList}\small\item\em Write the \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} document structure to a file. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_ad30459403177b3f6a4fd0e6a4f6d5165}{addNode} (\hyperlink{class_d_d4hep_1_1_x_m_l_1_1_element}{XML::Element} elt, \hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment}{GlobalAlignment} a) const 
\begin{DoxyCompactList}\small\item\em Add single alignment node to the \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} document. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
LCDD \& \hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a831748e7145b8b3b95da4e0b87a49f5f}{m\_\-lcdd}
\begin{DoxyCompactList}\small\item\em Reference to detector description. \item\end{DoxyCompactList}\item 
\hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_cache}{GlobalAlignmentCache} $\ast$ \hyperlink{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a467b49352cf36fef9e92b1dfa407edec}{m\_\-cache}
\begin{DoxyCompactList}\small\item\em Reference to the alignment cache. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Write aligment data to \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} data file. \begin{DoxyAuthor}{Author}
M.Frank 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.0 
\end{DoxyVersion}


Definition at line 37 of file GlobalAlignmentWriter.h.

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a11a20b65cc5391ee6b6f77cb38fb5703}{
\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}!GlobalAlignmentWriter@{GlobalAlignmentWriter}}
\index{GlobalAlignmentWriter@{GlobalAlignmentWriter}!DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
\subsubsection[{GlobalAlignmentWriter}]{\setlength{\rightskip}{0pt plus 5cm}GlobalAlignmentWriter::GlobalAlignmentWriter (LCDD \& {\em lcdd})}}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a11a20b65cc5391ee6b6f77cb38fb5703}


Initializing Constructor. 

Definition at line 39 of file GlobalAlignmentWriter.cpp.

References DD4hep::Alignments::GlobalAlignmentCache::addRef(), and m\_\-cache.\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_ac88d52ba1f9f66cd93b65b9464c9fd92}{
\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}!$\sim$GlobalAlignmentWriter@{$\sim$GlobalAlignmentWriter}}
\index{$\sim$GlobalAlignmentWriter@{$\sim$GlobalAlignmentWriter}!DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
\subsubsection[{$\sim$GlobalAlignmentWriter}]{\setlength{\rightskip}{0pt plus 5cm}GlobalAlignmentWriter::$\sim$GlobalAlignmentWriter ()\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_ac88d52ba1f9f66cd93b65b9464c9fd92}


Standard destructor. 

Definition at line 47 of file GlobalAlignmentWriter.cpp.

References m\_\-cache, and DD4hep::Alignments::GlobalAlignmentCache::release().

\subsection{Member Function Documentation}
\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_ad30459403177b3f6a4fd0e6a4f6d5165}{
\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}!addNode@{addNode}}
\index{addNode@{addNode}!DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
\subsubsection[{addNode}]{\setlength{\rightskip}{0pt plus 5cm}void GlobalAlignmentWriter::addNode ({\bf XML::Element} {\em elt}, \/  {\bf GlobalAlignment} {\em a}) const\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_ad30459403177b3f6a4fd0e6a4f6d5165}


Add single alignment node to the \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} document. 

Definition at line 73 of file GlobalAlignmentWriter.cpp.

References \_\-ALU, \_\-U, DD4hep::Geometry::\_\-XYZangles(), DD4hep::XML::Element::append(), DD4hep::XML::Element::document(), DD4hep::INFO, DD4hep::printout(), and DD4hep::XML::Element::setAttr().

Referenced by createElement().\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_adbbbaaf880f8527c01332e7c50a304d3}{
\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}!createElement@{createElement}}
\index{createElement@{createElement}!DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
\subsubsection[{createElement}]{\setlength{\rightskip}{0pt plus 5cm}{\bf XML::Element} GlobalAlignmentWriter::createElement ({\bf XML::Document} {\em doc}, \/  {\bf DetElement} {\em element}) const}}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_adbbbaaf880f8527c01332e7c50a304d3}


Create the element corresponding to one single detector element without children. 

Definition at line 52 of file GlobalAlignmentWriter.cpp.

References \_\-ALU, \_\-U, addNode(), DD4hep::XML::Element::append(), DD4hep::Handle$<$ T $>$::isValid(), DD4hep::XML::Element::setAttr(), and DD4hep::Alignments::GlobalDetectorAlignment::volumeAlignments().

Referenced by scan().\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a5e57677f6c3ff8a881a1eb52bf296958}{
\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}!dump@{dump}}
\index{dump@{dump}!DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
\subsubsection[{dump}]{\setlength{\rightskip}{0pt plus 5cm}{\bf XML::Document} GlobalAlignmentWriter::dump ({\bf DetElement} {\em element}, \/  bool {\em enable\_\-transactions} = {\ttfamily false}) const}}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a5e57677f6c3ff8a881a1eb52bf296958}


Dump one full DetElement subtree into a newly created document. Dump the tree content into a \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} document structure. 

Definition at line 128 of file GlobalAlignmentWriter.cpp.

References \_\-ALU, DD4hep::XML::Element::append(), DD4hep::XML::DocumentHandler::create(), DD4hep::XML::Document::root(), scan(), and XML\_\-IMPLEMENTATION\_\-TYPE.\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a1cd63b0381fcc67b4550630f61529ceb}{
\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}!scan@{scan}}
\index{scan@{scan}!DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
\subsubsection[{scan}]{\setlength{\rightskip}{0pt plus 5cm}{\bf XML::Element} GlobalAlignmentWriter::scan ({\bf XML::Document} {\em doc}, \/  {\bf DetElement} {\em element}) const}}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a1cd63b0381fcc67b4550630f61529ceb}


Scan one DetElement structure and return an \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} element containing the alignment in this subtree. Scan a DetElement subtree and add on the fly the \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} entries. 

Definition at line 111 of file GlobalAlignmentWriter.cpp.

References createElement(), and DD4hep::Handle$<$ T $>$::isValid().

Referenced by dump().\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a77a80a0fe5b34402eccd45e9d1fdd420}{
\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}!write@{write}}
\index{write@{write}!DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}long DD4hep::Alignments::GlobalAlignmentWriter::write ({\bf XML::Document} {\em doc}, \/  const std::string \& {\em output}) const}}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a77a80a0fe5b34402eccd45e9d1fdd420}


Write the \hyperlink{namespace_d_d4hep_1_1_x_m_l}{XML} document structure to a file. 

\subsection{Member Data Documentation}
\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a467b49352cf36fef9e92b1dfa407edec}{
\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}!m\_\-cache@{m\_\-cache}}
\index{m\_\-cache@{m\_\-cache}!DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
\subsubsection[{m\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf GlobalAlignmentCache}$\ast$ {\bf DD4hep::Alignments::GlobalAlignmentWriter::m\_\-cache}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a467b49352cf36fef9e92b1dfa407edec}


Reference to the alignment cache. 

Definition at line 42 of file GlobalAlignmentWriter.h.

Referenced by GlobalAlignmentWriter(), and $\sim$GlobalAlignmentWriter().\hypertarget{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a831748e7145b8b3b95da4e0b87a49f5f}{
\index{DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}!m\_\-lcdd@{m\_\-lcdd}}
\index{m\_\-lcdd@{m\_\-lcdd}!DD4hep::Alignments::GlobalAlignmentWriter@{DD4hep::Alignments::GlobalAlignmentWriter}}
\subsubsection[{m\_\-lcdd}]{\setlength{\rightskip}{0pt plus 5cm}LCDD\& {\bf DD4hep::Alignments::GlobalAlignmentWriter::m\_\-lcdd}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{class_d_d4hep_1_1_alignments_1_1_global_alignment_writer_a831748e7145b8b3b95da4e0b87a49f5f}


Reference to detector description. 

Definition at line 40 of file GlobalAlignmentWriter.h.

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDAlign/include/DDAlign/\hyperlink{_global_alignment_writer_8h}{GlobalAlignmentWriter.h}\item 
/afs/cern.ch/user/m/mpetric/nightly\_\-cppcheck/dd4hep/DDAlign/src/\hyperlink{_global_alignment_writer_8cpp}{GlobalAlignmentWriter.cpp}\end{DoxyCompactItemize}
